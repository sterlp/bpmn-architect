(self.webpackChunkbpmn_architect=self.webpackChunkbpmn_architect||[]).push([[179],{659:(qo,rd,Ko)=>{"use strict";function Dt(n){return"function"==typeof n}function Me(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const So=Me(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,o)=>`${o+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function zn(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class qt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const a of e)a.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(Dt(i))try{i()}catch(a){t=a instanceof So?a.errors:[a]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const a of o)try{pr(a)}catch(d){t=t??[],d instanceof So?t=[...t,...d.errors]:t.push(d)}}if(t)throw new So(t)}}add(t){var e;if(t&&t!==this)if(this.closed)pr(t);else{if(t instanceof qt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&zn(e,t)}remove(t){const{_finalizers:e}=this;e&&zn(e,t),t instanceof qt&&t._removeParent(this)}}qt.EMPTY=(()=>{const n=new qt;return n.closed=!0,n})();const hr=qt.EMPTY;function Ti(n){return n instanceof qt||n&&"closed"in n&&Dt(n.remove)&&Dt(n.add)&&Dt(n.unsubscribe)}function pr(n){Dt(n)?n():n.unsubscribe()}const _n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ht={setTimeout(n,t,...e){const{delegate:i}=Ht;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Ht;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ae(n){Ht.setTimeout(()=>{const{onUnhandledError:t}=_n;if(!t)throw n;t(n)})}function on(){}const Re=Sr("C",void 0,void 0);function Sr(n,t,e){return{kind:n,value:t,error:e}}let wt=null;function Wa(n){if(_n.useDeprecatedSynchronousErrorHandling){const t=!wt;if(t&&(wt={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=wt;if(wt=null,e)throw i}}else n()}class q extends qt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ti(t)&&t.add(this)):this.destination=od}static create(t,e,i){return new To(t,e,i)}next(t){this.isStopped?Nu(function Mr(n){return Sr("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Nu(function mn(n){return Sr("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Nu(Re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const K1=Function.prototype.bind;function mr(n,t){return K1.call(n,t)}class qa{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){ii(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){ii(i)}else ii(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){ii(e)}}}class To extends q{constructor(t,e,i){let o;if(super(),Dt(t)||!t)o={next:t??void 0,error:e??void 0,complete:i??void 0};else{let a;this&&_n.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&mr(t.next,a),error:t.error&&mr(t.error,a),complete:t.complete&&mr(t.complete,a)}):o=t}this.destination=new qa(o)}}function ii(n){_n.useDeprecatedSynchronousErrorHandling?function pt(n){_n.useDeprecatedSynchronousErrorHandling&&wt&&(wt.errorThrown=!0,wt.error=n)}(n):Ae(n)}function Nu(n,t){const{onStoppedNotification:e}=_n;e&&Ht.setTimeout(()=>e(n,t))}const od={closed:!0,next:on,error:function Zp(n){throw n},complete:on},Qp="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ka(n){return n}function Ao(n){return 0===n.length?Ka:1===n.length?n[0]:function(e){return n.reduce((i,o)=>o(i),e)}}let sn=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,o){const a=function X1(n){return n&&n instanceof q||function Y1(n){return n&&Dt(n.next)&&Dt(n.error)&&Dt(n.complete)}(n)&&Ti(n)}(e)?e:new To(e,i,o);return Wa(()=>{const{operator:d,source:p}=this;a.add(d?d.call(a,p):p?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Jp(i))((o,a)=>{const d=new To({next:p=>{try{e(p)}catch(g){a(g),d.unsubscribe()}},error:a,complete:o});this.subscribe(d)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Qp](){return this}pipe(...e){return Ao(e)(this)}toPromise(e){return new(e=Jp(e))((i,o)=>{let a;this.subscribe(d=>a=d,d=>o(d),()=>i(a))})}}return n.create=t=>new n(t),n})();function Jp(n){var t;return null!==(t=n??_n.Promise)&&void 0!==t?t:Promise}const N0=Me(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ne=(()=>{class n extends sn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new ee(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new N0}next(e){Wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){Wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:o,observers:a}=this;return i||o?hr:(this.currentObservers=null,a.push(e),new qt(()=>{this.currentObservers=null,zn(a,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:o,isStopped:a}=this;i?e.error(o):a&&e.complete()}asObservable(){const e=new sn;return e.source=this,e}}return n.create=(t,e)=>new ee(t,e),n})();class ee extends Ne{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:hr}}function Ro(n){return Dt(n?.lift)}function an(n){return t=>{if(Ro(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Bn(n,t,e,i,o){return new Z1(n,t,e,i,o)}class Z1 extends q{constructor(t,e,i,o,a,d){super(t),this.onFinalize=a,this.shouldUnsubscribe=d,this._next=e?function(p){try{e(p)}catch(g){t.error(g)}}:super._next,this._error=o?function(p){try{o(p)}catch(g){t.error(g)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(p){t.error(p)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function et(n,t){return an((e,i)=>{let o=0;e.subscribe(Bn(i,a=>{i.next(n.call(t,a,o++))}))})}function Ke(n){return this instanceof Ke?(this.v=n,this):new Ke(n)}function B0(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=e.apply(n,t||[]),a=[];return o={},d("next"),d("throw"),d("return"),o[Symbol.asyncIterator]=function(){return this},o;function d(S){i[S]&&(o[S]=function(O){return new Promise(function(V,j){a.push([S,O,V,j])>1||p(S,O)})})}function p(S,O){try{!function g(S){S.value instanceof Ke?Promise.resolve(S.value.v).then(y,w):D(a[0][2],S)}(i[S](O))}catch(V){D(a[0][3],V)}}function y(S){p("next",S)}function w(S){p("throw",S)}function D(S,O){S(O),a.shift(),a.length&&p(a[0][0],a[0][1])}}function Io(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function vs(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(a){e[a]=n[a]&&function(d){return new Promise(function(p,g){!function o(a,d,p,g){Promise.resolve(g).then(function(y){a({value:y,done:p})},d)}(p,g,(d=n[a](d)).done,d.value)})}}}const nm=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function rt(n){return Dt(n?.then)}function h_(n){return Dt(n[Qp])}function p_(n){return Symbol.asyncIterator&&Dt(n?.[Symbol.asyncIterator])}function ve(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Nt=function tk(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ia(n){return Dt(n?.[Nt])}function $n(n){return B0(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:o}=yield Ke(e.read());if(o)return yield Ke(void 0);yield yield Ke(i)}}finally{e.releaseLock()}})}function Bu(n){return Dt(n?.getReader)}function fr(n){if(n instanceof sn)return n;if(null!=n){if(h_(n))return function m_(n){return new sn(t=>{const e=n[Qp]();if(Dt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(nm(n))return function z0(n){return new sn(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(rt(n))return function $0(n){return new sn(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ae)})}(n);if(p_(n))return im(n);if(ia(n))return function Ye(n){return new sn(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Bu(n))return function f_(n){return im($n(n))}(n)}throw ve(n)}function im(n){return new sn(t=>{(function U0(n,t){var e,i,o,a;return function Ai(n,t,e,i){return new(e||(e=Promise))(function(a,d){function p(w){try{y(i.next(w))}catch(D){d(D)}}function g(w){try{y(i.throw(w))}catch(D){d(D)}}function y(w){w.done?a(w.value):function o(a){return a instanceof e?a:new e(function(d){d(a)})}(w.value).then(p,g)}y((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Io(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(d){o={error:d}}finally{try{i&&!i.done&&(a=e.return)&&(yield a.call(e))}finally{if(o)throw o.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function co(n,t,e,i=0,o=!1){const a=t.schedule(function(){e(),o?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(a),!o)return a}function Ri(n,t,e=1/0){return Dt(t)?Ri((i,o)=>et((a,d)=>t(i,a,o,d))(fr(n(i,o))),e):("number"==typeof t&&(e=t),an((i,o)=>function G0(n,t,e,i,o,a,d,p){const g=[];let y=0,w=0,D=!1;const S=()=>{D&&!g.length&&!y&&t.complete()},O=j=>y<i?V(j):g.push(j),V=j=>{a&&t.next(j),y++;let $=!1;fr(e(j,w++)).subscribe(Bn(t,G=>{o?.(G),a?O(G):t.next(G)},()=>{$=!0},void 0,()=>{if($)try{for(y--;g.length&&y<i;){const G=g.shift();d?co(t,d,()=>V(G)):V(G)}S()}catch(G){t.error(G)}}))};return n.subscribe(Bn(t,O,()=>{D=!0,S()})),()=>{p?.()}}(i,o,n,e)))}function sd(n=1/0){return Ri(Ka,n)}const lo=new sn(n=>n.complete());function g_(n){return n&&Dt(n.schedule)}function __(n){return n[n.length-1]}function ad(n){return Dt(__(n))?n.pop():void 0}function Vu(n){return g_(__(n))?n.pop():void 0}function rm(n,t=0){return an((e,i)=>{e.subscribe(Bn(i,o=>co(i,n,()=>i.next(o),t),()=>co(i,n,()=>i.complete(),t),o=>co(i,n,()=>i.error(o),t)))})}function ju(n,t=0){return an((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function y_(n,t){if(!n)throw new Error("Iterable cannot be null");return new sn(e=>{co(e,t,()=>{const i=n[Symbol.asyncIterator]();co(e,t,()=>{i.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function In(n,t){return t?function ra(n,t){if(null!=n){if(h_(n))return function rk(n,t){return fr(n).pipe(ju(t),rm(t))}(n,t);if(nm(n))return function sk(n,t){return new sn(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(rt(n))return function ok(n,t){return fr(n).pipe(ju(t),rm(t))}(n,t);if(p_(n))return y_(n,t);if(ia(n))return function ak(n,t){return new sn(e=>{let i;return co(e,t,()=>{i=n[Nt](),co(e,t,()=>{let o,a;try{({value:o,done:a}=i.next())}catch(d){return void e.error(d)}a?e.complete():e.next(o)},0,!0)}),()=>Dt(i?.return)&&i.return()})}(n,t);if(Bu(n))return function ck(n,t){return y_($n(n),t)}(n,t)}throw ve(n)}(n,t):fr(n)}function Oo(...n){const t=Vu(n),e=function v_(n,t){return"number"==typeof __(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?fr(i[0]):sd(e)(In(i,t)):lo}function om(n={}){const{connector:t=(()=>new Ne),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:o=!0}=n;return a=>{let d,p,g,y=0,w=!1,D=!1;const S=()=>{p?.unsubscribe(),p=void 0},O=()=>{S(),d=g=void 0,w=D=!1},V=()=>{const j=d;O(),j?.unsubscribe()};return an((j,$)=>{y++,!D&&!w&&S();const G=g=g??t();$.add(()=>{y--,0===y&&!D&&!w&&(p=cd(V,o))}),G.subscribe($),!d&&y>0&&(d=new To({next:Y=>G.next(Y),error:Y=>{D=!0,S(),p=cd(O,e,Y),G.error(Y)},complete:()=>{w=!0,S(),p=cd(O,i),G.complete()}}),fr(j).subscribe(d))})(a)}}function cd(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new To({next:()=>{i.unsubscribe(),n()}});return t(...e).subscribe(i)}function Dn(n){for(let t in n)if(n[t]===Dn)return t;throw Error("Could not find renamed property on target object.")}function sm(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Xt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Xt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Lc(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const ri=Dn({__forward_ref__:Dn});function vn(n){return n.__forward_ref__=vn,n.toString=function(){return Xt(this())},n}function mt(n){return Bc(n)?n():n}function Bc(n){return"function"==typeof n&&n.hasOwnProperty(ri)&&n.__forward_ref__===vn}function ys(n){return n&&!!n.\u0275providers}const Vn="https://g.co/ng/security#xss";class re extends Error{constructor(t,e){super(function ld(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function Et(n){return"string"==typeof n?n:null==n?"":String(n)}function am(n,t){throw new re(-201,!1)}function gr(n,t){null==n&&function yn(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function we(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function It(n){return{providers:n.providers||[],imports:n.imports||[]}}function Xo(n){return x_(n,dm)||x_(n,zu)}function x_(n,t){return n.hasOwnProperty(t)?n[t]:null}function X0(n){return n&&(n.hasOwnProperty(um)||n.hasOwnProperty(Z0))?n[um]:null}const dm=Dn({\u0275prov:Dn}),um=Dn({\u0275inj:Dn}),zu=Dn({ngInjectableDef:Dn}),Z0=Dn({ngInjectorDef:Dn});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let w_;function Po(n){const t=w_;return w_=n,t}function E_(n,t,e){const i=Xo(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&ft.Optional?null:void 0!==t?t:void am(Xt(n))}const Zt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),tt={},Ii="__NG_DI_FLAG__",dd="ngTempTokenPath",J0=/\n/gm,tx="__source";let at;function jc(n){const t=at;return at=n,t}function ud(n,t=ft.Default){if(void 0===at)throw new re(-203,!1);return null===at?E_(n,void 0,t):at.get(n,t&ft.Optional?null:void 0,t)}function ne(n,t=ft.Default){return(function Q0(){return w_}()||ud)(mt(n),t)}function St(n,t=ft.Default){return ne(n,$u(t))}function $u(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function pm(n){const t=[];for(let e=0;e<n.length;e++){const i=mt(n[e]);if(Array.isArray(i)){if(0===i.length)throw new re(900,!1);let o,a=ft.Default;for(let d=0;d<i.length;d++){const p=i[d],g=gk(p);"number"==typeof g?-1===g?o=p.token:a|=g:o=p}t.push(ne(o,a))}else t.push(ne(i))}return t}function Fo(n,t){return n[Ii]=t,n.prototype[Ii]=t,n}function gk(n){return n[Ii]}function ca(n){return{toString:n}.toString()}var No=(()=>((No=No||{})[No.OnPush=0]="OnPush",No[No.Default=1]="Default",No))(),Rr=(()=>{return(n=Rr||(Rr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Rr;var n})();const Gr={},ln=[],Hc=Dn({\u0275cmp:Dn}),mm=Dn({\u0275dir:Dn}),k_=Dn({\u0275pipe:Dn}),bs=Dn({\u0275mod:Dn}),la=Dn({\u0275fac:Dn}),Ui=Dn({__NG_ELEMENT_ID__:Dn});let Gu=0;function kt(n){return ca(()=>{const e=!0===n.standalone,i={},o={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===No.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||ln,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Rr.Emulated,id:"c"+Gu++,styles:n.styles||ln,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},a=n.dependencies,d=n.features;return o.inputs=rx(n.inputs,i),o.outputs=rx(n.outputs),d&&d.forEach(p=>p(o)),o.directiveDefs=a?()=>("function"==typeof a?a():a).map(Ir).filter(S_):null,o.pipeDefs=a?()=>("function"==typeof a?a():a).map(Or).filter(S_):null,o})}function Ir(n){return dn(n)||ir(n)}function S_(n){return null!==n}function ot(n){return ca(()=>({type:n.type,bootstrap:n.bootstrap||ln,declarations:n.declarations||ln,imports:n.imports||ln,exports:n.exports||ln,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function rx(n,t){if(null==n)return Gr;const e={};for(const i in n)if(n.hasOwnProperty(i)){let o=n[i],a=o;Array.isArray(o)&&(a=o[1],o=o[0]),e[o]=i,t&&(t[o]=a)}return e}const se=kt;function Oi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function dn(n){return n[Hc]||null}function ir(n){return n[mm]||null}function Or(n){return n[k_]||null}function Pr(n,t){const e=n[bs]||null;if(!e&&!0===t)throw new Error(`Type ${Xt(n)} does not have '\u0275mod' property.`);return e}function Ei(n){return Array.isArray(n)&&"object"==typeof n[1]}function Pi(n){return Array.isArray(n)&&!0===n[1]}function A_(n){return 0!=(4&n.flags)}function da(n){return n.componentOffset>-1}function hd(n){return 1==(1&n.flags)}function vr(n){return null!==n.template}function Ku(n){return 0!=(256&n[2])}function Yc(n,t){return n.hasOwnProperty(la)?n[la]:null}class Ck{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function or(){return Xu}function Xu(n){return n.type.prototype.ngOnChanges&&(n.setInput=kk),Dk}function Dk(){const n=Xc(this),t=n?.current;if(t){const e=n.previous;if(e===Gr)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function kk(n,t,e,i){const o=this.declaredInputs[e],a=Xc(n)||function lx(n,t){return n[Wi]=t}(n,{previous:Gr,current:null}),d=a.current||(a.current={}),p=a.previous,g=p[o];d[o]=new Ck(g&&g.currentValue,t,p===Gr),n[i]=t}or.ngInherit=!0;const Wi="__ngSimpleChanges__";function Xc(n){return n[Wi]||null}function st(n){for(;Array.isArray(n);)n=n[0];return n}function Zu(n,t){return st(t[n])}function pi(n,t){return st(t[n.index])}function I_(n,t){return n.data[t]}function Zc(n,t){return n[t]}function po(n,t){const e=t[n];return Ei(e)?e:e[0]}function wm(n){return 64==(64&n[2])}function hn(n,t){return null==t?null:n[t]}function Qu(n){n[18]=0}function O_(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const At={lFrame:Jc(null),bindingsEnabled:!0};function Lo(){return At.bindingsEnabled}function le(){return At.lFrame.lView}function Pe(){return At.lFrame.tView}function ge(n){return At.lFrame.contextLView=n,n[8]}function Xn(n){return At.lFrame.contextLView=null,n}function ar(){let n=Qc();for(;null!==n&&64===n.type;)n=n.parent;return n}function Qc(){return At.lFrame.currentTNode}function Es(n,t){const e=At.lFrame;e.currentTNode=n,e.isParent=t}function P_(){return At.lFrame.isParent}function F_(){At.lFrame.isParent=!1}function br(){const n=At.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function md(){return At.lFrame.bindingIndex++}function Cm(n,t){const e=At.lFrame;e.bindingIndex=e.bindingRootIndex=n,fd(t)}function fd(n){At.lFrame.currentDirectiveIndex=n}function th(){return At.lFrame.currentQueryIndex}function N_(n){At.lFrame.currentQueryIndex=n}function hx(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Cs(n,t,e){if(e&ft.SkipSelf){let o=t,a=n;for(;!(o=o.parent,null!==o||e&ft.Host||(o=hx(a),null===o||(a=a[15],10&o.type))););if(null===o)return!1;t=o,n=a}const i=At.lFrame=B_();return i.currentTNode=t,i.lView=n,!0}function L_(n){const t=B_(),e=n[1];At.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function B_(){const n=At.lFrame,t=null===n?null:n.child;return null===t?Jc(n):t}function Jc(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Dm(){const n=At.lFrame;return At.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const pa=Dm;function km(){const n=Dm();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function xr(){return At.lFrame.selectedIndex}function el(n){At.lFrame.selectedIndex=n}function Pn(){const n=At.lFrame;return I_(n.tView,n.selectedIndex)}function nh(){At.lFrame.currentNamespace="svg"}function rh(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const a=n.data[e].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:p,ngAfterViewInit:g,ngAfterViewChecked:y,ngOnDestroy:w}=a;d&&(n.contentHooks||(n.contentHooks=[])).push(-e,d),p&&((n.contentHooks||(n.contentHooks=[])).push(e,p),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,p)),g&&(n.viewHooks||(n.viewHooks=[])).push(-e,g),y&&((n.viewHooks||(n.viewHooks=[])).push(e,y),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,y)),null!=w&&(n.destroyHooks||(n.destroyHooks=[])).push(e,w)}}function yd(n,t,e){Jo(n,t,3,e)}function oh(n,t,e,i){(3&n[2])===e&&Jo(n,t,e,i)}function V_(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Jo(n,t,e,i){const a=i??-1,d=t.length-1;let p=0;for(let g=void 0!==i?65535&n[18]:0;g<d;g++)if("number"==typeof t[g+1]){if(p=t[g],null!=i&&p>=i)break}else t[g]<0&&(n[18]+=65536),(p<a||-1==a)&&(j_(n,e,t,g),n[18]=(4294901760&n[18])+g+2),g++}function j_(n,t,e,i){const o=e[i]<0,a=e[i+1],p=n[o?-e[i]:e[i]];if(o){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{a.call(p)}finally{}}}else try{a.call(p)}finally{}}class Zn{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function U_(n,t,e){let i=0;for(;i<e.length;){const o=e[i];if("number"==typeof o){if(0!==o)break;i++;const a=e[i++],d=e[i++],p=e[i++];n.setAttribute(t,d,p,a)}else{const a=o,d=e[++i];xd(a)?n.setProperty(t,a,d):n.setAttribute(t,a,d),i++}}return i}function G_(n){return 3===n||4===n||6===n}function xd(n){return 64===n.charCodeAt(0)}function sh(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const o=t[i];"number"==typeof o?e=o:0===e||Sm(n,e,o,null,-1===e||2===e?t[++i]:null)}}return n}function Sm(n,t,e,i,o){let a=0,d=n.length;if(-1===t)d=-1;else for(;a<n.length;){const p=n[a++];if("number"==typeof p){if(p===t){d=-1;break}if(p>t){d=a-1;break}}}for(;a<n.length;){const p=n[a];if("number"==typeof p)break;if(p===e){if(null===i)return void(null!==o&&(n[a+1]=o));if(i===n[a+1])return void(n[a+2]=o)}a++,null!==i&&a++,null!==o&&a++}-1!==d&&(n.splice(d,0,t),a=d+1),n.splice(a++,0,e),null!==i&&n.splice(a++,0,i),null!==o&&n.splice(a++,0,o)}function vx(n){return-1!==n}function ah(n){return 32767&n}function Ds(n,t){let e=function ma(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let ch=!0;function lh(n){const t=ch;return ch=n,t}let Fk=0;const ks={};function dh(n,t){const e=fa(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,wd(i.data,n),wd(t,null),wd(i.blueprint,null));const o=q_(n,t),a=n.injectorIndex;if(vx(o)){const d=ah(o),p=Ds(o,t),g=p[1].data;for(let y=0;y<8;y++)t[a+y]=p[d+y]|g[d+y]}return t[a+8]=o,a}function wd(n,t){n.push(0,0,0,0,0,0,0,0,t)}function fa(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function q_(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,o=t;for(;null!==o;){if(i=uh(o),null===i)return-1;if(e++,o=o[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Ms(n,t,e){!function tl(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Ui)&&(i=e[Ui]),null==i&&(i=e[Ui]=Fk++);const o=255&i;t.data[n+(o>>5)]|=1<<o}(n,t,e)}function bx(n,t,e){if(e&ft.Optional||void 0!==n)return n;am()}function xx(n,t,e,i){if(e&ft.Optional&&void 0===i&&(i=null),!(e&(ft.Self|ft.Host))){const o=n[9],a=Po(void 0);try{return o?o.get(t,i,e&ft.Optional):E_(t,i,e&ft.Optional)}finally{Po(a)}}return bx(i,0,e)}function K_(n,t,e,i=ft.Default,o){if(null!==n){if(1024&t[2]){const d=function Vk(n,t,e,i,o){let a=n,d=t;for(;null!==a&&null!==d&&1024&d[2]&&!(256&d[2]);){const p=Wr(a,d,e,i|ft.Self,ks);if(p!==ks)return p;let g=a.parent;if(!g){const y=d[21];if(y){const w=y.get(e,ks,i);if(w!==ks)return w}g=uh(d),d=d[15]}a=g}return o}(n,t,e,i,ks);if(d!==ks)return d}const a=Wr(n,t,e,i,ks);if(a!==ks)return a}return xx(t,e,i,o)}function Wr(n,t,e,i,o){const a=function Lk(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Ui)?n[Ui]:void 0;return"number"==typeof t?t>=0?255&t:Bk:t}(e);if("function"==typeof a){if(!Cs(t,n,i))return i&ft.Host?bx(o,0,i):xx(t,e,i,o);try{const d=a(i);if(null!=d||i&ft.Optional)return d;am()}finally{pa()}}else if("number"==typeof a){let d=null,p=fa(n,t),g=-1,y=i&ft.Host?t[16][6]:null;for((-1===p||i&ft.SkipSelf)&&(g=-1===p?q_(n,t):t[p+8],-1!==g&&nl(i,!1)?(d=t[1],p=ah(g),t=Ds(g,t)):p=-1);-1!==p;){const w=t[1];if(Ni(a,p,w.data)){const D=Fi(p,t,e,d,i,y);if(D!==ks)return D}g=t[p+8],-1!==g&&nl(i,t[1].data[p+8]===y)&&Ni(a,p,t)?(d=w,p=ah(g),t=Ds(g,t)):p=-1}}return o}function Fi(n,t,e,i,o,a){const d=t[1],p=d.data[n+8],w=Ed(p,d,e,null==i?da(p)&&ch:i!=d&&0!=(3&p.type),o&ft.Host&&a===p);return null!==w?Ss(t,d,w,p):ks}function Ed(n,t,e,i,o){const a=n.providerIndexes,d=t.data,p=1048575&a,g=n.directiveStart,w=a>>20,S=o?p+w:n.directiveEnd;for(let O=i?p:p+w;O<S;O++){const V=d[O];if(O<g&&e===V||O>=g&&V.type===e)return O}if(o){const O=d[g];if(O&&vr(O)&&O.type===e)return g}return null}function Ss(n,t,e,i){let o=n[e];const a=t.data;if(function fx(n){return n instanceof Zn}(o)){const d=o;d.resolving&&function oa(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new re(-200,`Circular dependency in DI detected for ${n}${e}`)}(function cn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Et(n)}(a[e]));const p=lh(d.canSeeViewProviders);d.resolving=!0;const g=d.injectImpl?Po(d.injectImpl):null;Cs(n,i,ft.Default);try{o=n[e]=d.factory(void 0,a,n,i),t.firstCreatePass&&e>=i.directiveStart&&function mx(n,t,e){const{ngOnChanges:i,ngOnInit:o,ngDoCheck:a}=t.type.prototype;if(i){const d=Xu(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,d),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,d)}o&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,o),a&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a))}(e,a[e],t)}finally{null!==g&&Po(g),lh(p),d.resolving=!1,pa()}}return o}function Ni(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function nl(n,t){return!(n&ft.Self||n&ft.Host&&t)}class ec{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return K_(this._tNode,this._lView,t,$u(i),e)}}function Bk(){return new ec(ar(),le())}function Ft(n){return ca(()=>{const t=n.prototype.constructor,e=t[la]||Tm(t),i=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==i;){const a=o[la]||Tm(o);if(a&&a!==e)return a;o=Object.getPrototypeOf(o)}return a=>new a})}function Tm(n){return Bc(n)?()=>{const t=Tm(mt(n));return t&&t()}:Yc(n)}function uh(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}function Ts(n){return function Nk(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let o=0;for(;o<i;){const a=e[o];if(G_(a))break;if(0===a)o+=2;else if("number"==typeof a)for(o++;o<i&&"string"==typeof e[o];)o++;else{if(a===t)return e[o+1];o+=2}}}return null}(ar(),n)}const As="__parameters__";function tc(n,t,e){return ca(()=>{const i=function Am(n){return function(...e){if(n){const i=n(...e);for(const o in i)this[o]=i[o]}}}(t);function o(...a){if(this instanceof o)return i.apply(this,a),this;const d=new o(...a);return p.annotation=d,p;function p(g,y,w){const D=g.hasOwnProperty(As)?g[As]:Object.defineProperty(g,As,{value:[]})[As];for(;D.length<=w;)D.push(null);return(D[w]=D[w]||[]).push(d),g}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}class ue{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=we({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function sl(n,t){n.forEach(e=>Array.isArray(e)?sl(e,t):t(e))}function al(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Im(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Dd(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function qr(n,t,e){let i=ll(n,t);return i>=0?n[1|i]=e:(i=~i,function Om(n,t,e,i){let o=n.length;if(o==t)n.push(e,i);else if(1===o)n.push(i,n[0]),n[0]=e;else{for(o--,n.push(n[o-1],n[o]);o>t;)n[o]=n[o-2],o--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function cl(n,t){const e=ll(n,t);if(e>=0)return n[1|e]}function ll(n,t){return function hh(n,t,e){let i=0,o=n.length>>e;for(;o!==i;){const a=i+(o-i>>1),d=n[a<<e];if(t===d)return a<<e;d>t?o=a:i=a+1}return~(o<<e)}(n,t,1)}const ic=Fo(tc("Inject",n=>({token:n})),-1),Rs=Fo(tc("Optional"),8),_a=Fo(tc("SkipSelf"),4);var Er=(()=>((Er=Er||{})[Er.Important=1]="Important",Er[Er.DashCase=2]="DashCase",Er))();const rv=new Map;let tM=0;const Kr="__ngContext__";function Bi(n,t){Ei(t)?(n[Kr]=t[20],function Ux(n){rv.set(n[20],n)}(t)):n[Kr]=t}function Wm(n,t){return undefined(n,t)}function go(n){const t=n[3];return Pi(t)?t[3]:t}function Rd(n){return dv(n[13])}function lv(n){return dv(n[4])}function dv(n){for(;null!==n&&!Pi(n);)n=n[4];return n}function Id(n,t,e,i,o){if(null!=i){let a,d=!1;Pi(i)?a=i:Ei(i)&&(d=!0,i=i[0]);const p=st(i);0===n&&null!==e?null==o?Xx(t,e,p):hl(t,e,p,o||null,!0):1===n&&null!==e?hl(t,e,p,o||null,!0):2===n?function pl(n,t,e){const i=wh(n,t);i&&function gv(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,p,d):3===n&&t.destroyNode(p),null!=a&&function ew(n,t,e,i,o){const a=e[7];a!==st(e)&&Id(t,n,i,a,o);for(let p=10;p<e.length;p++){const g=e[p];Nd(g[1],g,n,t,i,a)}}(t,n,a,e,o)}}function Km(n,t,e){return n.createElement(t,e)}function bh(n,t){const e=n[9],i=e.indexOf(t),o=t[3];512&t[2]&&(t[2]&=-513,O_(o,-1)),e.splice(i,1)}function pv(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const o=i[17];null!==o&&o!==n&&bh(o,i),t>0&&(n[e-1][4]=i[4]);const a=Im(n,10+t);!function va(n,t){Nd(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const d=a[19];null!==d&&d.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function Ym(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&Nd(n,t,e,3,null,null),function sM(n){let t=n[13];if(!t)return Xm(n[1],n);for(;t;){let e=null;if(Ei(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Ei(t)&&Xm(t[1],t),t=t[3];null===t&&(t=n),Ei(t)&&Xm(t[1],t),e=t&&t[4]}t=e}}(t)}}function Xm(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function mv(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const o=t[e[i]];if(!(o instanceof Zn)){const a=e[i+1];if(Array.isArray(a))for(let d=0;d<a.length;d+=2){const p=o[a[d]],g=a[d+1];try{g.call(p)}finally{}}else try{a.call(o)}finally{}}}}(n,t),function Yx(n,t){const e=n.cleanup,i=t[7];let o=-1;if(null!==e)for(let a=0;a<e.length-1;a+=2)if("string"==typeof e[a]){const d=e[a+3];d>=0?i[o=d]():i[o=-d].unsubscribe(),a+=2}else{const d=i[o=e[a+1]];e[a].call(d)}if(null!==i){for(let a=o+1;a<i.length;a++)(0,i[a])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&Pi(t[3])){e!==t[3]&&bh(e,t);const i=t[19];null!==i&&i.detachView(n)}!function ov(n){rv.delete(n[20])}(t)}}function fv(n,t,e){return function xh(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];{const{componentOffset:o}=i;if(o>-1){const{encapsulation:a}=n.data[i.directiveStart+o];if(a===Rr.None||a===Rr.Emulated)return null}return pi(i,e)}}(n,t.parent,e)}function hl(n,t,e,i,o){n.insertBefore(t,e,i,o)}function Xx(n,t,e){n.appendChild(t,e)}function Zm(n,t,e,i,o){null!==i?hl(n,t,e,i,o):Xx(n,t,e)}function wh(n,t){return n.parentNode(t)}function Qx(n,t,e){return vv(n,t,e)}let Ch,Yr,Dh,vv=function _v(n,t,e){return 40&n.type?pi(n,e):null};function ac(n,t,e,i){const o=fv(n,i,t),a=t[11],p=Qx(i.parent||t[6],i,t);if(null!=o)if(Array.isArray(e))for(let g=0;g<e.length;g++)Zm(a,o,e[g],p,!1);else Zm(a,o,e,p,!1)}function Pd(n,t){if(null!==t){const e=t.type;if(3&e)return pi(t,n);if(4&e)return Qm(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Pd(n,i);{const o=n[t.index];return Pi(o)?Qm(-1,o):st(o)}}if(32&e)return Wm(t,n)()||st(n[t.index]);{const i=Eh(n,t);return null!==i?Array.isArray(i)?i[0]:Pd(go(n[16]),i):Pd(n,t.next)}}return null}function Eh(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Qm(n,t){const e=10+n+1;if(e<t.length){const i=t[e],o=i[1].firstChild;if(null!==o)return Pd(i,o)}return t[7]}function Fd(n,t,e,i,o,a,d){for(;null!=e;){const p=i[e.index],g=e.type;if(d&&0===t&&(p&&Bi(st(p),i),e.flags|=2),32!=(32&e.flags))if(8&g)Fd(n,t,e.child,i,o,a,!1),Id(t,n,o,p,a);else if(32&g){const y=Wm(e,i);let w;for(;w=y();)Id(t,n,o,w,a);Id(t,n,o,p,a)}else 16&g?yv(n,t,i,e,o,a):Id(t,n,o,p,a);e=d?e.projectionNext:e.next}}function Nd(n,t,e,i,o,a){Fd(e,i,n.firstChild,t,o,a,!1)}function yv(n,t,e,i,o,a){const d=e[16],g=d[6].projection[i.projection];if(Array.isArray(g))for(let y=0;y<g.length;y++)Id(t,n,o,g[y],a);else Fd(n,t,g,d[3],o,a,!0)}function bv(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function Jm(n,t,e){const{mergedAttrs:i,classes:o,styles:a}=e;null!==i&&U_(n,t,i),null!==o&&bv(n,t,o),null!==a&&function nw(n,t,e){n.setAttribute(t,"style",e)}(n,t,a)}function cc(n){return function ef(){if(void 0===Ch&&(Ch=null,Zt.trustedTypes))try{Ch=Zt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ch}()?.createHTML(n)||n}function ow(n){return function xv(){if(void 0===Dh&&(Dh=null,Zt.trustedTypes))try{Dh=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Dh}()?.createScriptURL(n)||n}class lc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Vn})`}}class Cv extends lc{getTypeName(){return"HTML"}}class sw extends lc{getTypeName(){return"Style"}}class aw extends lc{getTypeName(){return"Script"}}class cw extends lc{getTypeName(){return"URL"}}class Dv extends lc{getTypeName(){return"ResourceURL"}}function fi(n){return n instanceof lc?n.changingThisBreaksApplicationSecurity:n}function Os(n,t){const e=function lw(n){return n instanceof lc&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Vn})`)}return e===t}class lM{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(cc(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class dM{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=cc(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=cc(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let o=e.length-1;0<o;o--){const d=e.item(o).name;("xmlns:ns1"===d||0===d.indexOf("ns1:"))&&t.removeAttribute(d)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const Mh=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function tf(n){return(n=String(n)).match(Mh)?n:"unsafe:"+n}function Ps(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Bd(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const Sv=Ps("area,br,col,hr,img,wbr"),Tv=Ps("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Av=Ps("rp,rt"),rf=Bd(Sv,Bd(Tv,Ps("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bd(Av,Ps("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bd(Av,Tv)),Vd=Ps("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),af=Bd(Vd,Ps("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ps("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sh=Ps("script,style,template");class ts{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=this.checkClobberedElement(e,e.nextSibling);if(o){e=o;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!rf.hasOwnProperty(e))return this.sanitizedSomething=!0,!Sh.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let o=0;o<i.length;o++){const a=i.item(o),d=a.name,p=d.toLowerCase();if(!af.hasOwnProperty(p)){this.sanitizedSomething=!0;continue}let g=a.value;Vd[p]&&(g=tf(g)),this.buf.push(" ",d,'="',Rv(g),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();rf.hasOwnProperty(e)&&!Sv.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Rv(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const cf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lf=/([^\#-~ |!])/g;function Rv(n){return n.replace(/&/g,"&amp;").replace(cf,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lf,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Th;function uw(n,t){let e=null;try{Th=Th||function Mv(n){const t=new dM(n);return function ml(){try{return!!(new window.DOMParser).parseFromString(cc(""),"text/html")}catch{return!1}}()?new lM(t):t}(n);let i=t?String(t):"";e=Th.getInertBodyElement(i);let o=5,a=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,i=a,a=e.innerHTML,e=Th.getInertBodyElement(i)}while(i!==a);return cc((new ts).sanitizeChildren(Ah(e)||e))}finally{if(e){const i=Ah(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Ah(n){return"content"in n&&function hw(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var pn=(()=>((pn=pn||{})[pn.NONE=0]="NONE",pn[pn.HTML=1]="HTML",pn[pn.STYLE=2]="STYLE",pn[pn.SCRIPT=3]="SCRIPT",pn[pn.URL=4]="URL",pn[pn.RESOURCE_URL=5]="RESOURCE_URL",pn))();function df(n){const t=jd();return t?t.sanitize(pn.URL,n)||"":Os(n,"URL")?fi(n):tf(Et(n))}function Iv(n){const t=jd();if(t)return ow(t.sanitize(pn.RESOURCE_URL,n)||"");if(Os(n,"ResourceURL"))return ow(fi(n));throw new re(904,!1)}function jd(){const n=le();return n&&n[12]}const Ih=new ue("ENVIRONMENT_INITIALIZER"),mw=new ue("INJECTOR",-1),fw=new ue("INJECTOR_DEF_TYPES");class gw{get(t,e=tt){if(e===tt){const i=new Error(`NullInjectorError: No provider for ${Xt(t)}!`);throw i.name="NullInjectorError",i}return e}}function _M(...n){return{\u0275providers:_w(0,n),\u0275fromNgModule:!0}}function _w(n,...t){const e=[],i=new Set;let o;return sl(t,a=>{const d=a;Lv(d,e,[],i)&&(o||(o=[]),o.push(d))}),void 0!==o&&Nv(o,e),e}function Nv(n,t){for(let e=0;e<n.length;e++){const{providers:o}=n[e];Bv(o,a=>{t.push(a)})}}function Lv(n,t,e,i){if(!(n=mt(n)))return!1;let o=null,a=X0(n);const d=!a&&dn(n);if(a||d){if(d&&!d.standalone)return!1;o=n}else{const g=n.ngModule;if(a=X0(g),!a)return!1;o=g}const p=i.has(o);if(d){if(p)return!1;if(i.add(o),d.dependencies){const g="function"==typeof d.dependencies?d.dependencies():d.dependencies;for(const y of g)Lv(y,t,e,i)}}else{if(!a)return!1;{if(null!=a.imports&&!p){let y;i.add(o);try{sl(a.imports,w=>{Lv(w,t,e,i)&&(y||(y=[]),y.push(w))})}finally{}void 0!==y&&Nv(y,t)}if(!p){const y=Yc(o)||(()=>new o);t.push({provide:o,useFactory:y,deps:ln},{provide:fw,useValue:o,multi:!0},{provide:Ih,useValue:()=>ne(o),multi:!0})}const g=a.providers;null==g||p||Bv(g,w=>{t.push(w)})}}return o!==n&&void 0!==n.providers}function Bv(n,t){for(let e of n)ys(e)&&(e=e.\u0275providers),Array.isArray(e)?Bv(e,t):t(e)}const yM=Dn({provide:String,useValue:Dn});function Vv(n){return null!==n&&"object"==typeof n&&yM in n}function fl(n){return"function"==typeof n}const jv=new ue("Set Injector scope."),gl={},uf={};let hf;function _l(){return void 0===hf&&(hf=new gw),hf}class _o{}class bw extends _o{get destroyed(){return this._destroyed}constructor(t,e,i,o){super(),this.parent=e,this.source=i,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bl(t,d=>this.processProvider(d)),this.records.set(mw,ba(void 0,this)),o.has("environment")&&this.records.set(_o,ba(void 0,this));const a=this.records.get(jv);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(fw.multi,ln,ft.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=jc(this),i=Po(void 0);try{return t()}finally{jc(e),Po(i)}}get(t,e=tt,i=ft.Default){this.assertNotDestroyed(),i=$u(i);const o=jc(this),a=Po(void 0);try{if(!(i&ft.SkipSelf)){let p=this.records.get(t);if(void 0===p){const g=function xM(n){return"function"==typeof n||"object"==typeof n&&n instanceof ue}(t)&&Xo(t);p=g&&this.injectableDefInScope(g)?ba(pf(t),gl):null,this.records.set(t,p)}if(null!=p)return this.hydrate(t,p)}return(i&ft.Self?_l():this.parent).get(t,e=i&ft.Optional&&e===tt?null:e)}catch(d){if("NullInjectorError"===d.name){if((d[dd]=d[dd]||[]).unshift(Xt(t)),o)throw d;return function Uu(n,t,e,i){const o=n[dd];throw t[tx]&&o.unshift(t[tx]),n.message=function nx(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let o=Xt(t);if(Array.isArray(t))o=t.map(Xt).join(" -> ");else if("object"==typeof t){let a=[];for(let d in t)if(t.hasOwnProperty(d)){let p=t[d];a.push(d+":"+("string"==typeof p?JSON.stringify(p):Xt(p)))}o=`{${a.join(", ")}}`}return`${e}${i?"("+i+")":""}[${o}]: ${n.replace(J0,"\n  ")}`}("\n"+n.message,o,e,i),n.ngTokenPath=o,n[dd]=null,n}(d,t,"R3InjectorError",this.source)}throw d}finally{Po(a),jc(o)}}resolveInjectorInitializers(){const t=jc(this),e=Po(void 0);try{const i=this.get(Ih.multi,ln,ft.Self);for(const o of i)o()}finally{jc(t),Po(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Xt(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(t){let e=fl(t=mt(t))?t:mt(t&&t.provide);const i=function bM(n){return Vv(n)?ba(void 0,n.useValue):ba(vl(n),gl)}(t);if(fl(t)||!0!==t.multi)this.records.get(e);else{let o=this.records.get(e);o||(o=ba(void 0,gl,!0),o.factory=()=>pm(o.multi),this.records.set(e,o)),e=t,o.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===gl&&(e.value=uf,e.value=e.factory()),"object"==typeof e.value&&e.value&&function ns(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=mt(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function pf(n){const t=Xo(n),e=null!==t?t.factory:Yc(n);if(null!==e)return e;if(n instanceof ue)throw new re(204,!1);if(n instanceof Function)return function mf(n){const t=n.length;if(t>0)throw Dd(t,"?"),new re(204,!1);const e=function mk(n){const t=n&&(n[dm]||n[zu]);if(t){const e=function lm(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new re(204,!1)}function vl(n,t,e){let i;if(fl(n)){const o=mt(n);return Yc(o)||pf(o)}if(Vv(n))i=()=>mt(n.useValue);else if(function yw(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...pm(n.deps||[]));else if(function vw(n){return!(!n||!n.useExisting)}(n))i=()=>ne(mt(n.useExisting));else{const o=mt(n&&(n.useClass||n.provide));if(!function yl(n){return!!n.deps}(n))return Yc(o)||pf(o);i=()=>new o(...pm(n.deps))}return i}function ba(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function bl(n,t){for(const e of n)Array.isArray(e)?bl(e,t):e&&ys(e)?bl(e.\u0275providers,t):t(e)}class xw{}class ww{}class ff{resolveComponentFactory(t){throw function wM(n){const t=Error(`No component factory found for ${Xt(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let dc=(()=>{class n{}return n.NULL=new ff,n})();function Oh(){return Hd(ar(),le())}function Hd(n,t){return new qe(pi(n,t))}let qe=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=Oh,n})();function Ho(n){return n instanceof qe?n.nativeElement:n}class xl{}let xa=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function gf(){const n=le(),e=po(ar().index,n);return(Ei(e)?e:n)[11]}(),n})(),EM=(()=>{class n{}return n.\u0275prov=we({token:n,providedIn:"root",factory:()=>null}),n})();class uc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Hv=new uc("15.1.0"),Ns={};function _f(n){return n.ngOriginalError}class Nr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&_f(t);for(;e&&_f(e);)e=_f(e);return e||null}}function Mw(n){return n.ownerDocument}function wa(n){return n instanceof Function?n():n}function Sw(n,t,e){let i=n.length;for(;;){const o=n.indexOf(t,e);if(-1===o)return o;if(0===o||n.charCodeAt(o-1)<=32){const a=t.length;if(o+a===i||n.charCodeAt(o+a)<=32)return o}e=o+1}}const Tw="ng-template";function Aw(n,t,e){let i=0;for(;i<n.length;){let o=n[i++];if(e&&"class"===o){if(o=n[i],-1!==Sw(o.toLowerCase(),t,0))return!0}else if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===t)return!0;return!1}}return!1}function Rw(n){return 4===n.type&&n.value!==Tw}function Ph(n,t,e){return t===(4!==n.type||e?n.value:Tw)}function Iw(n,t,e){let i=4;const o=n.attrs||[],a=function Fw(n){for(let t=0;t<n.length;t++)if(G_(n[t]))return t;return n.length}(o);let d=!1;for(let p=0;p<t.length;p++){const g=t[p];if("number"!=typeof g){if(!d)if(4&i){if(i=2|1&i,""!==g&&!Ph(n,g,e)||""===g&&1===t.length){if(is(i))return!1;d=!0}}else{const y=8&i?g:t[++p];if(8&i&&null!==n.attrs){if(!Aw(n.attrs,y,e)){if(is(i))return!1;d=!0}continue}const D=Ow(8&i?"class":g,o,Rw(n),e);if(-1===D){if(is(i))return!1;d=!0;continue}if(""!==y){let S;S=D>a?"":o[D+1].toLowerCase();const O=8&i?S:null;if(O&&-1!==Sw(O,y,0)||2&i&&y!==S){if(is(i))return!1;d=!0}}}}else{if(!d&&!is(i)&&!is(g))return!1;if(d&&is(g))continue;d=!1,i=g|1&i}}return is(i)||d}function is(n){return 0==(1&n)}function Ow(n,t,e,i){if(null===t)return-1;let o=0;if(i||!e){let a=!1;for(;o<t.length;){const d=t[o];if(d===n)return o;if(3===d||6===d)a=!0;else{if(1===d||2===d){let p=t[++o];for(;"string"==typeof p;)p=t[++o];continue}if(4===d)break;if(0===d){o+=4;continue}}o+=a?1:2}return-1}return function TM(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function $v(n,t,e=!1){for(let i=0;i<t.length;i++)if(Iw(n,t[i],e))return!0;return!1}function AM(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let o=0;o<n.length;o++)if(n[o]!==i[o])continue e;return!0}}return!1}function Ea(n,t){return n?":not("+t.trim()+")":t}function Nw(n){let t=n[0],e=1,i=2,o="",a=!1;for(;e<n.length;){let d=n[e];if("string"==typeof d)if(2&i){const p=n[++e];o+="["+d+(p.length>0?'="'+p+'"':"")+"]"}else 8&i?o+="."+d:4&i&&(o+=" "+d);else""!==o&&!is(d)&&(t+=Ea(a,o),o=""),i=d,a=a||!is(i);e++}return""!==o&&(t+=Ea(a,o)),t}const Rt={};function xe(n){Gv(Pe(),le(),xr()+n,!1)}function Gv(n,t,e,i){if(!i)if(3==(3&t[2])){const a=n.preOrderCheckHooks;null!==a&&yd(t,a,e)}else{const a=n.preOrderHooks;null!==a&&oh(t,a,0,e)}el(e)}function Qv(n,t=null,e=null,i){const o=bf(n,t,e,i);return o.resolveInjectorInitializers(),o}function bf(n,t=null,e=null,i,o=new Set){const a=[e||ln,_M(n)];return i=i||("object"==typeof n?void 0:Xt(n)),new bw(a,t||_l(),i||null,o)}let gi=(()=>{class n{static create(e,i){if(Array.isArray(e))return Qv({name:""},i,e,"");{const o=e.name??"";return Qv({name:o},e.parent,e.providers,o)}}}return n.THROW_IF_NOT_FOUND=tt,n.NULL=new gw,n.\u0275prov=we({token:n,providedIn:"any",factory:()=>ne(mw)}),n.__NG_ELEMENT_ID__=-1,n})();function B(n,t=ft.Default){const e=le();return null===e?ne(n,t):K_(ar(),e,mt(n),t)}function hc(){throw new Error("invalid")}function oy(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const a=e[i+1];if(-1!==a){const d=n.data[a];N_(e[i]),d.contentQueries(2,t[a],a)}}}function Vh(n,t,e,i,o,a,d,p,g,y,w){const D=t.blueprint.slice();return D[0]=o,D[2]=76|i,(null!==w||n&&1024&n[2])&&(D[2]|=1024),Qu(D),D[3]=D[15]=n,D[8]=e,D[10]=d||n&&n[10],D[11]=p||n&&n[11],D[12]=g||n&&n[12]||null,D[9]=y||n&&n[9]||null,D[6]=a,D[20]=function $x(){return tM++}(),D[21]=w,D[16]=2==t.type?n[16]:D,D}function Bs(n,t,e,i,o){let a=n.data[t];if(null===a)a=function If(n,t,e,i,o){const a=Qc(),d=P_(),g=n.data[t]=function Xw(n,t,e,i,o,a){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?a:a&&a.parent,e,t,i,o);return null===n.firstChild&&(n.firstChild=g),null!==a&&(d?null==a.child&&null!==g.parent&&(a.child=g):null===a.next&&(a.next=g)),g}(n,t,e,i,o),function eh(){return At.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=e,a.value=i,a.attrs=o;const d=function Qo(){const n=At.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();a.injectorIndex=null===d?-1:d.injectorIndex}return Es(a,!0),a}function jh(n,t,e,i){if(0===e)return-1;const o=t.length;for(let a=0;a<e;a++)t.push(i),n.blueprint.push(i),n.data.push(null);return o}function sy(n,t,e){L_(t);try{const i=n.viewQuery;null!==i&&my(1,i,e);const o=n.template;null!==o&&Pf(n,t,o,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&oy(n,t),n.staticViewQueries&&my(2,n.viewQuery,e);const a=n.components;null!==a&&function Kw(n,t){for(let e=0;e<t.length;e++)hy(n,t[e])}(t,a)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,km()}}function Of(n,t,e,i){const o=t[2];if(128!=(128&o)){L_(t);try{Qu(t),function ux(n){return At.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Pf(n,t,e,2,i);const d=3==(3&o);if(d){const y=n.preOrderCheckHooks;null!==y&&yd(t,y,null)}else{const y=n.preOrderHooks;null!==y&&oh(t,y,0,null),V_(t,0)}if(function NM(n){for(let t=Rd(n);null!==t;t=lv(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const o=e[i];512&o[2]||O_(o[3],1),o[2]|=512}}}(t),function aE(n){for(let t=Rd(n);null!==t;t=lv(t))for(let e=10;e<t.length;e++){const i=t[e],o=i[1];wm(i)&&Of(o,i,o.template,i[8])}}(t),null!==n.contentQueries&&oy(n,t),d){const y=n.contentCheckHooks;null!==y&&yd(t,y)}else{const y=n.contentHooks;null!==y&&oh(t,y,1),V_(t,1)}!function Rf(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const o=e[i];if(o<0)el(~o);else{const a=o,d=e[++i],p=e[++i];Cm(d,a),p(2,t[a])}}}finally{el(-1)}}(n,t);const p=n.components;null!==p&&function qw(n,t){for(let e=0;e<t.length;e++)LM(n,t[e])}(t,p);const g=n.viewQuery;if(null!==g&&my(2,g,i),d){const y=n.viewCheckHooks;null!==y&&yd(t,y)}else{const y=n.viewHooks;null!==y&&oh(t,y,2),V_(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,O_(t[3],-1))}finally{km()}}}function Pf(n,t,e,i,o){const a=xr(),d=2&i;try{el(-1),d&&t.length>22&&Gv(n,t,22,!1),e(i,o)}finally{el(a)}}function ay(n,t,e){if(A_(t)){const o=t.directiveEnd;for(let a=t.directiveStart;a<o;a++){const d=n.data[a];d.contentQueries&&d.contentQueries(1,e[a],a)}}}function Hh(n,t,e){Lo()&&(function Wh(n,t,e,i){const o=e.directiveStart,a=e.directiveEnd;da(e)&&function Lf(n,t,e){const i=pi(t,n),o=zh(e),a=n[10],d=qd(n,Vh(n,o,null,e.onPush?32:16,i,t,a,a.createRenderer(i,e),null,null,null));n[t.index]=d}(t,e,n.data[o+e.componentOffset]),n.firstCreatePass||dh(e,t),Bi(i,t);const d=e.initialInputs;for(let p=o;p<a;p++){const g=n.data[p],y=Ss(t,n,p,e);Bi(y,t),null!==d&&FM(0,p-o,y,g,0,d),vr(g)&&(po(e.index,t)[8]=Ss(t,n,p,e))}}(n,t,e,pi(e,t)),64==(64&e.flags)&&uy(n,t,e))}function Ud(n,t,e=pi){const i=t.localNames;if(null!==i){let o=t.index+1;for(let a=0;a<i.length;a+=2){const d=i[a+1],p=-1===d?e(t,n):n[d];n[o++]=p}}}function zh(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=$h(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function $h(n,t,e,i,o,a,d,p,g,y){const w=22+i,D=w+o,S=function cy(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Rt);return e}(w,D),O="function"==typeof y?y():y;return S[1]={type:n,blueprint:S,template:e,queries:null,viewQuery:p,declTNode:t,data:S.slice().fill(null,w),bindingStartIndex:w,expandoStartIndex:D,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:g,consts:O,incompleteFirstPass:!1}}function Uh(n,t,e,i){const o=fy(t);null===e?o.push(i):(o.push(e),n.firstCreatePass&&qi(n).push(i,o.length-1))}function Zw(n,t,e,i){for(let o in n)if(n.hasOwnProperty(o)){e=null===e?{}:e;const a=n[o];null===i?Ff(e,t,o,a):i.hasOwnProperty(o)&&Ff(e,t,i[o],a)}return e}function Ff(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function Lr(n,t,e,i,o,a,d,p){const g=pi(t,e);let w,y=t.inputs;!p&&null!=y&&(w=y[i])?(Yh(n,e,w,i,o),da(t)&&wl(e,t.index)):3&t.type&&(i=function ly(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),o=null!=d?d(o,t.value||"",i):o,a.setProperty(g,i,o))}function wl(n,t){const e=po(t,n);16&e[2]||(e[2]|=32)}function Gd(n,t,e,i){let o=!1;if(Lo()){const a=null===i?null:{"":-1},d=function iE(n,t){const e=n.directiveRegistry;let i=null,o=null;if(e)for(let a=0;a<e.length;a++){const d=e[a];if($v(t,d.selectors,!1))if(i||(i=[]),vr(d))if(null!==d.findHostDirectiveDefs){const p=[];o=o||new Map,d.findHostDirectiveDefs(d,p,o),i.unshift(...p,d),Wd(n,t,p.length)}else i.unshift(d),Wd(n,t,0);else o=o||new Map,d.findHostDirectiveDefs?.(d,i,o),i.push(d)}return null===i?null:[i,o]}(n,e);let p,g;null===d?p=g=null:[p,g]=d,null!==p&&(o=!0,eE(n,t,e,p,a,g)),a&&function OM(n,t,e){if(t){const i=n.localNames=[];for(let o=0;o<t.length;o+=2){const a=e[t[o+1]];if(null==a)throw new re(-301,!1);i.push(t[o],a)}}}(e,i,a)}return e.mergedAttrs=sh(e.mergedAttrs,e.attrs),o}function eE(n,t,e,i,o,a){for(let y=0;y<i.length;y++)Ms(dh(e,t),n,i[y].type);!function rE(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let y=0;y<i.length;y++){const w=i[y];w.providersResolver&&w.providersResolver(w)}let d=!1,p=!1,g=jh(n,t,i.length,null);for(let y=0;y<i.length;y++){const w=i[y];e.mergedAttrs=sh(e.mergedAttrs,w.hostAttrs),Nf(n,e,t,g,w),PM(g,w,o),null!==w.contentQueries&&(e.flags|=4),(null!==w.hostBindings||null!==w.hostAttrs||0!==w.hostVars)&&(e.flags|=64);const D=w.type.prototype;!d&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),d=!0),!p&&(D.ngOnChanges||D.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),p=!0),g++}!function Qw(n,t,e){const o=t.directiveEnd,a=n.data,d=t.attrs,p=[];let g=null,y=null;for(let w=t.directiveStart;w<o;w++){const D=a[w],S=e?e.get(D):null,V=S?S.outputs:null;g=Zw(D.inputs,w,g,S?S.inputs:null),y=Zw(D.outputs,w,y,V);const j=null===g||null===d||Rw(t)?null:oE(g,w,d);p.push(j)}null!==g&&(g.hasOwnProperty("class")&&(t.flags|=8),g.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=p,t.inputs=g,t.outputs=y}(n,e,a)}function uy(n,t,e){const i=e.directiveStart,o=e.directiveEnd,a=e.index,d=function Ok(){return At.lFrame.currentDirectiveIndex}();try{el(a);for(let p=i;p<o;p++){const g=n.data[p],y=t[p];fd(p),(null!==g.hostBindings||0!==g.hostVars||null!==g.hostAttrs)&&nE(g,y)}}finally{el(-1),fd(d)}}function nE(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Wd(n,t,e){t.componentOffset=e,(n.components||(n.components=[])).push(t.index)}function PM(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;vr(t)&&(e[""]=n)}}function Nf(n,t,e,i,o){n.data[i]=o;const a=o.factory||(o.factory=Yc(o.type)),d=new Zn(a,vr(o),B);n.blueprint[i]=d,e[i]=d,function tE(n,t,e,i,o){const a=o.hostBindings;if(a){let d=n.hostBindingOpCodes;null===d&&(d=n.hostBindingOpCodes=[]);const p=~t.index;(function Gh(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(d)!=p&&d.push(p),d.push(e,i,a)}}(n,t,i,jh(n,e,o.hostVars,Rt),o)}function rs(n,t,e,i,o,a){const d=pi(n,t);!function qh(n,t,e,i,o,a,d){if(null==a)n.removeAttribute(t,o,e);else{const p=null==d?Et(a):d(a,i||"",o);n.setAttribute(t,o,p,e)}}(t[11],d,a,n.value,e,i,o)}function FM(n,t,e,i,o,a){const d=a[t];if(null!==d){const p=i.setInput;for(let g=0;g<d.length;){const y=d[g++],w=d[g++],D=d[g++];null!==p?i.setInput(e,D,y,w):e[w]=D}}}function oE(n,t,e){let i=null,o=0;for(;o<e.length;){const a=e[o];if(0!==a)if(5!==a){if("number"==typeof a)break;if(n.hasOwnProperty(a)){null===i&&(i=[]);const d=n[a];for(let p=0;p<d.length;p+=2)if(d[p]===t){i.push(a,d[p+1],e[o+1]);break}}o+=2}else o+=2;else o+=4}return i}function sE(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null]}function LM(n,t){const e=po(t,n);if(wm(e)){const i=e[1];48&e[2]?Of(i,e,i.template,e[8]):e[5]>0&&Vs(e)}}function Vs(n){for(let i=Rd(n);null!==i;i=lv(i))for(let o=10;o<i.length;o++){const a=i[o];if(wm(a))if(512&a[2]){const d=a[1];Of(d,a,d.template,a[8])}else a[5]>0&&Vs(a)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const o=po(e[i],n);wm(o)&&o[5]>0&&Vs(o)}}function hy(n,t){const e=po(t,n),i=e[1];(function py(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),sy(i,e,e[8])}function qd(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Kh(n){for(;n;){n[2]|=32;const t=go(n);if(Ku(n)&&!t)return n;n=t}return null}function Kd(n,t,e,i=!0){const o=t[10];o.begin&&o.begin();try{Of(n,t,n.template,e)}catch(d){throw i&&gy(t,d),d}finally{o.end&&o.end()}}function my(n,t,e){N_(0),t(n,e)}function fy(n){return n[7]||(n[7]=[])}function qi(n){return n.cleanup||(n.cleanup=[])}function gy(n,t){const e=n[9],i=e?e.get(Nr,null):null;i&&i.handleError(t)}function Yh(n,t,e,i,o){for(let a=0;a<e.length;){const d=e[a++],p=e[a++],g=t[d],y=n.data[d];null!==y.setInput?y.setInput(g,o,i,p):g[p]=o}}function Yd(n,t,e){let i=e?n.styles:null,o=e?n.classes:null,a=0;if(null!==t)for(let d=0;d<t.length;d++){const p=t[d];"number"==typeof p?a=p:1==a?o=Lc(o,p):2==a&&(i=Lc(i,p+": "+t[++d]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=o:n.classesWithoutHost=o}function Da(n,t,e,i,o=!1){for(;null!==e;){const a=t[e.index];if(null!==a&&i.push(st(a)),Pi(a))for(let p=10;p<a.length;p++){const g=a[p],y=g[1].firstChild;null!==y&&Da(g[1],g,y,i)}const d=e.type;if(8&d)Da(n,t,e.child,i);else if(32&d){const p=Wm(e,t);let g;for(;g=p();)i.push(g)}else if(16&d){const p=Eh(t,e);if(Array.isArray(p))i.push(...p);else{const g=go(t[16]);Da(g[1],g,p,i,!0)}}e=o?e.projectionNext:e.next}return i}class Xd{get rootNodes(){const t=this._lView,e=t[1];return Da(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Pi(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(pv(t,i),Im(e,i))}this._attachedToViewContainer=!1}Ym(this._lView[1],this._lView)}onDestroy(t){Uh(this._lView[1],this._lView,null,t)}markForCheck(){Kh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Kd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function oM(n,t){Nd(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=t}}class js extends Xd{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Kd(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class _y extends dc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=dn(t);return new Hs(e,this.ngModule)}}function vy(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class Vf{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=$u(i);const o=this.injector.get(t,Ns,i);return o!==Ns||e===Ns?o:this.parentInjector.get(t,e,i)}}class Hs extends ww{get inputs(){return vy(this.componentDef.inputs)}get outputs(){return vy(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function Fh(n){return n.map(Nw).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,o){let a=(o=o||this.ngModule)instanceof _o?o:o?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const d=a?new Vf(t,a):t,p=d.get(xl,null);if(null===p)throw new re(407,!1);const g=d.get(EM,null),y=p.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",D=i?function Yw(n,t,e){return n.selectRootElement(t,e===Rr.ShadowDom)}(y,i,this.componentDef.encapsulation):Km(y,w,function yy(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(w)),S=this.componentDef.onPush?288:272,O=$h(0,null,null,1,0,null,null,null,null,null),V=Vh(null,O,null,S,null,null,p,y,g,d,null);let j,$;L_(V);try{const G=this.componentDef;let Y,X=null;G.findHostDirectiveDefs?(Y=[],X=new Map,G.findHostDirectiveDefs(G,Y,X),Y.push(G)):Y=[G];const ce=function lE(n,t){const e=n[1];return n[22]=t,Bs(e,22,2,"#host",null)}(V,D),_e=function dE(n,t,e,i,o,a,d,p){const g=o[1];!function uE(n,t,e,i){for(const o of n)t.mergedAttrs=sh(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(Yd(t,t.mergedAttrs,!0),null!==e&&Jm(i,e,t))}(i,n,t,d);const y=a.createRenderer(t,e),w=Vh(o,zh(e),null,e.onPush?32:16,o[n.index],n,a,y,p||null,null,null);return g.firstCreatePass&&Wd(g,n,i.length-1),qd(o,w),o[n.index]=w}(ce,D,G,Y,V,p,y);$=I_(O,22),D&&function hE(n,t,e,i){if(i)U_(n,e,["ng-version",Hv.full]);else{const{attrs:o,classes:a}=function Uv(n){const t=[],e=[];let i=1,o=2;for(;i<n.length;){let a=n[i];if("string"==typeof a)2===o?""!==a&&t.push(a,n[++i]):8===o&&e.push(a);else{if(!is(o))break;o=a}i++}return{attrs:t,classes:e}}(t.selectors[0]);o&&U_(n,e,o),a&&a.length>0&&bv(n,e,a.join(" "))}}(y,G,D,i),void 0!==e&&function pE(n,t,e){const i=n.projection=[];for(let o=0;o<t.length;o++){const a=e[o];i.push(null!=a?Array.from(a):null)}}($,this.ngContentSelectors,e),j=function Xh(n,t,e,i,o,a){const d=ar(),p=o[1],g=pi(d,o);eE(p,o,d,e,null,i);for(let w=0;w<e.length;w++)Bi(Ss(o,p,d.directiveStart+w,d),o);uy(p,o,d),g&&Bi(g,o);const y=Ss(o,p,d.directiveStart+d.componentOffset,d);if(n[8]=o[8]=y,null!==a)for(const w of a)w(y,t);return ay(p,d,n),y}(_e,G,Y,X,V,[by]),sy(O,V,null)}finally{km()}return new BM(this.componentType,j,Hd($,V),V,$)}}class BM extends xw{constructor(t,e,i,o,a){super(),this.location=i,this._rootLView=o,this._tNode=a,this.instance=e,this.hostView=this.changeDetectorRef=new js(o),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let o;if(null!==i&&(o=i[t])){const a=this._rootLView;Yh(a[1],a,o,t,e),wl(a,this._tNode.index)}}get injector(){return new ec(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function by(){const n=ar();rh(le()[1],n)}function De(n){let t=function xy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let o;if(vr(n))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new re(903,!1);o=t.\u0275dir}if(o){if(e){i.push(o);const d=n;d.inputs=jf(n.inputs),d.declaredInputs=jf(n.declaredInputs),d.outputs=jf(n.outputs);const p=o.hostBindings;p&&fE(n,p);const g=o.viewQuery,y=o.contentQueries;if(g&&wy(n,g),y&&Hf(n,y),sm(n.inputs,o.inputs),sm(n.declaredInputs,o.declaredInputs),sm(n.outputs,o.outputs),vr(o)&&o.data.animation){const w=n.data;w.animation=(w.animation||[]).concat(o.data.animation)}}const a=o.features;if(a)for(let d=0;d<a.length;d++){const p=a[d];p&&p.ngInherit&&p(n),p===De&&(e=!1)}}t=Object.getPrototypeOf(t)}!function mE(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const o=n[i];o.hostVars=t+=o.hostVars,o.hostAttrs=sh(o.hostAttrs,e=sh(e,o.hostAttrs))}}(i)}function jf(n){return n===Gr?{}:n===ln?[]:n}function wy(n,t){const e=n.viewQuery;n.viewQuery=e?(i,o)=>{t(i,o),e(i,o)}:t}function Hf(n,t){const e=n.contentQueries;n.contentQueries=e?(i,o,a)=>{t(i,o,a),e(i,o,a)}:t}function fE(n,t){const e=n.hostBindings;n.hostBindings=e?(i,o)=>{t(i,o),e(i,o)}:t}let pc=null;function ka(){if(!pc){const n=Zt.Symbol;if(n&&n.iterator)pc=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(pc=i)}}}return pc}function vo(n){return!!Qd(n)&&(Array.isArray(n)||!(n instanceof Map)&&ka()in n)}function Qd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ss(n,t,e){return n[t]=e}function oi(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Jt(n,t,e,i){const o=le();return oi(o,md(),t)&&(Pe(),rs(Pn(),o,n,t,e,i)),Jt}function El(n,t,e,i){return oi(n,md(),e)?t+Et(e)+i:Rt}function Jh(n,t,e,i,o,a){const d=le(),p=El(d,t,e,i);return p!==Rt&&rs(Pn(),d,n,p,o,a),Jh}function Se(n,t,e,i,o,a,d,p){const g=le(),y=Pe(),w=n+22,D=y.firstCreatePass?function zM(n,t,e,i,o,a,d,p,g){const y=t.consts,w=Bs(t,n,4,d||null,hn(y,p));Gd(t,e,w,hn(y,g)),rh(t,w);const D=w.tViews=$h(2,w,i,o,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,y);return null!==t.queries&&(t.queries.template(t,w),D.queries=t.queries.embeddedTView(w)),w}(w,y,g,t,e,i,o,a,d):y.data[w];Es(D,!1);const S=g[11].createComment("");ac(y,g,S,D),Bi(S,g),qd(g,g[w]=sE(S,g,S,D)),hd(D)&&Hh(y,g,D),null!=d&&Ud(g,D,p)}function Tn(n){return Zc(function Ik(){return At.lFrame.contextLView}(),22+n)}function Ce(n,t,e){const i=le();return oi(i,md(),t)&&Lr(Pe(),Pn(),i,n,t,i[11],e,!1),Ce}function Gf(n,t,e,i,o){const d=o?"class":"style";Yh(n,e,t.inputs[d],d,i)}function he(n,t,e,i){const o=le(),a=Pe(),d=22+n,p=o[11],g=o[d]=Km(p,t,function vd(){return At.lFrame.currentNamespace}()),y=a.firstCreatePass?function Wf(n,t,e,i,o,a,d){const p=t.consts,y=Bs(t,n,2,o,hn(p,a));return Gd(t,e,y,hn(p,d)),null!==y.attrs&&Yd(y,y.attrs,!1),null!==y.mergedAttrs&&Yd(y,y.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,y),y}(d,a,o,0,t,e,i):a.data[d];return Es(y,!0),Jm(p,g,y),32!=(32&y.flags)&&ac(a,o,g,y),0===function mo(){return At.lFrame.elementDepthCount}()&&Bi(g,o),function Em(){At.lFrame.elementDepthCount++}(),hd(y)&&(Hh(a,o,y),ay(a,y,o)),null!==i&&Ud(o,y),he}function fe(){let n=ar();P_()?F_():(n=n.parent,Es(n,!1));const t=n;!function dx(){At.lFrame.elementDepthCount--}();const e=Pe();return e.firstCreatePass&&(rh(e,n),A_(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function gx(n){return 0!=(8&n.flags)}(t)&&Gf(e,t,le(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function $_(n){return 0!=(16&n.flags)}(t)&&Gf(e,t,le(),t.stylesWithoutHost,!1),fe}function Qe(n,t,e,i){return he(n,t,e,i),fe(),Qe}function Qr(n,t,e){const i=le(),o=Pe(),a=n+22,d=o.firstCreatePass?function ky(n,t,e,i,o){const a=t.consts,d=hn(a,i),p=Bs(t,n,8,"ng-container",d);return null!==d&&Yd(p,d,!0),Gd(t,e,p,hn(a,o)),null!==t.queries&&t.queries.elementStart(t,p),p}(a,o,i,t,e):o.data[a];Es(d,!0);const p=i[a]=i[11].createComment("");return ac(o,i,p,d),Bi(p,i),hd(d)&&(Hh(o,i,d),ay(o,d,i)),null!=e&&Ud(i,d),Qr}function Jr(){let n=ar();const t=Pe();return P_()?F_():(n=n.parent,Es(n,!1)),t.firstCreatePass&&(rh(t,n),A_(n)&&t.queries.elementEnd(n)),Jr}function _i(n,t,e){return Qr(n,t,e),Jr(),_i}function Ki(){return le()}function ep(n){return!!n&&"function"==typeof n.then}const Dl=function xE(n){return!!n&&"function"==typeof n.subscribe};function ct(n,t,e,i){const o=le(),a=Pe(),d=ar();return function My(n,t,e,i,o,a,d){const p=hd(i),y=n.firstCreatePass&&qi(n),w=t[8],D=fy(t);let S=!0;if(3&i.type||d){const j=pi(i,t),$=d?d(j):j,G=D.length,Y=d?ce=>d(st(ce[i.index])):i.index;let X=null;if(!d&&p&&(X=function qf(n,t,e,i){const o=n.cleanup;if(null!=o)for(let a=0;a<o.length-1;a+=2){const d=o[a];if(d===e&&o[a+1]===i){const p=t[7],g=o[a+2];return p.length>g?p[g]:null}"string"==typeof d&&(a+=2)}return null}(n,t,o,i.index)),null!==X)(X.__ngLastListenerFn__||X).__ngNextListenerFn__=a,X.__ngLastListenerFn__=a,S=!1;else{a=Kf(i,t,w,a,!1);const ce=e.listen($,o,a);D.push(a,ce),y&&y.push(o,Y,G,G+1)}}else a=Kf(i,t,w,a,!1);const O=i.outputs;let V;if(S&&null!==O&&(V=O[o])){const j=V.length;if(j)for(let $=0;$<j;$+=2){const _e=t[V[$]][V[$+1]].subscribe(a),me=D.length;D.push(a,_e),y&&y.push(o,i.index,me,-(me+1))}}}(a,o,o[11],d,n,t,i),ct}function tp(n,t,e,i){try{return!1!==e(i)}catch(o){return gy(n,o),!1}}function Kf(n,t,e,i,o){return function a(d){if(d===Function)return i;Kh(n.componentOffset>-1?po(n.index,t):t);let g=tp(t,0,i,d),y=a.__ngNextListenerFn__;for(;y;)g=tp(t,0,y,d)&&g,y=y.__ngNextListenerFn__;return o&&!1===g&&(d.preventDefault(),d.returnValue=!1),g}}function We(n=1){return function Ja(n){return(At.lFrame.contextLView=function gd(n,t){for(;n>0;)t=t[15],n--;return t}(n,At.lFrame.contextLView))[8]}(n)}function np(n,t){let e=null;const i=function Pw(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let o=0;o<t.length;o++){const a=t[o];if("*"!==a){if(null===i?$v(n,a,!0):AM(i,a))return o}else e=o}return e}function si(n){const t=le()[16][6];if(!t.projection){const i=t.projection=Dd(n?n.length:1,null),o=i.slice();let a=t.child;for(;null!==a;){const d=n?np(a,n):0;null!==d&&(o[d]?o[d].projectionNext=a:i[d]=a,o[d]=a),a=a.next}}}function bt(n,t=0,e){const i=le(),o=Pe(),a=Bs(o,22+n,16,null,e||null);null===a.projection&&(a.projection=t),F_(),32!=(32&a.flags)&&function Jx(n,t,e){yv(t[11],0,t,e,fv(n,e,t),Qx(e.parent||t[6],e,t))}(o,i,a)}function ip(n,t,e,i,o){const a=le(),d=El(a,t,e,i);return d!==Rt&&Lr(Pe(),Pn(),a,n,d,a[11],o,!1),ip}function op(n,t){return n<<17|t<<2}function Oa(n){return n>>17&32767}function Xf(n){return 2|n}function gc(n){return(131068&n)>>2}function sp(n,t){return-131069&n|t<<2}function kl(n){return 1|n}function CE(n,t,e,i,o){const a=n[e+1],d=null===t;let p=i?Oa(a):gc(a),g=!1;for(;0!==p&&(!1===g||d);){const w=n[p+1];ap(n[p],t)&&(g=!0,n[p+1]=i?kl(w):Xf(w)),p=i?Oa(w):gc(w)}g&&(n[e+1]=i?Xf(a):kl(a))}function ap(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ll(n,t)>=0}function $o(n,t,e){return Uo(n,t,e,!1),$o}function lt(n,t){return Uo(n,t,null,!0),lt}function Uo(n,t,e,i){const o=le(),a=Pe(),d=function Bo(n){const t=At.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}(2);a.firstUpdatePass&&function SE(n,t,e,i){const o=n.data;if(null===o[e+1]){const a=o[xr()],d=function ME(n,t){return t>=n.expandoStartIndex}(n,e);(function lu(n,t){return 0!=(n.flags&(t?8:16))})(a,i)&&null===t&&!d&&(t=!1),t=function TE(n,t,e,i){const o=function Ci(n){const t=At.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let a=i?t.residualClasses:t.residualStyles;if(null===o)0===(i?t.classBindings:t.styleBindings)&&(e=Ml(e=tg(null,n,t,e,i),t.attrs,i),a=null);else{const d=t.directiveStylingLast;if(-1===d||n[d]!==o)if(e=tg(o,n,t,e,i),null===a){let g=function Py(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==gc(i))return n[Oa(i)]}(n,t,i);void 0!==g&&Array.isArray(g)&&(g=tg(null,n,t,g[1],i),g=Ml(g,t.attrs,i),function AE(n,t,e,i){n[Oa(e?t.classBindings:t.styleBindings)]=i}(n,t,i,g))}else a=function RE(n,t,e){let i;const o=t.directiveEnd;for(let a=1+t.directiveStylingLast;a<o;a++)i=Ml(i,n[a].hostAttrs,e);return Ml(i,t.attrs,e)}(n,t,i)}return void 0!==a&&(i?t.residualClasses=a:t.residualStyles=a),e}(o,a,t,i),function UM(n,t,e,i,o,a){let d=a?t.classBindings:t.styleBindings,p=Oa(d),g=gc(d);n[i]=e;let w,y=!1;if(Array.isArray(e)?(w=e[1],(null===w||ll(e,w)>0)&&(y=!0)):w=e,o)if(0!==g){const S=Oa(n[p+1]);n[i+1]=op(S,p),0!==S&&(n[S+1]=sp(n[S+1],i)),n[p+1]=function Yf(n,t){return 131071&n|t<<17}(n[p+1],i)}else n[i+1]=op(p,0),0!==p&&(n[p+1]=sp(n[p+1],i)),p=i;else n[i+1]=op(g,0),0===p?p=i:n[g+1]=sp(n[g+1],i),g=i;y&&(n[i+1]=Xf(n[i+1])),CE(n,w,i,!0),CE(n,w,i,!1),function EE(n,t,e,i,o){const a=o?n.residualClasses:n.residualStyles;null!=a&&"string"==typeof t&&ll(a,t)>=0&&(e[i+1]=kl(e[i+1]))}(t,w,n,i,a),d=op(p,g),a?t.classBindings=d:t.styleBindings=d}(o,a,t,e,d,i)}}(a,n,d,i),t!==Rt&&oi(o,d,t)&&function IE(n,t,e,i,o,a,d,p){if(!(3&t.type))return;const g=n.data,y=g[p+1],w=function fn(n){return 1==(1&n)}(y)?Fy(g,t,e,o,gc(y),d):void 0;lp(w)||(lp(a)||function wE(n){return 2==(2&n)}(y)&&(a=Fy(g,null,e,o,p,d)),function tw(n,t,e,i,o){if(t)o?n.addClass(e,i):n.removeClass(e,i);else{let a=-1===i.indexOf("-")?void 0:Er.DashCase;null==o?n.removeStyle(e,i,a):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),a|=Er.Important),n.setStyle(e,i,o,a))}}(i,d,Zu(xr(),e),o,a))}(a,a.data[xr()],o,o[11],n,o[d+1]=function dp(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Xt(fi(n)))),n}(t,e),i,d)}function tg(n,t,e,i,o){let a=null;const d=e.directiveEnd;let p=e.directiveStylingLast;for(-1===p?p=e.directiveStart:p++;p<d&&(a=t[p],i=Ml(i,a.hostAttrs,o),a!==n);)p++;return null!==n&&(e.directiveStylingLast=p),i}function Ml(n,t,e){const i=e?1:2;let o=-1;if(null!==t)for(let a=0;a<t.length;a++){const d=t[a];"number"==typeof d?o=d:o===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),qr(n,d,!!e||t[++a]))}return void 0===n?null:n}function Fy(n,t,e,i,o,a){const d=null===t;let p;for(;o>0;){const g=n[o],y=Array.isArray(g),w=y?g[1]:g,D=null===w;let S=e[o+1];S===Rt&&(S=D?ln:void 0);let O=D?cl(S,i):w===i?S:void 0;if(y&&!lp(O)&&(O=cl(g,i)),lp(O)&&(p=O,d))return p;const V=n[o+1];o=d?Oa(V):gc(V)}if(null!==t){let g=a?t.residualClasses:t.residualStyles;null!=g&&(p=cl(g,i))}return p}function lp(n){return void 0!==n}function gt(n,t=""){const e=le(),i=Pe(),o=n+22,a=i.firstCreatePass?Bs(i,o,1,t,null):i.data[o],d=e[o]=function oc(n,t){return n.createText(t)}(e[11],t);ac(i,e,d,a),Es(a,!1)}function bo(n){return vi("",n,""),bo}function vi(n,t,e){const i=le(),o=El(i,n,t,e);return o!==Rt&&function os(n,t,e){const i=Zu(t,n);!function uv(n,t,e){n.setValue(t,e)}(n[11],i,e)}(i,xr(),o),vi}function Rl(n,t,e){const i=le();return oi(i,md(),t)&&Lr(Pe(),Pn(),i,n,t,i[11],e,!0),Rl}const Il=void 0;var tS=["en",[["a","p"],["AM","PM"],Il],[["AM","PM"],Il,Il],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Il,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Il,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Il,"{1} 'at' {0}",Il],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Uy(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let vc={};function Br(n){const t=function ag(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=Wy(t);if(e)return e;const i=t.split("-")[0];if(e=Wy(i),e)return e;if("en"===i)return tS;throw new re(701,!1)}function Wy(n){return n in vc||(vc[n]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[n]),vc[n]}var Te=(()=>((Te=Te||{})[Te.LocaleId=0]="LocaleId",Te[Te.DayPeriodsFormat=1]="DayPeriodsFormat",Te[Te.DayPeriodsStandalone=2]="DayPeriodsStandalone",Te[Te.DaysFormat=3]="DaysFormat",Te[Te.DaysStandalone=4]="DaysStandalone",Te[Te.MonthsFormat=5]="MonthsFormat",Te[Te.MonthsStandalone=6]="MonthsStandalone",Te[Te.Eras=7]="Eras",Te[Te.FirstDayOfWeek=8]="FirstDayOfWeek",Te[Te.WeekendRange=9]="WeekendRange",Te[Te.DateFormat=10]="DateFormat",Te[Te.TimeFormat=11]="TimeFormat",Te[Te.DateTimeFormat=12]="DateTimeFormat",Te[Te.NumberSymbols=13]="NumberSymbols",Te[Te.NumberFormats=14]="NumberFormats",Te[Te.CurrencyCode=15]="CurrencyCode",Te[Te.CurrencySymbol=16]="CurrencySymbol",Te[Te.CurrencyName=17]="CurrencyName",Te[Te.Currencies=18]="Currencies",Te[Te.Directionality=19]="Directionality",Te[Te.PluralCase=20]="PluralCase",Te[Te.ExtraData=21]="ExtraData",Te))();const ls="en-US";let Fa=ls;function mp(n,t,e,i,o){if(n=mt(n),Array.isArray(n))for(let a=0;a<n.length;a++)mp(n[a],t,e,i,o);else{const a=Pe(),d=le();let p=fl(n)?n:mt(n.provide),g=vl(n);const y=ar(),w=1048575&y.providerIndexes,D=y.directiveStart,S=y.providerIndexes>>20;if(fl(n)||!n.multi){const O=new Zn(g,o,B),V=du(p,t,o?w:w+S,D);-1===V?(Ms(dh(y,d),a,p),bc(a,n,t.length),t.push(p),y.directiveStart++,y.directiveEnd++,o&&(y.providerIndexes+=1048576),e.push(O),d.push(O)):(e[V]=O,d[V]=O)}else{const O=du(p,t,w+S,D),V=du(p,t,w,w+S),$=V>=0&&e[V];if(o&&!$||!o&&!(O>=0&&e[O])){Ms(dh(y,d),a,p);const G=function Ba(n,t,e,i,o){const a=new Zn(n,e,B);return a.multi=[],a.index=t,a.componentProviders=0,fp(a,o,i&&!e),a}(o?Zy:hg,e.length,o,i,g);!o&&$&&(e[V].providerFactory=G),bc(a,n,t.length,0),t.push(p),y.directiveStart++,y.directiveEnd++,o&&(y.providerIndexes+=1048576),e.push(G),d.push(G)}else bc(a,n,O>-1?O:V,fp(e[o?V:O],g,!o&&i));!o&&i&&$&&e[V].componentProviders++}}}function bc(n,t,e,i){const o=fl(t),a=function jo(n){return!!n.useClass}(t);if(o||a){const g=(a?mt(t.useClass):t).prototype.ngOnDestroy;if(g){const y=n.destroyHooks||(n.destroyHooks=[]);if(!o&&t.multi){const w=y.indexOf(e);-1===w?y.push(e,[i,g]):y[w+1].push(i,g)}else y.push(e,g)}}}function fp(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function du(n,t,e,i){for(let o=e;o<i;o++)if(t[o]===n)return o;return-1}function hg(n,t,e,i){return Ws(this.multi,[])}function Zy(n,t,e,i){const o=this.multi;let a;if(this.providerFactory){const d=this.providerFactory.componentProviders,p=Ss(e,e[1],this.providerFactory.index,i);a=p.slice(0,d),Ws(o,a);for(let g=d;g<p.length;g++)a.push(p[g])}else a=[],Ws(o,a);return a}function Ws(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Je(n,t=[]){return e=>{e.providersResolver=(i,o)=>function eC(n,t,e){const i=Pe();if(i.firstCreatePass){const o=vr(n);mp(e,i.data,i.blueprint,o,!0),mp(t,i.data,i.blueprint,o,!1)}}(i,o?o(n):n,t)}}class Ol{}class gp{}class pg extends Ol{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _y(this);const i=Pr(t);this._bootstrapComponents=wa(i.bootstrap),this._r3Injector=bf(t,e,[{provide:Ol,useValue:this},{provide:dc,useValue:this.componentFactoryResolver}],Xt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class _p extends gp{constructor(t){super(),this.moduleType=t}create(t){return new pg(this.moduleType,t)}}class Jy extends Ol{constructor(t,e,i){super(),this.componentFactoryResolver=new _y(this),this.instance=null;const o=new bw([...t,{provide:Ol,useValue:this},{provide:dc,useValue:this.componentFactoryResolver}],e||_l(),i,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function uu(n,t,e=null){return new Jy(n,t,e).injector}let mg=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=_w(0,e.type),o=i.length>0?uu([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,o)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=we({token:n,providedIn:"environment",factory:()=>new n(ne(_o))}),n})();function qs(n){n.getStandaloneInjector=t=>t.get(mg).getOrCreateStandaloneInjector(n)}function xc(n,t,e,i){return function Va(n,t,e,i,o,a){const d=t+e;return oi(n,d,o)?ss(n,d+1,a?i.call(a,o):i(o)):hs(n,d+1)}(le(),br(),n,t,e,i)}function hs(n,t){const e=n[t];return e===Rt?void 0:e}function rb(n,t,e,i,o,a,d){const p=t+e;return function Ma(n,t,e,i){const o=oi(n,t,e);return oi(n,t+1,i)||o}(n,p,o,a)?ss(n,p+2,d?i.call(d,o,a):i(o,a)):hs(n,p+2)}function hS(n){return t=>{setTimeout(n,void 0,t)}}const rn=class VV extends Ne{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let o=t,a=e||(()=>null),d=i;if(t&&"object"==typeof t){const g=t;o=g.next?.bind(g),a=g.error?.bind(g),d=g.complete?.bind(g)}this.__isAsync&&(a=hS(a),o&&(o=hS(o)),d&&(d=hS(d)));const p=super.subscribe({next:o,error:a,complete:d});return t instanceof qt&&t.add(p),p}};function jV(){return this._results[ka()]()}class gg{get changes(){return this._changes||(this._changes=new rn)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=ka(),i=gg.prototype;i[e]||(i[e]=jV)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const o=function fo(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ex(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let o=n[i],a=t[i];if(e&&(o=e(o),a=e(a)),a!==o)return!1}return!0}(i._results,o,e))&&(i._results=o,i.length=o.length,i.last=o[this.length-1],i.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Zi=(()=>{class n{}return n.__NG_ELEMENT_ID__=$V,n})();const HV=Zi,zV=class extends HV{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t,e){const i=this._declarationTContainer.tViews,o=Vh(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,e||null);o[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(o[19]=d.createEmbeddedView(i)),sy(i,o,t),new Xd(o)}};function $V(){return rC(ar(),le())}function rC(n,t){return 4&n.type?new zV(t,n,Hd(n,t)):null}let ji=(()=>{class n{}return n.__NG_ELEMENT_ID__=UV,n})();function UV(){return y2(ar(),le())}const GV=ji,_2=class extends GV{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Hd(this._hostTNode,this._hostLView)}get injector(){return new ec(this._hostTNode,this._hostLView)}get parentInjector(){const t=q_(this._hostTNode,this._hostLView);if(vx(t)){const e=Ds(t,this._hostLView),i=ah(t);return new ec(e[1].data[i+8],e)}return new ec(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=v2(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){let o,a;"number"==typeof i?o=i:null!=i&&(o=i.index,a=i.injector);const d=t.createEmbeddedView(e||{},a);return this.insert(d,o),d}createComponent(t,e,i,o,a){const d=t&&!function ol(n){return"function"==typeof n}(t);let p;if(d)p=e;else{const D=e||{};p=D.index,i=D.injector,o=D.projectableNodes,a=D.environmentInjector||D.ngModuleRef}const g=d?t:new Hs(dn(t)),y=i||this.parentInjector;if(!a&&null==g.ngModule){const S=(d?y:this.parentInjector).get(_o,null);S&&(a=S)}const w=g.create(y,o,void 0,a);return this.insert(w.hostView,p),w}insert(t,e){const i=t._lView,o=i[1];if(function Rk(n){return Pi(n[3])}(i)){const w=this.indexOf(t);if(-1!==w)this.detach(w);else{const D=i[3],S=new _2(D,D[6],D[3]);S.detach(S.indexOf(t))}}const a=this._adjustIndex(e),d=this._lContainer;!function hv(n,t,e,i){const o=10+i,a=e.length;i>0&&(e[o-1][4]=t),i<a-10?(t[4]=e[o],al(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const d=t[17];null!==d&&e!==d&&function Is(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(d,t);const p=t[19];null!==p&&p.insertView(n),t[2]|=64}(o,i,d,a);const p=Qm(a,d),g=i[11],y=wh(g,d[7]);return null!==y&&function Od(n,t,e,i,o,a){i[0]=o,i[6]=t,Nd(n,i,e,1,o,a)}(o,d[6],g,i,y,p),t.attachToViewContainerRef(),al(pS(d),a,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=v2(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=pv(this._lContainer,e);i&&(Im(pS(this._lContainer),e),Ym(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=pv(this._lContainer,e);return i&&null!=Im(pS(this._lContainer),e)?new Xd(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function v2(n){return n[8]}function pS(n){return n[8]||(n[8]=[])}function y2(n,t){let e;const i=t[n.index];if(Pi(i))e=i;else{let o;if(8&n.type)o=st(i);else{const a=t[11];o=a.createComment("");const d=pi(n,t);hl(a,wh(a,d),o,function Zx(n,t){return n.nextSibling(t)}(a,d),!1)}t[n.index]=e=sE(i,t,o,n),qd(t,e)}return new _2(e,n,t)}class mS{constructor(t){this.queryList=t,this.matches=null}clone(){return new mS(this.queryList)}setDirty(){this.queryList.setDirty()}}class fS{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,o=[];for(let a=0;a<i;a++){const d=e.getByIndex(a);o.push(this.queries[d.indexInDeclarationView].clone())}return new fS(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==C2(t,e).matches&&this.queries[e].setDirty()}}class b2{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class gS{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const o=null!==e?e.length:0,a=this.getByIndex(i).embeddedTView(t,o);a&&(a.indexInDeclarationView=i,null!==e?e.push(a):e=[a])}return null!==e?new gS(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class _S{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new _S(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let o=0;o<i.length;o++){const a=i[o];this.matchTNodeWithReadOption(t,e,WV(e,a)),this.matchTNodeWithReadOption(t,e,Ed(e,t,a,!1,!1))}else i===Zi?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ed(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const o=this.metadata.read;if(null!==o)if(o===qe||o===ji||o===Zi&&4&e.type)this.addMatch(e.index,-2);else{const a=Ed(e,t,o,!1,!1);null!==a&&this.addMatch(e.index,a)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function WV(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function KV(n,t,e,i){return-1===e?function qV(n,t){return 11&n.type?Hd(n,t):4&n.type?rC(n,t):null}(t,n):-2===e?function YV(n,t,e){return e===qe?Hd(t,n):e===Zi?rC(t,n):e===ji?y2(t,n):void 0}(n,t,i):Ss(n,n[1],e,t)}function x2(n,t,e,i){const o=t[19].queries[i];if(null===o.matches){const a=n.data,d=e.matches,p=[];for(let g=0;g<d.length;g+=2){const y=d[g];p.push(y<0?null:KV(t,a[y],d[g+1],e.metadata.read))}o.matches=p}return o.matches}function vS(n,t,e,i){const o=n.queries.getByIndex(e),a=o.matches;if(null!==a){const d=x2(n,t,o,e);for(let p=0;p<a.length;p+=2){const g=a[p];if(g>0)i.push(d[p/2]);else{const y=a[p+1],w=t[-g];for(let D=10;D<w.length;D++){const S=w[D];S[17]===S[3]&&vS(S[1],S,y,i)}if(null!==w[9]){const D=w[9];for(let S=0;S<D.length;S++){const O=D[S];vS(O[1],O,y,i)}}}}}return i}function dt(n){const t=le(),e=Pe(),i=th();N_(i+1);const o=C2(e,i);if(n.dirty&&function Ak(n){return 4==(4&n[2])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)n.reset([]);else{const a=o.crossesNgTemplate?vS(e,t,i,[]):x2(e,t,o,i);n.reset(a,Ho),n.notifyOnChanges()}return!0}return!1}function Nn(n,t,e){const i=Pe();i.firstCreatePass&&(E2(i,new b2(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),w2(i,le(),t)}function Ln(n,t,e,i){const o=Pe();if(o.firstCreatePass){const a=ar();E2(o,new b2(t,e,i),a.index),function ZV(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(o,n),2==(2&e)&&(o.staticContentQueries=!0)}w2(o,le(),e)}function ut(){return function XV(n,t){return n[19].queries[t].queryList}(le(),th())}function w2(n,t,e){const i=new gg(4==(4&e));Uh(n,t,i,i.destroy),null===t[19]&&(t[19]=new fS),t[19].queries.push(new mS(i))}function E2(n,t,e){null===n.queries&&(n.queries=new gS),n.queries.track(new _S(t,e))}function C2(n,t){return n.queries.getByIndex(t)}function _g(n,t){return rC(n,t)}function sC(...n){}const lb=new ue("Application Initializer");let aC=(()=>{class n{constructor(e){this.appInits=e,this.resolve=sC,this.reject=sC,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const a=this.appInits[o]();if(ep(a))e.push(a);else if(Dl(a)){const d=new Promise((p,g)=>{a.subscribe({complete:p,error:g})});e.push(d)}}Promise.all(e).then(()=>{i()}).catch(o=>{this.reject(o)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(ne(lb,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bg=new ue("AppId",{providedIn:"root",factory:function $2(){return`${ES()}${ES()}${ES()}`}});function ES(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const U2=new ue("Platform Initializer"),db=new ue("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),G2=new ue("appBootstrapListener"),Eo=new ue("AnimationModuleType");let _j=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ja=new ue("LocaleId",{providedIn:"root",factory:()=>St(ja,ft.Optional|ft.SkipSelf)||function vj(){return typeof $localize<"u"&&$localize.locale||ls}()});class bj{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let W2=(()=>{class n{compileModuleSync(e){return new _p(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),a=wa(Pr(e).declarations).reduce((d,p)=>{const g=dn(p);return g&&d.push(new Hs(g)),d},[]);return new bj(i,a)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ej=(()=>Promise.resolve(0))();function CS(n){typeof Zone>"u"?Ej.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ze{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rn(!1),this.onMicrotaskEmpty=new rn(!1),this.onStable=new rn(!1),this.onError=new rn(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&e,o.shouldCoalesceRunChangeDetection=i,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function Cj(){let n=Zt.requestAnimationFrame,t=Zt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Mj(n){const t=()=>{!function kj(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Zt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,kS(n),n.isCheckStableRunning=!0,DS(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),kS(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,o,a,d,p)=>{try{return Y2(n),e.invokeTask(o,a,d,p)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||n.shouldCoalesceRunChangeDetection)&&t(),X2(n)}},onInvoke:(e,i,o,a,d,p,g)=>{try{return Y2(n),e.invoke(o,a,d,p,g)}finally{n.shouldCoalesceRunChangeDetection&&t(),X2(n)}},onHasTask:(e,i,o,a)=>{e.hasTask(o,a),i===o&&("microTask"==a.change?(n._hasPendingMicrotasks=a.microTask,kS(n),DS(n)):"macroTask"==a.change&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(e,i,o,a)=>(e.handleError(o,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ze.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(Ze.isInAngularZone())throw new re(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,o){const a=this._inner,d=a.scheduleEventTask("NgZoneEvent: "+o,t,Dj,sC,sC);try{return a.runTask(d,e,i)}finally{a.cancelTask(d)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const Dj={};function DS(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function kS(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Y2(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function X2(n){n._nesting--,DS(n)}class Sj{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rn,this.onMicrotaskEmpty=new rn,this.onStable=new rn,this.onError=new rn}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,o){return t.apply(e,i)}}const Z2=new ue(""),cC=new ue("");let TS,MS=(()=>{class n{constructor(e,i,o){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,TS||(function Tj(n){TS=n}(o),o.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ze.assertNotInAngularZone(),CS(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())CS(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,o){let a=-1;i&&i>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==a),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:a,updateCb:o})}whenStable(e,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,o){return[]}}return n.\u0275fac=function(e){return new(e||n)(ne(Ze),ne(SS),ne(cC))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),SS=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return TS?.findTestabilityInTree(this,e,i)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),pu=null;const Q2=new ue("AllowMultipleToken"),AS=new ue("PlatformDestroyListeners");class J2{constructor(t,e){this.name=t,this.token=e}}function tO(n,t,e=[]){const i=`Platform: ${t}`,o=new ue(i);return(a=[])=>{let d=RS();if(!d||d.injector.get(Q2,!1)){const p=[...e,...a,{provide:o,useValue:!0}];n?n(p):function Ij(n){if(pu&&!pu.get(Q2,!1))throw new re(400,!1);pu=n;const t=n.get(iO);(function eO(n){const t=n.get(U2,null);t&&t.forEach(e=>e())})(n)}(function nO(n=[],t){return gi.create({name:t,providers:[{provide:jv,useValue:"platform"},{provide:AS,useValue:new Set([()=>pu=null])},...n]})}(p,i))}return function Pj(n){const t=RS();if(!t)throw new re(401,!1);return t}()}}function RS(){return pu?.get(iO)??null}let iO=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const o=function oO(n,t){let e;return e="noop"===n?new Sj:("zone.js"===n?void 0:n)||new Ze(t),e}(i?.ngZone,function rO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),a=[{provide:Ze,useValue:o}];return o.run(()=>{const d=gi.create({providers:a,parent:this.injector,name:e.moduleType.name}),p=e.create(d),g=p.injector.get(Nr,null);if(!g)throw new re(402,!1);return o.runOutsideAngular(()=>{const y=o.onError.subscribe({next:w=>{g.handleError(w)}});p.onDestroy(()=>{lC(this._modules,p),y.unsubscribe()})}),function sO(n,t,e){try{const i=e();return ep(i)?i.catch(o=>{throw t.runOutsideAngular(()=>n.handleError(o)),o}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(g,o,()=>{const y=p.injector.get(aC);return y.runInitializers(),y.donePromise.then(()=>(function qE(n){gr(n,"Expected localeId to be defined"),"string"==typeof n&&(Fa=n.toLowerCase().replace(/_/g,"-"))}(p.injector.get(ja,ls)||ls),this._moduleDoBootstrap(p),p))})})}bootstrapModule(e,i=[]){const o=aO({},i);return function Aj(n,t,e){const i=new _p(e);return Promise.resolve(i)}(0,0,e).then(a=>this.bootstrapModuleFactory(a,o))}_moduleDoBootstrap(e){const i=e.injector.get(yp);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new re(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(AS,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(ne(gi))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function aO(n,t){return Array.isArray(t)?t.reduce(aO,n):{...n,...t}}let yp=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(e,i,o){this._zone=e,this._injector=i,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new sn(p=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{p.next(this._stable),p.complete()})}),d=new sn(p=>{let g;this._zone.runOutsideAngular(()=>{g=this._zone.onStable.subscribe(()=>{Ze.assertNotInAngularZone(),CS(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,p.next(!0))})})});const y=this._zone.onUnstable.subscribe(()=>{Ze.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{p.next(!1)}))});return()=>{g.unsubscribe(),y.unsubscribe()}});this.isStable=Oo(a,d.pipe(om()))}bootstrap(e,i){const o=e instanceof ww;if(!this._injector.get(aC).done)throw!o&&function zc(n){const t=dn(n)||ir(n)||Or(n);return null!==t&&t.standalone}(e),new re(405,false);let d;d=o?e:this._injector.get(dc).resolveComponentFactory(e),this.componentTypes.push(d.componentType);const p=function Rj(n){return n.isBoundToModule}(d)?void 0:this._injector.get(Ol),y=d.create(gi.NULL,[],i||d.selector,p),w=y.location.nativeElement,D=y.injector.get(Z2,null);return D?.registerApplication(w),y.onDestroy(()=>{this.detachView(y.hostView),lC(this.components,y),D?.unregisterApplication(w)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new re(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;lC(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(G2,[]);i.push(...this._bootstrapListeners),i.forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>lC(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new re(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(ne(Ze),ne(_o),ne(Nr))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lC(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let io=(()=>{class n{}return n.__NG_ELEMENT_ID__=Lj,n})();function Lj(n){return function Bj(n,t,e){if(da(n)&&!e){const i=po(n.index,t);return new Xd(i,i)}return 47&n.type?new Xd(t[16],t):null}(ar(),le(),16==(16&n))}class hO{constructor(){}supports(t){return vo(t)}create(t){return new Uj(t)}}const $j=(n,t)=>t;class Uj{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||$j}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,o=0,a=null;for(;e||i;){const d=!i||e&&e.currentIndex<mO(i,o,a)?e:i,p=mO(d,o,a),g=d.currentIndex;if(d===i)o--,i=i._nextRemoved;else if(e=e._next,null==d.previousIndex)o++;else{a||(a=[]);const y=p-o,w=g-o;if(y!=w){for(let S=0;S<y;S++){const O=S<a.length?a[S]:a[S]=0,V=O+S;w<=V&&V<y&&(a[S]=O+1)}a[d.previousIndex]=w-y}}p!==g&&t(d,p,g)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!vo(t))throw new re(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,a,d,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let p=0;p<this.length;p++)a=t[p],d=this._trackByFn(p,a),null!==e&&Object.is(e.trackById,d)?(i&&(e=this._verifyReinsertion(e,a,d,p)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,d,p),i=!0),e=e._next}else o=0,function mc(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[ka()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,p=>{d=this._trackByFn(o,p),null!==e&&Object.is(e.trackById,d)?(i&&(e=this._verifyReinsertion(e,p,d,o)),Object.is(e.item,p)||this._addIdentityChange(e,p)):(e=this._mismatch(e,p,d,o),i=!0),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,o){let a;return null===t?a=this._itTail:(a=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,a,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,o))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,a,o)):t=this._addAfter(new Gj(e,i),a,o),t}_verifyReinsertion(t,e,i,o){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==a?t=this._reinsertAfter(a,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,a=t._nextRemoved;return null===o?this._removalsHead=a:o._nextRemoved=a,null===a?this._removalsTail=o:a._prevRemoved=o,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const o=null===e?this._itHead:e._next;return t._next=o,t._prev=e,null===o?this._itTail=t:o._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new pO),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pO),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Gj{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Wj{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class pO{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new Wj,this.map.set(e,i)),i.add(t)}get(t,e){const o=this.map.get(t);return o?o.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mO(n,t,e){const i=n.previousIndex;if(null===i)return i;let o=0;return e&&i<e.length&&(o=e[i]),i+t+o}class fO{constructor(){}supports(t){return t instanceof Map||Qd(t)}create(){return new qj}}class qj{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Qd(t)))throw new re(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,o)=>{if(e&&e.key===o)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const a=this._getOrCreateRecordForKey(o,i);e=this._insertBeforeOrAppend(e,a)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,e);const a=o._prev,d=o._next;return a&&(a._next=d),d&&(d._prev=a),o._next=null,o._prev=null,o}const i=new Kj(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Kj{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gO(){return new Ks([new hO])}let Ks=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const o=i.factories.slice();e=e.concat(o)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||gO()),deps:[[n,new _a,new Rs]]}}find(e){const i=this.factories.find(o=>o.supports(e));if(null!=i)return i;throw new re(901,!1)}}return n.\u0275prov=we({token:n,providedIn:"root",factory:gO}),n})();function _O(){return new ub([new fO])}let ub=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const o=i.factories.slice();e=e.concat(o)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||_O()),deps:[[n,new _a,new Rs]]}}find(e){const i=this.factories.find(o=>o.supports(e));if(i)return i;throw new re(901,!1)}}return n.\u0275prov=we({token:n,providedIn:"root",factory:_O}),n})();const Zj=tO(null,"core",[]);let Qj=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(ne(yp))},n.\u0275mod=ot({type:n}),n.\u0275inj=It({}),n})();function xg(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let NS=null;function Ec(){return NS}class t5{}const Ot=new ue("DocumentToken");let LS=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:function(){return function n5(){return ne(vO)}()},providedIn:"platform"}),n})();const r5=new ue("Location Initialized");let vO=(()=>{class n extends LS{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ec().getBaseHref(this._doc)}onPopState(e){const i=Ec().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Ec().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,o){yO()?this._history.pushState(e,i,o):this._location.hash=o}replaceState(e,i,o){yO()?this._history.replaceState(e,i,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(ne(Ot))},n.\u0275prov=we({token:n,factory:function(){return function o5(){return new vO(ne(Ot))}()},providedIn:"platform"}),n})();function yO(){return!!window.history.pushState}function BS(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function bO(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Bl(n){return n&&"?"!==n[0]?"?"+n:n}let mu=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:function(){return St(wO)},providedIn:"root"}),n})();const xO=new ue("appBaseHref");let wO=(()=>{class n extends mu{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??St(Ot).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return BS(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Bl(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,a){const d=this.prepareExternalUrl(o+Bl(a));this._platformLocation.pushState(e,i,d)}replaceState(e,i,o,a){const d=this.prepareExternalUrl(o+Bl(a));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(ne(LS),ne(xO,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EO=(()=>{class n extends mu{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=BS(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,a){let d=this.prepareExternalUrl(o+Bl(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,o,a){let d=this.prepareExternalUrl(o+Bl(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(ne(LS),ne(xO,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),hb=(()=>{class n{constructor(e){this._subject=new rn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function c5(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(bO(CO(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Bl(i))}normalize(e){return n.stripTrailingSlash(function a5(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._basePath,CO(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Bl(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Bl(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}}return n.normalizeQueryParams=Bl,n.joinWithSlash=BS,n.stripTrailingSlash=bO,n.\u0275fac=function(e){return new(e||n)(ne(mu))},n.\u0275prov=we({token:n,factory:function(){return function s5(){return new hb(ne(mu))}()},providedIn:"root"}),n})();function CO(n){return n.replace(/\/index.html$/,"")}var Hi=(()=>((Hi=Hi||{})[Hi.Format=0]="Format",Hi[Hi.Standalone=1]="Standalone",Hi))(),Wt=(()=>((Wt=Wt||{})[Wt.Narrow=0]="Narrow",Wt[Wt.Abbreviated=1]="Abbreviated",Wt[Wt.Wide=2]="Wide",Wt[Wt.Short=3]="Short",Wt))(),bi=(()=>((bi=bi||{})[bi.Short=0]="Short",bi[bi.Medium=1]="Medium",bi[bi.Long=2]="Long",bi[bi.Full=3]="Full",bi))(),xt=(()=>((xt=xt||{})[xt.Decimal=0]="Decimal",xt[xt.Group=1]="Group",xt[xt.List=2]="List",xt[xt.PercentSign=3]="PercentSign",xt[xt.PlusSign=4]="PlusSign",xt[xt.MinusSign=5]="MinusSign",xt[xt.Exponential=6]="Exponential",xt[xt.SuperscriptingExponent=7]="SuperscriptingExponent",xt[xt.PerMille=8]="PerMille",xt[xt.Infinity=9]="Infinity",xt[xt.NaN=10]="NaN",xt[xt.TimeSeparator=11]="TimeSeparator",xt[xt.CurrencyDecimal=12]="CurrencyDecimal",xt[xt.CurrencyGroup=13]="CurrencyGroup",xt))();function hC(n,t){return Xs(Br(n)[Te.DateFormat],t)}function pC(n,t){return Xs(Br(n)[Te.TimeFormat],t)}function mC(n,t){return Xs(Br(n)[Te.DateTimeFormat],t)}function Ys(n,t){const e=Br(n),i=e[Te.NumberSymbols][t];if(typeof i>"u"){if(t===xt.CurrencyDecimal)return e[Te.NumberSymbols][xt.Decimal];if(t===xt.CurrencyGroup)return e[Te.NumberSymbols][xt.Group]}return i}function kO(n){if(!n[Te.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Te.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Xs(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function jS(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const x5=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pb={},w5=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var lr=(()=>((lr=lr||{})[lr.Short=0]="Short",lr[lr.ShortGMT=1]="ShortGMT",lr[lr.Long=2]="Long",lr[lr.Extended=3]="Extended",lr))(),Mt=(()=>((Mt=Mt||{})[Mt.FullYear=0]="FullYear",Mt[Mt.Month=1]="Month",Mt[Mt.Date=2]="Date",Mt[Mt.Hours=3]="Hours",Mt[Mt.Minutes=4]="Minutes",Mt[Mt.Seconds=5]="Seconds",Mt[Mt.FractionalSeconds=6]="FractionalSeconds",Mt[Mt.Day=7]="Day",Mt))(),jt=(()=>((jt=jt||{})[jt.DayPeriods=0]="DayPeriods",jt[jt.Days=1]="Days",jt[jt.Months=2]="Months",jt[jt.Eras=3]="Eras",jt))();function E5(n,t,e,i){let o=function I5(n){if(TO(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[o,a=1,d=1]=n.split("-").map(p=>+p);return fC(o,a-1,d)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(x5))return function O5(n){const t=new Date(0);let e=0,i=0;const o=n[8]?t.setUTCFullYear:t.setFullYear,a=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),o.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-e,p=Number(n[5]||0)-i,g=Number(n[6]||0),y=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(t,d,p,g,y),t}(i)}const t=new Date(n);if(!TO(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Vl(e,t)||t;let p,d=[];for(;t;){if(p=w5.exec(t),!p){d.push(t);break}{d=d.concat(p.slice(1));const w=d.pop();if(!w)break;t=w}}let g=o.getTimezoneOffset();i&&(g=SO(i,g),o=function R5(n,t,e){const i=e?-1:1,o=n.getTimezoneOffset();return function A5(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(SO(t,o)-o))}(o,i,!0));let y="";return d.forEach(w=>{const D=function T5(n){if(zS[n])return zS[n];let t;switch(n){case"G":case"GG":case"GGG":t=qn(jt.Eras,Wt.Abbreviated);break;case"GGGG":t=qn(jt.Eras,Wt.Wide);break;case"GGGGG":t=qn(jt.Eras,Wt.Narrow);break;case"y":t=Ji(Mt.FullYear,1,0,!1,!0);break;case"yy":t=Ji(Mt.FullYear,2,0,!0,!0);break;case"yyy":t=Ji(Mt.FullYear,3,0,!1,!0);break;case"yyyy":t=Ji(Mt.FullYear,4,0,!1,!0);break;case"Y":t=yC(1);break;case"YY":t=yC(2,!0);break;case"YYY":t=yC(3);break;case"YYYY":t=yC(4);break;case"M":case"L":t=Ji(Mt.Month,1,1);break;case"MM":case"LL":t=Ji(Mt.Month,2,1);break;case"MMM":t=qn(jt.Months,Wt.Abbreviated);break;case"MMMM":t=qn(jt.Months,Wt.Wide);break;case"MMMMM":t=qn(jt.Months,Wt.Narrow);break;case"LLL":t=qn(jt.Months,Wt.Abbreviated,Hi.Standalone);break;case"LLLL":t=qn(jt.Months,Wt.Wide,Hi.Standalone);break;case"LLLLL":t=qn(jt.Months,Wt.Narrow,Hi.Standalone);break;case"w":t=HS(1);break;case"ww":t=HS(2);break;case"W":t=HS(1,!0);break;case"d":t=Ji(Mt.Date,1);break;case"dd":t=Ji(Mt.Date,2);break;case"c":case"cc":t=Ji(Mt.Day,1);break;case"ccc":t=qn(jt.Days,Wt.Abbreviated,Hi.Standalone);break;case"cccc":t=qn(jt.Days,Wt.Wide,Hi.Standalone);break;case"ccccc":t=qn(jt.Days,Wt.Narrow,Hi.Standalone);break;case"cccccc":t=qn(jt.Days,Wt.Short,Hi.Standalone);break;case"E":case"EE":case"EEE":t=qn(jt.Days,Wt.Abbreviated);break;case"EEEE":t=qn(jt.Days,Wt.Wide);break;case"EEEEE":t=qn(jt.Days,Wt.Narrow);break;case"EEEEEE":t=qn(jt.Days,Wt.Short);break;case"a":case"aa":case"aaa":t=qn(jt.DayPeriods,Wt.Abbreviated);break;case"aaaa":t=qn(jt.DayPeriods,Wt.Wide);break;case"aaaaa":t=qn(jt.DayPeriods,Wt.Narrow);break;case"b":case"bb":case"bbb":t=qn(jt.DayPeriods,Wt.Abbreviated,Hi.Standalone,!0);break;case"bbbb":t=qn(jt.DayPeriods,Wt.Wide,Hi.Standalone,!0);break;case"bbbbb":t=qn(jt.DayPeriods,Wt.Narrow,Hi.Standalone,!0);break;case"B":case"BB":case"BBB":t=qn(jt.DayPeriods,Wt.Abbreviated,Hi.Format,!0);break;case"BBBB":t=qn(jt.DayPeriods,Wt.Wide,Hi.Format,!0);break;case"BBBBB":t=qn(jt.DayPeriods,Wt.Narrow,Hi.Format,!0);break;case"h":t=Ji(Mt.Hours,1,-12);break;case"hh":t=Ji(Mt.Hours,2,-12);break;case"H":t=Ji(Mt.Hours,1);break;case"HH":t=Ji(Mt.Hours,2);break;case"m":t=Ji(Mt.Minutes,1);break;case"mm":t=Ji(Mt.Minutes,2);break;case"s":t=Ji(Mt.Seconds,1);break;case"ss":t=Ji(Mt.Seconds,2);break;case"S":t=Ji(Mt.FractionalSeconds,1);break;case"SS":t=Ji(Mt.FractionalSeconds,2);break;case"SSS":t=Ji(Mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=_C(lr.Short);break;case"ZZZZZ":t=_C(lr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=_C(lr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=_C(lr.Long);break;default:return null}return zS[n]=t,t}(w);y+=D?D(o,e,g):"''"===w?"'":w.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),y}function fC(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Vl(n,t){const e=function l5(n){return Br(n)[Te.LocaleId]}(n);if(pb[e]=pb[e]||{},pb[e][t])return pb[e][t];let i="";switch(t){case"shortDate":i=hC(n,bi.Short);break;case"mediumDate":i=hC(n,bi.Medium);break;case"longDate":i=hC(n,bi.Long);break;case"fullDate":i=hC(n,bi.Full);break;case"shortTime":i=pC(n,bi.Short);break;case"mediumTime":i=pC(n,bi.Medium);break;case"longTime":i=pC(n,bi.Long);break;case"fullTime":i=pC(n,bi.Full);break;case"short":const o=Vl(n,"shortTime"),a=Vl(n,"shortDate");i=gC(mC(n,bi.Short),[o,a]);break;case"medium":const d=Vl(n,"mediumTime"),p=Vl(n,"mediumDate");i=gC(mC(n,bi.Medium),[d,p]);break;case"long":const g=Vl(n,"longTime"),y=Vl(n,"longDate");i=gC(mC(n,bi.Long),[g,y]);break;case"full":const w=Vl(n,"fullTime"),D=Vl(n,"fullDate");i=gC(mC(n,bi.Full),[w,D])}return i&&(pb[e][t]=i),i}function gC(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function za(n,t,e="-",i,o){let a="";(n<0||o&&n<=0)&&(o?n=1-n:(n=-n,a=e));let d=String(n);for(;d.length<t;)d="0"+d;return i&&(d=d.slice(d.length-t)),a+d}function Ji(n,t,e=0,i=!1,o=!1){return function(a,d){let p=function D5(n,t){switch(n){case Mt.FullYear:return t.getFullYear();case Mt.Month:return t.getMonth();case Mt.Date:return t.getDate();case Mt.Hours:return t.getHours();case Mt.Minutes:return t.getMinutes();case Mt.Seconds:return t.getSeconds();case Mt.FractionalSeconds:return t.getMilliseconds();case Mt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((e>0||p>-e)&&(p+=e),n===Mt.Hours)0===p&&-12===e&&(p=12);else if(n===Mt.FractionalSeconds)return function C5(n,t){return za(n,3).substring(0,t)}(p,t);const g=Ys(d,xt.MinusSign);return za(p,t,g,i,o)}}function qn(n,t,e=Hi.Format,i=!1){return function(o,a){return function k5(n,t,e,i,o,a){switch(e){case jt.Months:return function h5(n,t,e){const i=Br(n),a=Xs([i[Te.MonthsFormat],i[Te.MonthsStandalone]],t);return Xs(a,e)}(t,o,i)[n.getMonth()];case jt.Days:return function u5(n,t,e){const i=Br(n),a=Xs([i[Te.DaysFormat],i[Te.DaysStandalone]],t);return Xs(a,e)}(t,o,i)[n.getDay()];case jt.DayPeriods:const d=n.getHours(),p=n.getMinutes();if(a){const y=function g5(n){const t=Br(n);return kO(t),(t[Te.ExtraData][2]||[]).map(i=>"string"==typeof i?jS(i):[jS(i[0]),jS(i[1])])}(t),w=function _5(n,t,e){const i=Br(n);kO(i);const a=Xs([i[Te.ExtraData][0],i[Te.ExtraData][1]],t)||[];return Xs(a,e)||[]}(t,o,i),D=y.findIndex(S=>{if(Array.isArray(S)){const[O,V]=S,j=d>=O.hours&&p>=O.minutes,$=d<V.hours||d===V.hours&&p<V.minutes;if(O.hours<V.hours){if(j&&$)return!0}else if(j||$)return!0}else if(S.hours===d&&S.minutes===p)return!0;return!1});if(-1!==D)return w[D]}return function d5(n,t,e){const i=Br(n),a=Xs([i[Te.DayPeriodsFormat],i[Te.DayPeriodsStandalone]],t);return Xs(a,e)}(t,o,i)[d<12?0:1];case jt.Eras:return function p5(n,t){return Xs(Br(n)[Te.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(o,a,n,t,e,i)}}function _C(n){return function(t,e,i){const o=-1*i,a=Ys(e,xt.MinusSign),d=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case lr.Short:return(o>=0?"+":"")+za(d,2,a)+za(Math.abs(o%60),2,a);case lr.ShortGMT:return"GMT"+(o>=0?"+":"")+za(d,1,a);case lr.Long:return"GMT"+(o>=0?"+":"")+za(d,2,a)+":"+za(Math.abs(o%60),2,a);case lr.Extended:return 0===i?"Z":(o>=0?"+":"")+za(d,2,a)+":"+za(Math.abs(o%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function MO(n){return fC(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function HS(n,t=!1){return function(e,i){let o;if(t){const a=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,d=e.getDate();o=1+Math.floor((d+a)/7)}else{const a=MO(e),d=function S5(n){const t=fC(n,0,1).getDay();return fC(n,0,1+(t<=4?4:11)-t)}(a.getFullYear()),p=a.getTime()-d.getTime();o=1+Math.round(p/6048e5)}return za(o,n,Ys(i,xt.MinusSign))}}function yC(n,t=!1){return function(e,i){return za(MO(e).getFullYear(),n,Ys(i,xt.MinusSign),t)}}const zS={};function SO(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function TO(n){return n instanceof Date&&!isNaN(n.valueOf())}function OO(n,t,e){return function WE(n,t,e){"string"!=typeof t&&(e=t,t=n[Te.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),vc[t]=n,e&&(vc[t][Te.ExtraData]=e)}(n,t,e)}let KS=(()=>{class n{constructor(e,i,o,a){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=o,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(vo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Xt(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(e){return new(e||n)(B(Ks),B(ub),B(qe),B(xa))},n.\u0275dir=se({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})(),wg=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new X5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){LO("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){LO("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(B(ji),B(Zi))},n.\u0275dir=se({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class X5{constructor(){this.$implicit=null,this.ngIf=null}}function LO(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Xt(t)}'.`)}class YS{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let xC=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),BO=(()=>{class n{constructor(e,i,o){this.ngSwitch=o,o._addCase(),this._view=new YS(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(B(ji),B(Zi),B(xC,9))},n.\u0275dir=se({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),wC=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:o,ngTemplateOutletContext:a,ngTemplateOutletInjector:d}=this;this._viewRef=i.createEmbeddedView(o,a,d?{injector:d}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(B(ji))},n.\u0275dir=se({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[or]}),n})();const u4=new ue("DATE_PIPE_DEFAULT_TIMEZONE"),h4=new ue("DATE_PIPE_DEFAULT_OPTIONS");let jO=(()=>{class n{constructor(e,i,o){this.locale=e,this.defaultTimezone=i,this.defaultOptions=o}transform(e,i,o,a){if(null==e||""===e||e!=e)return null;try{return E5(e,i??this.defaultOptions?.dateFormat??"mediumDate",a||this.locale,o??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(d){throw function $a(n,t){return new re(2100,!1)}()}}}return n.\u0275fac=function(e){return new(e||n)(B(ja,16),B(u4,24),B(h4,24))},n.\u0275pipe=Oi({name:"date",type:n,pure:!0,standalone:!0}),n})(),xp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({}),n})();const zO="browser";function QS(n){return n===zO}let D4=(()=>{class n{}return n.\u0275prov=we({token:n,providedIn:"root",factory:()=>new k4(ne(Ot),window)}),n})();class k4{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function M4(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const a=o.shadowRoot;if(a){const d=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(d)return d}o=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],o-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=$O(this.window.history)||$O(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $O(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class t8 extends t5{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class tT extends t8{static makeCurrent(){!function e5(n){NS||(NS=n)}(new tT)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function n8(){return gb=gb||document.querySelector("base"),gb?gb.getAttribute("href"):null}();return null==e?null:function i8(n){CC=CC||document.createElement("a"),CC.setAttribute("href",n);const t=CC.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){gb=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function G5(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[o,a]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,t)}}let CC,gb=null;const YO=new ue("TRANSITION_ID"),o8=[{provide:lb,useFactory:function r8(n,t,e){return()=>{e.get(aC).donePromise.then(()=>{const i=Ec(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<o.length;a++)i.remove(o[a])})}},deps:[YO,Ot,gi],multi:!0}];let a8=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const DC=new ue("EventManagerPlugins");let kC=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}addGlobalEventListener(e,i,o){return this._findPluginFor(i).addGlobalEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const o=this._plugins;for(let a=0;a<o.length;a++){const d=o[a];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(ne(DC),ne(Ze))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class XO{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const o=Ec().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,i)}}let ZO=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),i.add(o))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),_b=(()=>{class n extends ZO{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,o){e.forEach(a=>{const d=this._doc.createElement("style");d.textContent=a,o.push(i.appendChild(d))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(QO),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,o)=>{this._addStylesToHost(e,o,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(QO))}}return n.\u0275fac=function(e){return new(e||n)(ne(Ot))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();function QO(n){Ec().remove(n)}const nT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},iT=/%COMP%/g;function rT(n,t){return t.flat(100).map(e=>e.replace(iT,n))}function tP(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let MC=(()=>{class n{constructor(e,i,o){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new oT(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Rr.Emulated:{let o=this.rendererByCompId.get(i.id);return o||(o=new p8(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,o)),o.applyToHost(e),o}case Rr.ShadowDom:return new m8(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const o=rT(i.id,i.styles);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(ne(kC),ne(_b),ne(bg))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class oT{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(nT[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(iP(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(iP(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,o){if(o){e=o+":"+e;const a=nT[o];a?t.setAttributeNS(a,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const o=nT[i];o?t.removeAttributeNS(o,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,o){o&(Er.DashCase|Er.Important)?t.style.setProperty(e,i,o&Er.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Er.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,tP(i)):this.eventManager.addEventListener(t,e,tP(i))}}function iP(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class p8 extends oT{constructor(t,e,i,o){super(t),this.component=i;const a=rT(o+"-"+i.id,i.styles);e.addStyles(a),this.contentAttr=function d8(n){return"_ngcontent-%COMP%".replace(iT,n)}(o+"-"+i.id),this.hostAttr=function u8(n){return"_nghost-%COMP%".replace(iT,n)}(o+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class m8 extends oT{constructor(t,e,i,o){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=rT(o.id,o.styles);for(let d=0;d<a.length;d++){const p=document.createElement("style");p.textContent=a[d],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let f8=(()=>{class n extends XO{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}}return n.\u0275fac=function(e){return new(e||n)(ne(Ot))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const rP=["alt","control","meta","shift"],g8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_8={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let v8=(()=>{class n extends XO{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,o){const a=n.parseEventName(i),d=n.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ec().onAndCancel(e,a.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const a=n._normalizeKey(i.pop());let d="",p=i.indexOf("code");if(p>-1&&(i.splice(p,1),d="code."),rP.forEach(y=>{const w=i.indexOf(y);w>-1&&(i.splice(w,1),d+=y+".")}),d+=a,0!=i.length||0===a.length)return null;const g={};return g.domEventName=o,g.fullKey=d,g}static matchEventFullKeyCode(e,i){let o=g8[e.key]||e.key,a="";return i.indexOf("code.")>-1&&(o=e.code,a="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),rP.forEach(d=>{d!==o&&(0,_8[d])(e)&&(a+=d+".")}),a+=o,a===i)}static eventCallback(e,i,o){return a=>{n.matchEventFullKeyCode(a,e)&&o.runGuarded(()=>i(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(ne(Ot))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const w8=tO(Zj,"browser",[{provide:db,useValue:zO},{provide:U2,useValue:function y8(){tT.makeCurrent()},multi:!0},{provide:Ot,useFactory:function x8(){return function Ld(n){Yr=n}(document),document},deps:[]}]),aP=new ue(""),cP=[{provide:cC,useClass:class s8{addToWindow(t){Zt.getAngularTestability=(i,o=!0)=>{const a=t.findTestabilityInTree(i,o);if(null==a)throw new Error("Could not find testability for element.");return a},Zt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Zt.getAllAngularRootElements=()=>t.getAllRootElements(),Zt.frameworkStabilizers||(Zt.frameworkStabilizers=[]),Zt.frameworkStabilizers.push(i=>{const o=Zt.getAllAngularTestabilities();let a=o.length,d=!1;const p=function(g){d=d||g,a--,0==a&&i(d)};o.forEach(function(g){g.whenStable(p)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Ec().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:Z2,useClass:MS,deps:[Ze,SS,cC]},{provide:MS,useClass:MS,deps:[Ze,SS,cC]}],lP=[{provide:jv,useValue:"root"},{provide:Nr,useFactory:function b8(){return new Nr},deps:[]},{provide:DC,useClass:f8,multi:!0,deps:[Ot,Ze,db]},{provide:DC,useClass:v8,multi:!0,deps:[Ot]},{provide:MC,useClass:MC,deps:[kC,_b,bg]},{provide:xl,useExisting:MC},{provide:ZO,useExisting:_b},{provide:_b,useClass:_b,deps:[Ot]},{provide:kC,useClass:kC,deps:[DC,Ze]},{provide:class S4{},useClass:a8,deps:[]},[]];let dP=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:bg,useValue:e.appId},{provide:YO,useExisting:bg},o8]}}}return n.\u0275fac=function(e){return new(e||n)(ne(aP,12))},n.\u0275mod=ot({type:n}),n.\u0275inj=It({providers:[...lP,...cP],imports:[xp,Qj]}),n})(),uP=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(ne(Ot))},n.\u0275prov=we({token:n,factory:function(e){let i=null;return i=e?new e:function C8(){return new uP(ne(Ot))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let cT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:function(e){let i=null;return i=e?new(e||n):ne(mP),i},providedIn:"root"}),n})(),mP=(()=>{class n extends cT{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case pn.NONE:return i;case pn.HTML:return Os(i,"HTML")?fi(i):uw(this._doc,String(i)).toString();case pn.STYLE:return Os(i,"Style")?fi(i):i;case pn.SCRIPT:if(Os(i,"Script"))return fi(i);throw new Error("unsafe value used in a script context");case pn.URL:return Os(i,"URL")?fi(i):tf(String(i));case pn.RESOURCE_URL:if(Os(i,"ResourceURL"))return fi(i);throw new Error(`unsafe value used in a resource URL context (see ${Vn})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${Vn})`)}}bypassSecurityTrustHtml(e){return function dw(n){return new Cv(n)}(e)}bypassSecurityTrustStyle(e){return function kv(n){return new sw(n)}(e)}bypassSecurityTrustScript(e){return function kh(n){return new aw(n)}(e)}bypassSecurityTrustUrl(e){return function es(n){return new cw(n)}(e)}bypassSecurityTrustResourceUrl(e){return function Vo(n){return new Dv(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(ne(Ot))},n.\u0275prov=we({token:n,factory:function(e){let i=null;return i=e?new e:function R8(n){return new mP(n.get(Ot))}(ne(gi)),i},providedIn:"root"}),n})();class fP{}class I8{}const jl="*";function Eg(n,t){return{type:7,name:n,definitions:t,options:{}}}function Cc(n,t=null){return{type:4,styles:t,timings:n}}function _P(n,t=null){return{type:2,steps:n,options:t}}function Vr(n){return{type:6,styles:n,offset:null}}function Hl(n,t,e){return{type:0,name:n,styles:t,options:e}}function Dc(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function bP(n){Promise.resolve().then(n)}class vb{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class xP{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,o=0;const a=this.players.length;0==a?bP(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==a&&this._onFinish()}),d.onDestroy(()=>{++i==a&&this._onDestroy()}),d.onStart(()=>{++o==a&&this._onStart()})}),this.totalTime=this.players.reduce((d,p)=>Math.max(d,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const o=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(o)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function wP(n){return new re(3e3,!1)}function pH(){return typeof window<"u"&&typeof window.document<"u"}function dT(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function gu(n){switch(n.length){case 0:return new vb;case 1:return n[0];default:return new xP(n)}}function EP(n,t,e,i,o=new Map,a=new Map){const d=[],p=[];let g=-1,y=null;if(i.forEach(w=>{const D=w.get("offset"),S=D==g,O=S&&y||new Map;w.forEach((V,j)=>{let $=j,G=V;if("offset"!==j)switch($=t.normalizePropertyName($,d),G){case"!":G=o.get(j);break;case jl:G=a.get(j);break;default:G=t.normalizeStyleValue(j,$,G,d)}O.set($,G)}),S||p.push(O),y=O,g=D}),d.length)throw function tH(n){return new re(3502,!1)}();return p}function uT(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&hT(e,"start",n)));break;case"done":n.onDone(()=>i(e&&hT(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&hT(e,"destroy",n)))}}function hT(n,t,e){const a=pT(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),d=n._data;return null!=d&&(a._data=d),a}function pT(n,t,e,i,o="",a=0,d){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:o,totalTime:a,disabled:!!d}}function ps(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function CP(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let mT=(n,t)=>!1,DP=(n,t,e)=>[],kP=null;function fT(n){const t=n.parentNode||n.host;return t===kP?null:t}(dT()||typeof Element<"u")&&(pH()?(kP=(()=>document.documentElement)(),mT=(n,t)=>{for(;t;){if(t===n)return!0;t=fT(t)}return!1}):mT=(n,t)=>n.contains(t),DP=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let wp=null,MP=!1;const SP=mT,TP=DP;let AP=(()=>{class n{validateStyleProperty(e){return function fH(n){wp||(wp=function gH(){return typeof document<"u"?document.body:null}()||{},MP=!!wp.style&&"WebkitAppearance"in wp.style);let t=!0;return wp.style&&!function mH(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in wp.style,!t&&MP&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in wp.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return SP(e,i)}getParentElement(e){return fT(e)}query(e,i,o){return TP(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,a,d,p=[],g){return new vb(o,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),gT=(()=>{class n{}return n.NOOP=new AP,n})();const _T="ng-enter",SC="ng-leave",TC="ng-trigger",AC=".ng-trigger",IP="ng-animating",vT=".ng-animating";function zl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:yT(parseFloat(t[1]),t[2])}function yT(n,t){return"s"===t?1e3*n:n}function RC(n,t,e){return n.hasOwnProperty("duration")?n:function yH(n,t,e){let o,a=0,d="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return t.push(wP()),{duration:0,delay:0,easing:""};o=yT(parseFloat(p[1]),p[2]);const g=p[3];null!=g&&(a=yT(parseFloat(g),p[4]));const y=p[5];y&&(d=y)}else o=n;if(!e){let p=!1,g=t.length;o<0&&(t.push(function O8(){return new re(3100,!1)}()),p=!0),a<0&&(t.push(function P8(){return new re(3101,!1)}()),p=!0),p&&t.splice(g,0,wP())}return{duration:o,delay:a,easing:d}}(n,t,e)}function yb(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function OP(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function _u(n,t=new Map,e){if(e)for(let[i,o]of e)t.set(i,o);for(let[i,o]of n)t.set(i,o);return t}function FP(n,t,e){return e?t+":"+e+";":""}function NP(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=FP(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=FP(0,EH(e),n.style[e]));n.setAttribute("style",t)}function kc(n,t,e){n.style&&(t.forEach((i,o)=>{const a=xT(o);e&&!e.has(o)&&e.set(o,n.style[a]),n.style[a]=i}),dT()&&NP(n))}function Ep(n,t){n.style&&(t.forEach((e,i)=>{const o=xT(i);n.style[o]=""}),dT()&&NP(n))}function bb(n){return Array.isArray(n)?1==n.length?n[0]:_P(n):n}const bT=new RegExp("{{\\s*(.+?)\\s*}}","g");function LP(n){let t=[];if("string"==typeof n){let e;for(;e=bT.exec(n);)t.push(e[1]);bT.lastIndex=0}return t}function xb(n,t,e){const i=n.toString(),o=i.replace(bT,(a,d)=>{let p=t[d];return null==p&&(e.push(function N8(n){return new re(3003,!1)}()),p=""),p.toString()});return o==i?n:o}function IC(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const wH=/-+([a-z0-9])/g;function xT(n){return n.replace(wH,(...t)=>t[1].toUpperCase())}function EH(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ms(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function L8(n){return new re(3004,!1)}()}}function BP(n,t){return window.getComputedStyle(n)[t]}function TH(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function AH(n,t,e){if(":"==n[0]){const g=function RH(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Z8(n){return new re(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof g)return void t.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function X8(n){return new re(3015,!1)}()),t;const o=i[1],a=i[2],d=i[3];t.push(VP(o,d));"<"==a[0]&&!("*"==o&&"*"==d)&&t.push(VP(d,o))}(i,e,t)):e.push(n),e}const NC=new Set(["true","1"]),LC=new Set(["false","0"]);function VP(n,t){const e=NC.has(n)||LC.has(n),i=NC.has(t)||LC.has(t);return(o,a)=>{let d="*"==n||n==o,p="*"==t||t==a;return!d&&e&&"boolean"==typeof o&&(d=o?NC.has(n):LC.has(n)),!p&&i&&"boolean"==typeof a&&(p=a?NC.has(t):LC.has(t)),d&&p}}const IH=new RegExp("s*:selfs*,?","g");function wT(n,t,e,i){return new OH(n).build(t,e,i)}class OH{constructor(t){this._driver=t}build(t,e,i){const o=new NH(e);return this._resetContextStyleTimingState(o),ms(this,bb(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,o=e.depCount=0;const a=[],d=[];return"@"==t.name.charAt(0)&&e.errors.push(function V8(){return new re(3006,!1)}()),t.definitions.forEach(p=>{if(this._resetContextStyleTimingState(e),0==p.type){const g=p,y=g.name;y.toString().split(/\s*,\s*/).forEach(w=>{g.name=w,a.push(this.visitState(g,e))}),g.name=y}else if(1==p.type){const g=this.visitTransition(p,e);i+=g.queryCount,o+=g.depCount,d.push(g)}else e.errors.push(function j8(){return new re(3007,!1)}())}),{type:7,name:t.name,states:a,transitions:d,queryCount:i,depCount:o,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(i.containsDynamicStyles){const a=new Set,d=o||{};i.styles.forEach(p=>{p instanceof Map&&p.forEach(g=>{LP(g).forEach(y=>{d.hasOwnProperty(y)||a.add(y)})})}),a.size&&(IC(a.values()),e.errors.push(function H8(n,t){return new re(3008,!1)}()))}return{type:0,name:t.name,style:i,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ms(this,bb(t.animation),e);return{type:1,matchers:TH(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Cp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ms(this,i,e)),options:Cp(t.options)}}visitGroup(t,e){const i=e.currentTime;let o=0;const a=t.steps.map(d=>{e.currentTime=i;const p=ms(this,d,e);return o=Math.max(o,e.currentTime),p});return e.currentTime=o,{type:3,steps:a,options:Cp(t.options)}}visitAnimate(t,e){const i=function BH(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ET(RC(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=ET(0,0,"");return a.dynamic=!0,a.strValue=e,a}const o=RC(e,t);return ET(o.duration,o.delay,o.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let o,a=t.styles?t.styles:Vr({});if(5==a.type)o=this.visitKeyframes(a,e);else{let d=t.styles,p=!1;if(!d){p=!0;const y={};i.easing&&(y.easing=i.easing),d=Vr(y)}e.currentTime+=i.duration+i.delay;const g=this.visitStyle(d,e);g.isEmptyStep=p,o=g}return e.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],o=Array.isArray(t.styles)?t.styles:[t.styles];for(let p of o)"string"==typeof p?p===jl?i.push(p):e.errors.push(new re(3002,!1)):i.push(OP(p));let a=!1,d=null;return i.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(d=p.get("easing"),p.delete("easing")),!a))for(let g of p.values())if(g.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:d,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let o=e.currentTime,a=e.currentTime;i&&a>0&&(a-=i.duration+i.delay),t.styles.forEach(d=>{"string"!=typeof d&&d.forEach((p,g)=>{const y=e.collectedStyles.get(e.currentQuerySelector),w=y.get(g);let D=!0;w&&(a!=o&&a>=w.startTime&&o<=w.endTime&&(e.errors.push(function $8(n,t,e,i,o){return new re(3010,!1)}()),D=!1),a=w.startTime),D&&y.set(g,{startTime:a,endTime:o}),e.options&&function xH(n,t,e){const i=t.params||{},o=LP(n);o.length&&o.forEach(a=>{i.hasOwnProperty(a)||e.push(function F8(n){return new re(3001,!1)}())})}(p,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function U8(){return new re(3011,!1)}()),i;let a=0;const d=[];let p=!1,g=!1,y=0;const w=t.steps.map(G=>{const Y=this._makeStyleAst(G,e);let X=null!=Y.offset?Y.offset:function LH(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Y.styles),ce=0;return null!=X&&(a++,ce=Y.offset=X),g=g||ce<0||ce>1,p=p||ce<y,y=ce,d.push(ce),Y});g&&e.errors.push(function G8(){return new re(3012,!1)}()),p&&e.errors.push(function W8(){return new re(3200,!1)}());const D=t.steps.length;let S=0;a>0&&a<D?e.errors.push(function q8(){return new re(3202,!1)}()):0==a&&(S=1/(D-1));const O=D-1,V=e.currentTime,j=e.currentAnimateTimings,$=j.duration;return w.forEach((G,Y)=>{const X=S>0?Y==O?1:S*Y:d[Y],ce=X*$;e.currentTime=V+j.delay+ce,j.duration=ce,this._validateStyleAst(G,e),G.offset=X,i.styles.push(G)}),i}visitReference(t,e){return{type:8,animation:ms(this,bb(t.animation),e),options:Cp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Cp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Cp(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[a,d]=function PH(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(IH,"")),n=n.replace(/@\*/g,AC).replace(/@\w+/g,e=>AC+"-"+e.slice(1)).replace(/:animating/g,vT),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+a:a,ps(e.collectedStyles,e.currentQuerySelector,new Map);const p=ms(this,bb(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:a,limit:o.limit||0,optional:!!o.optional,includeSelf:d,animation:p,originalSelector:t.selector,options:Cp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function K8(){return new re(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:RC(t.timings,e.errors,!0);return{type:12,animation:ms(this,bb(t.animation),e),timings:i,options:null}}}class NH{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Cp(n){return n?(n=yb(n)).params&&(n.params=function FH(n){return n?yb(n):null}(n.params)):n={},n}function ET(n,t,e){return{duration:n,delay:t,easing:e}}function CT(n,t,e,i,o,a,d=null,p=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:o,delay:a,totalTime:o+a,easing:d,subTimeline:p}}class BC{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const HH=new RegExp(":enter","g"),$H=new RegExp(":leave","g");function DT(n,t,e,i,o,a=new Map,d=new Map,p,g,y=[]){return(new UH).buildKeyframes(n,t,e,i,o,a,d,p,g,y)}class UH{buildKeyframes(t,e,i,o,a,d,p,g,y,w=[]){y=y||new BC;const D=new kT(t,e,y,o,a,w,[]);D.options=g;const S=g.delay?zl(g.delay):0;D.currentTimeline.delayNextStep(S),D.currentTimeline.setStyles([d],null,D.errors,g),ms(this,i,D);const O=D.timelines.filter(V=>V.containsAnimation());if(O.length&&p.size){let V;for(let j=O.length-1;j>=0;j--){const $=O[j];if($.element===e){V=$;break}}V&&!V.allowOnlyTimelineStyles()&&V.setStyles([p],null,D.errors,g)}return O.length?O.map(V=>V.buildKeyframes()):[CT(e,[],[],[],0,S,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const o=e.createSubContext(t.options),a=e.currentTimeline.currentTime,d=this._visitSubInstructions(i,o,o.options);a!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const o of t){const a=o?.delay;if(a){const d="number"==typeof a?a:zl(xb(a,o?.params??{},e.errors));i.delayNextStep(d)}}}_visitSubInstructions(t,e,i){let a=e.currentTimeline.currentTime;const d=null!=i.duration?zl(i.duration):null,p=null!=i.delay?zl(i.delay):null;return 0!==d&&t.forEach(g=>{const y=e.appendInstructionToTimeline(g,d,p);a=Math.max(a,y.duration+y.delay)}),a}visitReference(t,e){e.updateOptions(t.options,!0),ms(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let o=e;const a=t.options;if(a&&(a.params||a.delay)&&(o=e.createSubContext(a),o.transformIntoNewTimeline(),null!=a.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=VC);const d=zl(a.delay);o.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>ms(this,d,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let o=e.currentTimeline.currentTime;const a=t.options&&t.options.delay?zl(t.options.delay):0;t.steps.forEach(d=>{const p=e.createSubContext(t.options);a&&p.delayNextStep(a),ms(this,d,p),o=Math.max(o,p.currentTimeline.currentTime),i.push(p.currentTimeline)}),i.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return RC(e.params?xb(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());const a=t.style;5==a.type?this.visitKeyframes(a,e):(e.incrementTime(i.duration),this.visitStyle(a,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=o&&o.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(a):i.setStyles(t.styles,a,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,o=e.currentTimeline.duration,a=i.duration,p=e.createSubContext().currentTimeline;p.easing=i.easing,t.styles.forEach(g=>{p.forwardTime((g.offset||0)*a),p.setStyles(g.styles,g.easing,e.errors,e.options),p.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(p),e.transformIntoNewTimeline(o+a),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,o=t.options||{},a=o.delay?zl(o.delay):0;a&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=VC);let d=i;const p=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=p.length;let g=null;p.forEach((y,w)=>{e.currentQueryIndex=w;const D=e.createSubContext(t.options,y);a&&D.delayNextStep(a),y===e.element&&(g=D.currentTimeline),ms(this,t.animation,D),D.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,D.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,o=e.currentTimeline,a=t.timings,d=Math.abs(a.duration),p=d*(e.currentQueryTotal-1);let g=d*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":g=p-g;break;case"full":g=i.currentStaggerTime}const w=e.currentTimeline;g&&w.delayNextStep(g);const D=w.currentTime;ms(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=o.currentTime-D+(o.startTime-i.currentTimeline.startTime)}}const VC={};class kT{constructor(t,e,i,o,a,d,p,g){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=a,this.errors=d,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=VC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new jC(this._driver,e,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let o=this.options;null!=i.duration&&(o.duration=zl(i.duration)),null!=i.delay&&(o.delay=zl(i.delay));const a=i.params;if(a){let d=o.params;d||(d=this.options.params={}),Object.keys(a).forEach(p=>{(!e||!d.hasOwnProperty(p))&&(d[p]=xb(a[p],d,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return t}createSubContext(t=null,e,i){const o=e||this.element,a=new kT(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(t){return this.previousNode=VC,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const o={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},a=new GH(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(a),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,o,a,d){let p=[];if(o&&p.push(this.element),t.length>0){t=(t=t.replace(HH,"."+this._enterClassName)).replace($H,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),p.push(...y)}return!a&&0==p.length&&d.push(function Y8(n){return new re(3014,!1)}()),p}}class jC{constructor(t,e,i,o){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new jC(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||jl),this._currentKeyframe.set(e,jl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,o){e&&this._previousKeyframe.set("easing",e);const a=o&&o.params||{},d=function WH(n,t){const e=new Map;let i;return n.forEach(o=>{if("*"===o){i=i||t.keys();for(let a of i)e.set(a,jl)}else _u(o,e)}),e}(t,this._globalTimelineStyles);for(let[p,g]of d){const y=xb(g,a,i);this._pendingStyles.set(p,y),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??jl),this._updateStyle(p,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const o=this._styleSummary.get(i);(!o||e.time>o.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((p,g)=>{const y=_u(p,new Map,this._backFill);y.forEach((w,D)=>{"!"===w?t.add(D):w===jl&&e.add(D)}),i||y.set("offset",g/this.duration),o.push(y)});const a=t.size?IC(t.values()):[],d=e.size?IC(e.values()):[];if(i){const p=o[0],g=new Map(p);p.set("offset",0),g.set("offset",1),o=[p,g]}return CT(this.element,o,a,d,this.duration,this.startTime,this.easing,!1)}}class GH extends jC{constructor(t,e,i,o,a,d,p=!1){super(t,e,d.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=a,this._stretchStartingKeyframe=p,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],d=i+e,p=e/d,g=_u(t[0]);g.set("offset",0),a.push(g);const y=_u(t[0]);y.set("offset",zP(p)),a.push(y);const w=t.length-1;for(let D=1;D<=w;D++){let S=_u(t[D]);const O=S.get("offset");S.set("offset",zP((e+O*i)/d)),a.push(S)}i=d,e=0,o="",t=a}return CT(this.element,t,this.preStyleProps,this.postStyleProps,i,e,o,!0)}}function zP(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class MT{}const qH=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class KH extends MT{normalizePropertyName(t,e){return xT(t)}normalizeStyleValue(t,e,i,o){let a="";const d=i.toString().trim();if(qH.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const p=i.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&o.push(function B8(n,t){return new re(3005,!1)}())}return d+a}}function $P(n,t,e,i,o,a,d,p,g,y,w,D,S){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:a,toState:i,toStyles:d,timelines:p,queriedElements:g,preStyleProps:y,postStyleProps:w,totalTime:D,errors:S}}const ST={};class UP{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,o){return function YH(n,t,e,i,o){return n.some(a=>a(t,e,i,o))}(this.ast.matchers,t,e,i,o)}buildStyles(t,e,i){let o=this._stateStyles.get("*");return void 0!==t&&(o=this._stateStyles.get(t?.toString())||o),o?o.buildStyles(e,i):new Map}build(t,e,i,o,a,d,p,g,y,w){const D=[],S=this.ast.options&&this.ast.options.params||ST,V=this.buildStyles(i,p&&p.params||ST,D),j=g&&g.params||ST,$=this.buildStyles(o,j,D),G=new Set,Y=new Map,X=new Map,ce="void"===o,_e={params:XH(j,S),delay:this.ast.options?.delay},me=w?[]:DT(t,e,this.ast.animation,a,d,V,$,_e,y,D);let ke=0;if(me.forEach(Be=>{ke=Math.max(Be.duration+Be.delay,ke)}),D.length)return $P(e,this._triggerName,i,o,ce,V,$,[],[],Y,X,ke,D);me.forEach(Be=>{const Yt=Be.element,Yn=ps(Y,Yt,new Set);Be.preStyleProps.forEach(di=>Yn.add(di));const $i=ps(X,Yt,new Set);Be.postStyleProps.forEach(di=>$i.add(di)),Yt!==e&&G.add(Yt)});const yt=IC(G.values());return $P(e,this._triggerName,i,o,ce,V,$,me,yt,Y,X,ke)}}function XH(n,t){const e=yb(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class ZH{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,o=yb(this.defaultParams);return Object.keys(t).forEach(a=>{const d=t[a];null!==d&&(o[a]=d)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((d,p)=>{d&&(d=xb(d,o,e));const g=this.normalizer.normalizePropertyName(p,e);d=this.normalizer.normalizeStyleValue(p,g,d,e),i.set(p,d)})}),i}}class JH{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new ZH(o.style,o.options&&o.options.params||{},i))}),GP(this.states,"true","1"),GP(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new UP(t,o,this.states))}),this.fallbackTransition=function ez(n,t,e){return new UP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,p)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,o){return this.transitionFactories.find(d=>d.match(t,e,i,o))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function GP(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const tz=new BC;class nz{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],a=wT(this._driver,e,i,[]);if(i.length)throw function nH(n){return new re(3503,!1)}();this._animations.set(t,a)}_buildPlayer(t,e,i){const o=t.element,a=EP(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(o,a,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const o=[],a=this._animations.get(t);let d;const p=new Map;if(a?(d=DT(this._driver,e,a,_T,SC,new Map,new Map,i,tz,o),d.forEach(w=>{const D=ps(p,w.element,new Map);w.postStyleProps.forEach(S=>D.set(S,null))})):(o.push(function iH(){return new re(3300,!1)}()),d=[]),o.length)throw function rH(n){return new re(3504,!1)}();p.forEach((w,D)=>{w.forEach((S,O)=>{w.set(O,this._driver.computeStyle(D,O,jl))})});const y=gu(d.map(w=>{const D=p.get(w.element);return this._buildPlayer(w,new Map,D)}));return this._playersById.set(t,y),y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function oH(n){return new re(3301,!1)}();return e}listen(t,e,i,o){const a=pT(e,"","","");return uT(this._getPlayer(t),i,a,o),()=>{}}command(t,e,i,o){if("register"==i)return void this.register(t,o[0]);if("create"==i)return void this.create(t,e,o[0]||{});const a=this._getPlayer(t);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const WP="ng-animate-queued",TT="ng-animate-disabled",az=[],qP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zs="__ng_removed";class AT{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function hz(n){return n??null}(i?t.value:t),i){const a=yb(t);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(o=>{null==i[o]&&(i[o]=e[o])})}}}const wb="void",RT=new AT(wb);class lz{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Qs(e,this._hostClassName)}listen(t,e,i,o){if(!this._triggers.has(e))throw function sH(n,t){return new re(3302,!1)}();if(null==i||0==i.length)throw function aH(n){return new re(3303,!1)}();if(!function pz(n){return"start"==n||"done"==n}(i))throw function cH(n,t){return new re(3400,!1)}();const a=ps(this._elementListeners,t,[]),d={name:e,phase:i,callback:o};a.push(d);const p=ps(this._engine.statesByElement,t,new Map);return p.has(e)||(Qs(t,TC),Qs(t,TC+"-"+e),p.set(e,RT)),()=>{this._engine.afterFlush(()=>{const g=a.indexOf(d);g>=0&&a.splice(g,1),this._triggers.has(e)||p.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function lH(n){return new re(3401,!1)}();return e}trigger(t,e,i,o=!0){const a=this._getTrigger(e),d=new IT(this.id,e,t);let p=this._engine.statesByElement.get(t);p||(Qs(t,TC),Qs(t,TC+"-"+e),this._engine.statesByElement.set(t,p=new Map));let g=p.get(e);const y=new AT(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&y.absorbOptions(g.options),p.set(e,y),g||(g=RT),y.value!==wb&&g.value===y.value){if(!function gz(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){const a=e[o];if(!t.hasOwnProperty(a)||n[a]!==t[a])return!1}return!0}(g.params,y.params)){const j=[],$=a.matchStyles(g.value,g.params,j),G=a.matchStyles(y.value,y.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{Ep(t,$),kc(t,G)})}return}const S=ps(this._engine.playersByElement,t,[]);S.forEach(j=>{j.namespaceId==this.id&&j.triggerName==e&&j.queued&&j.destroy()});let O=a.matchTransition(g.value,y.value,t,y.params),V=!1;if(!O){if(!o)return;O=a.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:O,fromState:g,toState:y,player:d,isFallbackTransition:V}),V||(Qs(t,WP),d.onStart(()=>{Cg(t,WP)})),d.onDone(()=>{let j=this.players.indexOf(d);j>=0&&this.players.splice(j,1);const $=this._engine.playersByElement.get(t);if($){let G=$.indexOf(d);G>=0&&$.splice(G,1)}}),this.players.push(d),S.push(d),d}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,AC,!0);i.forEach(o=>{if(o[Zs])return;const a=this._engine.fetchNamespacesByElement(o);a.size?a.forEach(d=>d.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,i,o){const a=this._engine.statesByElement.get(t),d=new Map;if(a){const p=[];if(a.forEach((g,y)=>{if(d.set(y,g.value),this._triggers.has(y)){const w=this.trigger(t,y,wb,o);w&&p.push(w)}}),p.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,d),i&&gu(p).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const o=new Set;e.forEach(a=>{const d=a.name;if(o.has(d))return;o.add(d);const g=this._triggers.get(d).fallbackTransition,y=i.get(d)||RT,w=new AT(wb),D=new IT(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:g,fromState:y,toState:w,player:D,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(t):[];if(a&&a.length)o=!0;else{let d=t;for(;d=d.parentNode;)if(i.statesByElement.get(d)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)i.markElementAsRemoved(this.id,t,!1,e);else{const a=t[Zs];(!a||a===qP)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Qs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const a=i.element,d=this._elementListeners.get(a);d&&d.forEach(p=>{if(p.name==i.triggerName){const g=pT(a,i.triggerName,i.fromState.value,i.toState.value);g._data=t,uT(i.player,p.phase,g,p.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{const a=i.transition.ast.depCount,d=o.transition.ast.depCount;return 0==a||0==d?a-d:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class dz{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,a)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new lz(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let d=!1,p=this.driver.getParentElement(e);for(;p;){const g=o.get(p);if(g){const y=i.indexOf(g);i.splice(y+1,0,t),d=!0;break}p=this.driver.getParentElement(p)}d||i.unshift(t)}else i.push(t);return o.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let o=this._namespaceLookup[t];o&&o.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let o of i.values())if(o.namespaceId){const a=this._fetchNamespace(o.namespaceId);a&&e.add(a)}return e}trigger(t,e,i,o){if(HC(e)){const a=this._fetchNamespace(t);if(a)return a.trigger(e,i,o),!0}return!1}insertNode(t,e,i,o){if(!HC(e))return;const a=e[Zs];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){const d=this._fetchNamespace(t);d&&d.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Qs(t,TT)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Cg(t,TT))}removeNode(t,e,i,o){if(HC(e)){const a=t?this._fetchNamespace(t):null;if(a?a.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),i){const d=this.namespacesByHostElement.get(e);d&&d.id!==t&&d.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,i,o,a){this.collectedLeaveElements.push(e),e[Zs]={namespaceId:t,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(t,e,i,o,a){return HC(e)?this._fetchNamespace(t).listen(e,i,o,a):()=>{}}_buildInstruction(t,e,i,o,a){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,o,t.fromState.options,t.toState.options,e,a)}destroyInnerAnimations(t){let e=this.driver.query(t,AC,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,vT,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return gu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Zs];if(e&&e.setForRemoval){if(t[Zs]=qP,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(TT)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Qs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?gu(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(t){throw function dH(n){return new re(3402,!1)}()}_flushAnimations(t,e){const i=new BC,o=[],a=new Map,d=[],p=new Map,g=new Map,y=new Map,w=new Set;this.disabledNodes.forEach(Ve=>{w.add(Ve);const He=this.driver.query(Ve,".ng-animate-queued",!0);for(let it=0;it<He.length;it++)w.add(He[it])});const D=this.bodyNode,S=Array.from(this.statesByElement.keys()),O=XP(S,this.collectedEnterElements),V=new Map;let j=0;O.forEach((Ve,He)=>{const it=_T+j++;V.set(He,it),Ve.forEach(Ut=>Qs(Ut,it))});const $=[],G=new Set,Y=new Set;for(let Ve=0;Ve<this.collectedLeaveElements.length;Ve++){const He=this.collectedLeaveElements[Ve],it=He[Zs];it&&it.setForRemoval&&($.push(He),G.add(He),it.hasAnimation?this.driver.query(He,".ng-star-inserted",!0).forEach(Ut=>G.add(Ut)):Y.add(He))}const X=new Map,ce=XP(S,Array.from(G));ce.forEach((Ve,He)=>{const it=SC+j++;X.set(He,it),Ve.forEach(Ut=>Qs(Ut,it))}),t.push(()=>{O.forEach((Ve,He)=>{const it=V.get(He);Ve.forEach(Ut=>Cg(Ut,it))}),ce.forEach((Ve,He)=>{const it=X.get(He);Ve.forEach(Ut=>Cg(Ut,it))}),$.forEach(Ve=>{this.processLeaveNode(Ve)})});const _e=[],me=[];for(let Ve=this._namespaceList.length-1;Ve>=0;Ve--)this._namespaceList[Ve].drainQueuedTransitions(e).forEach(it=>{const Ut=it.player,Si=it.element;if(_e.push(Ut),this.collectedEnterElements.length){const ao=Si[Zs];if(ao&&ao.setForMove){if(ao.previousTriggersValues&&ao.previousTriggersValues.has(it.triggerName)){const Xp=ao.previousTriggersValues.get(it.triggerName),ta=this.statesByElement.get(it.element);if(ta&&ta.has(it.triggerName)){const q1=ta.get(it.triggerName);q1.value=Xp,ta.set(it.triggerName,q1)}}return void Ut.destroy()}}const Fc=!D||!this.driver.containsElement(D,Si),_s=X.get(Si),Fu=V.get(Si),xi=this._buildInstruction(it,i,Fu,_s,Fc);if(xi.errors&&xi.errors.length)return void me.push(xi);if(Fc)return Ut.onStart(()=>Ep(Si,xi.fromStyles)),Ut.onDestroy(()=>kc(Si,xi.toStyles)),void o.push(Ut);if(it.isFallbackTransition)return Ut.onStart(()=>Ep(Si,xi.fromStyles)),Ut.onDestroy(()=>kc(Si,xi.toStyles)),void o.push(Ut);const OV=[];xi.timelines.forEach(ao=>{ao.stretchStartingKeyframe=!0,this.disabledNodes.has(ao.element)||OV.push(ao)}),xi.timelines=OV,i.append(Si,xi.timelines),d.push({instruction:xi,player:Ut,element:Si}),xi.queriedElements.forEach(ao=>ps(p,ao,[]).push(Ut)),xi.preStyleProps.forEach((ao,Xp)=>{if(ao.size){let ta=g.get(Xp);ta||g.set(Xp,ta=new Set),ao.forEach((q1,zI)=>ta.add(zI))}}),xi.postStyleProps.forEach((ao,Xp)=>{let ta=y.get(Xp);ta||y.set(Xp,ta=new Set),ao.forEach((q1,zI)=>ta.add(zI))})});if(me.length){const Ve=[];me.forEach(He=>{Ve.push(function uH(n,t){return new re(3505,!1)}())}),_e.forEach(He=>He.destroy()),this.reportError(Ve)}const ke=new Map,yt=new Map;d.forEach(Ve=>{const He=Ve.element;i.has(He)&&(yt.set(He,He),this._beforeAnimationBuild(Ve.player.namespaceId,Ve.instruction,ke))}),o.forEach(Ve=>{const He=Ve.element;this._getPreviousPlayers(He,!1,Ve.namespaceId,Ve.triggerName,null).forEach(Ut=>{ps(ke,He,[]).push(Ut),Ut.destroy()})});const Be=$.filter(Ve=>QP(Ve,g,y)),Yt=new Map;YP(Yt,this.driver,Y,y,jl).forEach(Ve=>{QP(Ve,g,y)&&Be.push(Ve)});const $i=new Map;O.forEach((Ve,He)=>{YP($i,this.driver,new Set(Ve),g,"!")}),Be.forEach(Ve=>{const He=Yt.get(Ve),it=$i.get(Ve);Yt.set(Ve,new Map([...Array.from(He?.entries()??[]),...Array.from(it?.entries()??[])]))});const di=[],ni=[],id={};d.forEach(Ve=>{const{element:He,player:it,instruction:Ut}=Ve;if(i.has(He)){if(w.has(He))return it.onDestroy(()=>kc(He,Ut.toStyles)),it.disabled=!0,it.overrideTotalTime(Ut.totalTime),void o.push(it);let Si=id;if(yt.size>1){let _s=He;const Fu=[];for(;_s=_s.parentNode;){const xi=yt.get(_s);if(xi){Si=xi;break}Fu.push(_s)}Fu.forEach(xi=>yt.set(xi,Si))}const Fc=this._buildAnimation(it.namespaceId,Ut,ke,a,$i,Yt);if(it.setRealPlayer(Fc),Si===id)di.push(it);else{const _s=this.playersByElement.get(Si);_s&&_s.length&&(it.parentPlayer=gu(_s)),o.push(it)}}else Ep(He,Ut.fromStyles),it.onDestroy(()=>kc(He,Ut.toStyles)),ni.push(it),w.has(He)&&o.push(it)}),ni.forEach(Ve=>{const He=a.get(Ve.element);if(He&&He.length){const it=gu(He);Ve.setRealPlayer(it)}}),o.forEach(Ve=>{Ve.parentPlayer?Ve.syncPlayerEvents(Ve.parentPlayer):Ve.destroy()});for(let Ve=0;Ve<$.length;Ve++){const He=$[Ve],it=He[Zs];if(Cg(He,SC),it&&it.hasAnimation)continue;let Ut=[];if(p.size){let Fc=p.get(He);Fc&&Fc.length&&Ut.push(...Fc);let _s=this.driver.query(He,vT,!0);for(let Fu=0;Fu<_s.length;Fu++){let xi=p.get(_s[Fu]);xi&&xi.length&&Ut.push(...xi)}}const Si=Ut.filter(Fc=>!Fc.destroyed);Si.length?mz(this,He,Si):this.processLeaveNode(He)}return $.length=0,di.forEach(Ve=>{this.players.push(Ve),Ve.onDone(()=>{Ve.destroy();const He=this.players.indexOf(Ve);this.players.splice(He,1)}),Ve.play()}),di}elementContainsData(t,e){let i=!1;const o=e[Zs];return o&&o.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,o,a){let d=[];if(e){const p=this.playersByQueriedElement.get(t);p&&(d=p)}else{const p=this.playersByElement.get(t);if(p){const g=!a||a==wb;p.forEach(y=>{y.queued||!g&&y.triggerName!=o||d.push(y)})}}return(i||o)&&(d=d.filter(p=>!(i&&i!=p.namespaceId||o&&o!=p.triggerName))),d}_beforeAnimationBuild(t,e,i){const a=e.element,d=e.isRemovalTransition?void 0:t,p=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const y=g.element,w=y!==a,D=ps(i,y,[]);this._getPreviousPlayers(y,w,d,p,e.toState).forEach(O=>{const V=O.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),O.destroy(),D.push(O)})}Ep(a,e.fromStyles)}_buildAnimation(t,e,i,o,a,d){const p=e.triggerName,g=e.element,y=[],w=new Set,D=new Set,S=e.timelines.map(V=>{const j=V.element;w.add(j);const $=j[Zs];if($&&$.removedBeforeQueried)return new vb(V.duration,V.delay);const G=j!==g,Y=function fz(n){const t=[];return ZP(n,t),t}((i.get(j)||az).map(ke=>ke.getRealPlayer())).filter(ke=>!!ke.element&&ke.element===j),X=a.get(j),ce=d.get(j),_e=EP(0,this._normalizer,0,V.keyframes,X,ce),me=this._buildPlayer(V,_e,Y);if(V.subTimeline&&o&&D.add(j),G){const ke=new IT(t,p,j);ke.setRealPlayer(me),y.push(ke)}return me});y.forEach(V=>{ps(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function uz(n,t,e){let i=n.get(t);if(i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,V.element,V))}),w.forEach(V=>Qs(V,IP));const O=gu(S);return O.onDestroy(()=>{w.forEach(V=>Cg(V,IP)),kc(g,e.toStyles)}),D.forEach(V=>{ps(o,V,[]).push(O)}),O}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new vb(t.duration,t.delay)}}class IT{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new vb,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(o=>uT(t,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ps(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function HC(n){return n&&1===n.nodeType}function KP(n,t){const e=n.style.display;return n.style.display=t??"none",e}function YP(n,t,e,i,o){const a=[];e.forEach(g=>a.push(KP(g)));const d=[];i.forEach((g,y)=>{const w=new Map;g.forEach(D=>{const S=t.computeStyle(y,D,o);w.set(D,S),(!S||0==S.length)&&(y[Zs]=cz,d.push(y))}),n.set(y,w)});let p=0;return e.forEach(g=>KP(g,a[p++])),d}function XP(n,t){const e=new Map;if(n.forEach(p=>e.set(p,[])),0==t.length)return e;const o=new Set(t),a=new Map;function d(p){if(!p)return 1;let g=a.get(p);if(g)return g;const y=p.parentNode;return g=e.has(y)?y:o.has(y)?1:d(y),a.set(p,g),g}return t.forEach(p=>{const g=d(p);1!==g&&e.get(g).push(p)}),e}function Qs(n,t){n.classList?.add(t)}function Cg(n,t){n.classList?.remove(t)}function mz(n,t,e){gu(e).onDone(()=>n.processLeaveNode(t))}function ZP(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof xP?ZP(i.players,t):t.push(i)}}function QP(n,t,e){const i=e.get(n);if(!i)return!1;let o=t.get(n);return o?i.forEach(a=>o.add(a)):t.set(n,i),e.delete(n),!0}class zC{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,a)=>{},this._transitionEngine=new dz(t,e,i),this._timelineEngine=new nz(t,e,i),this._transitionEngine.onRemovalComplete=(o,a)=>this.onRemovalComplete(o,a)}registerTrigger(t,e,i,o,a){const d=t+"-"+o;let p=this._triggerCache[d];if(!p){const g=[],w=wT(this._driver,a,g,[]);if(g.length)throw function eH(n,t){return new re(3404,!1)}();p=function QH(n,t,e){return new JH(n,t,e)}(o,w,this._normalizer),this._triggerCache[d]=p}this._transitionEngine.registerTrigger(e,o,p)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,o){this._transitionEngine.insertNode(t,e,i,o)}onRemove(t,e,i,o){this._transitionEngine.removeNode(t,e,o||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,o){if("@"==i.charAt(0)){const[a,d]=CP(i);this._timelineEngine.command(a,e,d,o)}else this._transitionEngine.trigger(t,e,i,o)}listen(t,e,i,o,a){if("@"==i.charAt(0)){const[d,p]=CP(i);return this._timelineEngine.listen(d,e,p,a)}return this._transitionEngine.listen(t,e,i,o,a)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let vz=(()=>{class n{constructor(e,i,o){this._element=e,this._startStyles=i,this._endStyles=o,this._state=0;let a=n.initialStylesByElement.get(e);a||n.initialStylesByElement.set(e,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&kc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(kc(this._element,this._initialStyles),this._endStyles&&(kc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ep(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ep(this._element,this._endStyles),this._endStyles=null),kc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function OT(n){let t=null;return n.forEach((e,i)=>{(function yz(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class JP{constructor(t,e,i,o){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{"offset"!==o&&t.set(o,this._finished?i:BP(this.element,o))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class bz{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return SP(t,e)}getParentElement(t){return fT(t)}query(t,e,i){return TP(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,o,a,d=[]){const g={duration:i,delay:o,fill:0==o?"both":"forwards"};a&&(g.easing=a);const y=new Map,w=d.filter(O=>O instanceof JP);(function CH(n,t){return 0===n||0===t})(i,o)&&w.forEach(O=>{O.currentSnapshot.forEach((V,j)=>y.set(j,V))});let D=function bH(n){return n.length?n[0]instanceof Map?n:n.map(t=>OP(t)):[]}(e).map(O=>_u(O));D=function DH(n,t,e){if(e.size&&t.length){let i=t[0],o=[];if(e.forEach((a,d)=>{i.has(d)||o.push(d),i.set(d,a)}),o.length)for(let a=1;a<t.length;a++){let d=t[a];o.forEach(p=>d.set(p,BP(n,p)))}}return t}(t,D,y);const S=function _z(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=OT(t[0]),t.length>1&&(i=OT(t[t.length-1]))):t instanceof Map&&(e=OT(t)),e||i?new vz(n,e,i):null}(t,D);return new JP(t,D,g,S)}}let xz=(()=>{class n extends fP{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Rr.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?_P(e):e;return eF(this._renderer,null,i,"register",[o]),new wz(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(ne(xl),ne(Ot))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class wz extends I8{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Ez(this._id,t,e||{},this._renderer)}}class Ez{constructor(t,e,i,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return eF(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function eF(n,t,e,i,o){return n.setProperty(t,`@@${e}:${i}`,o)}const tF="@.disabled";let Cz=(()=>{class n{constructor(e,i,o){this.delegate=e,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,d)=>{const p=d?.parentNode(a);p&&d.removeChild(p,a)}}createRenderer(e,i){const a=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(a);return w||(w=new nF("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,w)),w}const d=i.id,p=i.id+"-"+this._currentId;this._currentId++,this.engine.register(p,e);const g=w=>{Array.isArray(w)?w.forEach(g):this.engine.registerTrigger(d,p,e,w.name,w)};return i.data.animation.forEach(g),new Dz(this,p,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,o){e>=0&&e<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[d,p]=a;d(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(ne(xl),ne(zC),ne(Ze))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class nF{constructor(t,e,i,o){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=o,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,o=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,o){this.delegate.setAttribute(t,e,i,o)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,o){this.delegate.setStyle(t,e,i,o)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==tF?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Dz extends nF{constructor(t,e,i,o,a){super(e,i,o,a),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==tF?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const o=function kz(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let a=e.slice(1),d="";return"@"!=a.charAt(0)&&([a,d]=function Mz(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(a)),this.engine.listen(this.namespaceId,o,a,d,p=>{this.factory.scheduleListenerCallback(p._data||-1,i,p)})}return this.delegate.listen(t,e,i)}}const iF=[{provide:fP,useClass:xz},{provide:MT,useFactory:function Tz(){return new KH}},{provide:zC,useClass:(()=>{class n extends zC{constructor(e,i,o,a){super(e.body,i,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(ne(Ot),ne(gT),ne(MT),ne(yp))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})()},{provide:xl,useFactory:function Az(n,t,e){return new Cz(n,t,e)},deps:[MC,zC,Ze]}],PT=[{provide:gT,useFactory:()=>new bz},{provide:Eo,useValue:"BrowserAnimations"},...iF],rF=[{provide:gT,useClass:AP},{provide:Eo,useValue:"NoopAnimations"},...iF];let Rz=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?rF:PT}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({providers:PT,imports:[dP]}),n})();const{isArray:Iz}=Array,{getPrototypeOf:Oz,prototype:Pz,keys:Fz}=Object;function oF(n){if(1===n.length){const t=n[0];if(Iz(t))return{args:t,keys:null};if(function Nz(n){return n&&"object"==typeof n&&Oz(n)===Pz}(t)){const e=Fz(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:Lz}=Array;function FT(n){return et(t=>function Bz(n,t){return Lz(t)?n(...t):n(t)}(n,t))}function sF(n,t){return n.reduce((e,i,o)=>(e[i]=t[o],e),{})}function aF(...n){const t=ad(n),{args:e,keys:i}=oF(n),o=new sn(a=>{const{length:d}=e;if(!d)return void a.complete();const p=new Array(d);let g=d,y=d;for(let w=0;w<d;w++){let D=!1;fr(e[w]).subscribe(Bn(a,S=>{D||(D=!0,y--),p[w]=S},()=>g--,void 0,()=>{(!g||!D)&&(y||a.next(i?sF(i,p):p),a.complete())}))}});return t?o.pipe(FT(t)):o}let cF=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(B(xa),B(qe))},n.\u0275dir=se({type:n}),n})(),Dp=(()=>{class n extends cF{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ft(n)))(i||n)}}(),n.\u0275dir=se({type:n,features:[De]}),n})();const Js=new ue("NgValueAccessor"),jz={provide:Js,useExisting:vn(()=>Eb),multi:!0},zz=new ue("CompositionEventMode");let Eb=(()=>{class n extends cF{constructor(e,i,o){super(e,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Hz(){const n=Ec()?Ec().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(B(xa),B(qe),B(zz,8))},n.\u0275dir=se({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&ct("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[Je([jz]),De]}),n})();function vu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function dF(n){return null!=n&&"number"==typeof n.length}const jr=new ue("NgValidators"),yu=new ue("NgAsyncValidators"),Uz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Gz{static min(t){return function uF(n){return t=>{if(vu(t.value)||vu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function hF(n){return t=>{if(vu(t.value)||vu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function pF(n){return vu(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function mF(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function fF(n){return vu(n.value)||Uz.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function gF(n){return t=>vu(t.value)||!dF(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function _F(n){return t=>dF(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function vF(n){if(!n)return UC;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(vu(i.value))return null;const o=i.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return CF(t)}static composeAsync(t){return DF(t)}}function UC(n){return null}function yF(n){return null!=n}function bF(n){return ep(n)?In(n):n}function xF(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function wF(n,t){return t.map(e=>e(n))}function EF(n){return n.map(t=>function Wz(n){return!n.validate}(t)?t:e=>t.validate(e))}function CF(n){if(!n)return null;const t=n.filter(yF);return 0==t.length?null:function(e){return xF(wF(e,t))}}function NT(n){return null!=n?CF(EF(n)):null}function DF(n){if(!n)return null;const t=n.filter(yF);return 0==t.length?null:function(e){return aF(wF(e,t).map(bF)).pipe(et(xF))}}function LT(n){return null!=n?DF(EF(n)):null}function kF(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function MF(n){return n._rawValidators}function SF(n){return n._rawAsyncValidators}function BT(n){return n?Array.isArray(n)?n:[n]:[]}function GC(n,t){return Array.isArray(n)?n.includes(t):n===t}function TF(n,t){const e=BT(t);return BT(n).forEach(o=>{GC(e,o)||e.push(o)}),e}function AF(n,t){return BT(t).filter(e=>!GC(n,e))}class RF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=NT(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=LT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Co extends RF{get formDirective(){return null}get path(){return null}}class $l extends RF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class IF{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let VT=(()=>{class n extends IF{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(B($l,2))},n.\u0275dir=se({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&lt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[De]}),n})();const Cb="VALID",qC="INVALID",Dg="PENDING",Db="DISABLED";function $T(n){return(KC(n)?n.validators:n)||null}function UT(n,t){return(KC(t)?t.asyncValidators:n)||null}function KC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class NF{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Cb}get invalid(){return this.status===qC}get pending(){return this.status==Dg}get disabled(){return this.status===Db}get enabled(){return this.status!==Db}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(TF(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(TF(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(AF(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(AF(t,this._rawAsyncValidators))}hasValidator(t){return GC(this._rawValidators,t)}hasAsyncValidator(t){return GC(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Dg,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Db,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Cb,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cb||this.status===Dg)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Db:Cb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Dg,this._hasOwnPendingAsyncValidator=!0;const e=bF(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new rn,this.statusChanges=new rn}_calculateStatus(){return this._allControlsDisabled()?Db:this.errors?qC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dg)?Dg:this._anyControlsHaveStatus(qC)?qC:Cb}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){KC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function e$(n){return Array.isArray(n)?NT(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function t$(n){return Array.isArray(n)?LT(n):n||null}(this._rawAsyncValidators)}}class GT extends NF{constructor(t,e,i){super($T(e),UT(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function FF(n,t,e){n._forEachChild((i,o)=>{if(void 0===e[o])throw new re(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function PF(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new re(1e3,"");if(!i[e])throw new re(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const o=this.controls[i];o&&o.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,o)=>{i.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,o)=>((i.enabled||this.disabled)&&(e[o]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((o,a)=>{i=e(i,o,a)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const kb=new ue("CallSetDisabledState",{providedIn:"root",factory:()=>WT}),WT="always";function Mb(n,t,e=WT){qT(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function r$(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&LF(n,t)})}(n,t),function s$(n,t){const e=(i,o)=>{t.valueAccessor.writeValue(i),o&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function o$(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&LF(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function i$(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function XC(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),QC(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ZC(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function qT(n,t){const e=MF(n);null!==t.validator?n.setValidators(kF(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=SF(n);null!==t.asyncValidator?n.setAsyncValidators(kF(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const o=()=>n.updateValueAndValidity();ZC(t._rawValidators,o),ZC(t._rawAsyncValidators,o)}function QC(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=MF(n);if(Array.isArray(o)&&o.length>0){const a=o.filter(d=>d!==t.validator);a.length!==o.length&&(e=!0,n.setValidators(a))}}if(null!==t.asyncValidator){const o=SF(n);if(Array.isArray(o)&&o.length>0){const a=o.filter(d=>d!==t.asyncValidator);a.length!==o.length&&(e=!0,n.setAsyncValidators(a))}}}const i=()=>{};return ZC(t._rawValidators,i),ZC(t._rawAsyncValidators,i),e}function LF(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function BF(n,t){qT(n,t)}function VF(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const u$={provide:Co,useExisting:vn(()=>JC)},Sb=(()=>Promise.resolve())();let JC=(()=>{class n extends Co{constructor(e,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new rn,this.form=new GT({},NT(e),LT(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Sb.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Mb(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Sb.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Sb.then(()=>{const i=this._findContainer(e.path),o=new GT({});BF(o,e),i.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Sb.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Sb.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,VF(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(B(jr,10),B(yu,10),B(kb,8))},n.\u0275dir=se({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&ct("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Je([u$]),De]}),n})();function jF(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function HF(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const zF=class extends NF{constructor(t=null,e,i){super($T(e),UT(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),KC(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=HF(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){jF(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){jF(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){HF(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},m$={provide:$l,useExisting:vn(()=>eD)},GF=(()=>Promise.resolve())();let eD=(()=>{class n extends $l{constructor(e,i,o,a,d,p){super(),this._changeDetectorRef=d,this.callSetDisabledState=p,this.control=new zF,this._registered=!1,this.update=new rn,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function XT(n,t){if(!t)return null;let e,i,o;return Array.isArray(t),t.forEach(a=>{a.constructor===Eb?e=a:function l$(n){return Object.getPrototypeOf(n.constructor)===Dp}(a)?i=a:o=a}),o||i||e||null}(0,a)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function YT(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){GF.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,o=0!==i&&xg(i);GF.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function YC(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(B(Co,9),B(jr,10),B(yu,10),B(Js,10),B(io,8),B(kb,8))},n.\u0275dir=se({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Je([m$]),De,or]}),n})(),qF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({}),n})();const x$={provide:Co,useExisting:vn(()=>tD)};let tD=(()=>{class n extends Co{constructor(e,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new rn,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(QC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Mb(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){XC(e.control||null,e,!1),function d$(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,VF(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,o=this.form.get(e.path);i!==o&&(XC(i||null,e),(n=>n instanceof zF)(o)&&(Mb(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);BF(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function a$(n,t){return QC(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qT(this.form,this),this._oldForm&&QC(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(B(jr,10),B(yu,10),B(kb,8))},n.\u0275dir=se({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&ct("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Je([x$]),De,or]}),n})(),V$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[qF]}),n})(),H$=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:kb,useValue:e.callSetDisabledState??WT}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[V$]}),n})();function gn(n){return null!=n&&"false"!=`${n}`}function Mc(n,t=0){return function z$(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function nD(n){return Array.isArray(n)?n:[n]}function er(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ul(n){return n instanceof qe?n.nativeElement:n}function iA(...n){const t=Vu(n),e=ad(n),{args:i,keys:o}=oF(n);if(0===i.length)return In([],t);const a=new sn(function $$(n,t,e=Ka){return i=>{dN(t,()=>{const{length:o}=n,a=new Array(o);let d=o,p=o;for(let g=0;g<o;g++)dN(t,()=>{const y=In(n[g],t);let w=!1;y.subscribe(Bn(i,D=>{a[g]=D,w||(w=!0,p--),p||i.next(e(a.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,t,o?d=>sF(o,d):Ka));return e?a.pipe(FT(e)):a}function dN(n,t,e){n?co(e,n,t):t()}function kg(...n){return function U$(){return sd(1)}()(In(n,Vu(n)))}function jn(n){return n<=0?()=>lo:an((t,e)=>{let i=0;t.subscribe(Bn(e,o=>{++i<=n&&(e.next(o),n<=i&&e.complete())}))})}function Kn(n,t){return an((e,i)=>{let o=0;e.subscribe(Bn(i,a=>n.call(t,a,o++)&&i.next(a)))})}function uN(n){return Kn((t,e)=>n<=e)}class G$ extends qt{constructor(t,e){super()}schedule(t,e=0){return this}}const iD={setInterval(n,t,...e){const{delegate:i}=iD;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=iD;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class rA extends G${constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const o=this.id,a=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(a,o,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(a,this.id,e),this}requestAsyncId(t,e,i=0){return iD.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&iD.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let o,i=!1;try{this.work(t)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,zn(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const hN={now:()=>(hN.delegate||Date).now(),delegate:void 0};class Tb{constructor(t,e=Tb.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Tb.now=hN.now;class oA extends Tb{constructor(t,e=Tb.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const rD=new oA(rA),W$=rD;function sA(n,t=rD){return an((e,i)=>{let o=null,a=null,d=null;const p=()=>{if(o){o.unsubscribe(),o=null;const y=a;a=null,i.next(y)}};function g(){const y=d+n,w=t.now();if(w<y)return o=this.schedule(void 0,y-w),void i.add(o);p()}e.subscribe(Bn(i,y=>{a=y,d=t.now(),o||(o=t.schedule(g,n),i.add(o))},()=>{p(),i.complete()},void 0,()=>{a=o=null}))})}function bu(...n){const t=Vu(n);return an((e,i)=>{(t?kg(n,e,t):kg(n,e)).subscribe(i)})}function Mn(n){return an((t,e)=>{fr(n).subscribe(Bn(e,()=>e.complete(),on)),!e.closed&&t.subscribe(e)})}let aA;try{aA=typeof Intl<"u"&&Intl.v8BreakIterator}catch{aA=!1}let Mg,ci=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?QS(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!aA)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(ne(db))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pN=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function mN(){if(Mg)return Mg;if("object"!=typeof document||!document)return Mg=new Set(pN),Mg;let n=document.createElement("input");return Mg=new Set(pN.filter(t=>(n.setAttribute("type",t),n.type===t))),Mg}let Ab,oD,Sp,cA;function Mp(n){return function q$(){if(null==Ab&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ab=!0}))}finally{Ab=Ab||!1}return Ab}()?n:!!n.capture}function fN(){if(null==Sp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Sp=!1,Sp;if("scrollBehavior"in document.documentElement.style)Sp=!0;else{const n=Element.prototype.scrollTo;Sp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Sp}function Rb(){if("object"!=typeof document||!document)return 0;if(null==oD){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),oD=0,0===n.scrollLeft&&(n.scrollLeft=1,oD=0===n.scrollLeft?1:2),n.remove()}return oD}function sD(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function xu(n){return n.composedPath?n.composedPath()[0]:n.target}function lA(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}let X$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({}),n})();const gN=new Set;let Sg,Z$=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):J$}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Q$(n){if(!gN.has(n))try{Sg||(Sg=document.createElement("style"),Sg.setAttribute("type","text/css"),document.head.appendChild(Sg)),Sg.sheet&&(Sg.sheet.insertRule(`@media ${n} {body{ }}`,0),gN.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(ne(ci))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function J$(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let e6=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Ne}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return _N(nD(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let a=iA(_N(nD(e)).map(d=>this._registerQuery(d).observable));return a=kg(a.pipe(jn(1)),a.pipe(uN(1),sA(0))),a.pipe(et(d=>{const p={matches:!1,breakpoints:{}};return d.forEach(({matches:g,query:y})=>{p.matches=p.matches||g,p.breakpoints[y]=g}),p}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),a={observable:new sn(d=>{const p=g=>this._zone.run(()=>d.next(g));return i.addListener(p),()=>{i.removeListener(p)}}).pipe(bu(i),et(({matches:d})=>({query:e,matches:d})),Mn(this._destroySubject)),mql:i};return this._queries.set(e,a),a}}return n.\u0275fac=function(e){return new(e||n)(ne(Z$),ne(Ze))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _N(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const kr=void 0,n6=["de",[["AM","PM"],kr,kr],kr,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xe4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],kr,kr],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",kr,"{1} 'um' {0}",kr],[",",".",";","%","+","-","E","\xb7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","Euro",{ATS:["\xf6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],BYN:[kr,"\u0440."],CUC:[kr,"Cub$"],DEM:["DM"],FKP:[kr,"Fl\xa3"],GHS:[kr,"\u20b5"],GNF:[kr,"F.G."],KMF:[kr,"FC"],PHP:[kr,"\u20b1"],RON:[kr,"L"],RUR:[kr,"\u0440."],RWF:[kr,"F.Rw"],SYP:[],THB:["\u0e3f"],TWD:["NT$"],XXX:[],ZMW:[kr,"K"]},"ltr",function t6(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}],Tp=void 0,r6=["en",[["a","p"],["AM","PM"],Tp],[["AM","PM"],Tp,Tp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Tp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Tp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Tp,"{1} 'at' {0}",Tp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function i6(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];function je(...n){return In(n,Vu(n))}class Hr extends Ne{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const aD=Me(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Tg(n){return new sn(t=>{fr(n()).subscribe(t)})}function Ap(n,t){const e=Dt(n)?n:()=>n,i=o=>o.error(e());return new sn(t?o=>t.schedule(i,0,o):i)}function dA(){return an((n,t)=>{let e=null;n._refCount++;const i=Bn(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,a=e;e=null,o&&(!a||o===a)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class cD extends sn{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Ro(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new qt;const e=this.getSubject();t.add(this.source.subscribe(Bn(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=qt.EMPTY)}return t}refCount(){return dA()(this)}}function ro(n,t){return an((e,i)=>{let o=null,a=0,d=!1;const p=()=>d&&!o&&i.complete();e.subscribe(Bn(i,g=>{o?.unsubscribe();let y=0;const w=a++;fr(n(g,w)).subscribe(o=Bn(i,D=>i.next(t?t(g,D,w,y++):D),()=>{o=null,p()}))},()=>{d=!0,p()}))})}function lD(n){return an((t,e)=>{let i=!1;t.subscribe(Bn(e,o=>{i=!0,e.next(o)},()=>{i||e.next(n),e.complete()}))})}function vN(n=o6){return an((t,e)=>{let i=!1;t.subscribe(Bn(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(n())))})}function o6(){return new aD}function wu(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Kn((o,a)=>n(o,a,i)):Ka,jn(1),e?lD(t):vN(()=>new aD))}function Eu(n,t){return Dt(t)?Ri(n,t,1):Ri(n,1)}function zi(n,t,e){const i=Dt(n)||t||e?{next:n,error:t,complete:e}:n;return i?an((o,a)=>{var d;null===(d=i.subscribe)||void 0===d||d.call(i);let p=!0;o.subscribe(Bn(a,g=>{var y;null===(y=i.next)||void 0===y||y.call(i,g),a.next(g)},()=>{var g;p=!1,null===(g=i.complete)||void 0===g||g.call(i),a.complete()},g=>{var y;p=!1,null===(y=i.error)||void 0===y||y.call(i,g),a.error(g)},()=>{var g,y;p&&(null===(g=i.unsubscribe)||void 0===g||g.call(i)),null===(y=i.finalize)||void 0===y||y.call(i)}))}):Ka}function Gl(n){return an((t,e)=>{let a,i=null,o=!1;i=t.subscribe(Bn(e,void 0,void 0,d=>{a=fr(n(d,Gl(n)(t))),i?(i.unsubscribe(),i=null,a.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,a.subscribe(e))})}function s6(n,t,e,i,o){return(a,d)=>{let p=e,g=t,y=0;a.subscribe(Bn(d,w=>{const D=y++;g=p?n(g,w,D):(p=!0,w),i&&d.next(g)},o&&(()=>{p&&d.next(g),d.complete()})))}}function yN(n,t){return an(s6(n,t,arguments.length>=2,!0))}function uA(n){return n<=0?()=>lo:an((t,e)=>{let i=[];t.subscribe(Bn(e,o=>{i.push(o),n<i.length&&i.shift()},()=>{for(const o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function bN(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Kn((o,a)=>n(o,a,i)):Ka,uA(1),e?lD(t):vN(()=>new aD))}function xN(n){return et(()=>n)}function dD(n){return an((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const $t="primary",Ib=Symbol("RouteTitle");class c6{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ag(n){return new c6(n)}function l6(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const o={};for(let a=0;a<i.length;a++){const d=i[a],p=n[a];if(d.startsWith(":"))o[d.substring(1)]=p;else if(d!==p.path)return null}return{consumed:n.slice(0,i.length),posParams:o}}function Sc(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let a=0;a<e.length;a++)if(o=e[a],!wN(n[o],t[o]))return!1;return!0}function wN(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((o,a)=>i[a]===o)}return n===t}function EN(n){return Array.prototype.concat.apply([],n)}function CN(n){return n.length>0?n[n.length-1]:null}function zr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Cu(n){return Dl(n)?n:ep(n)?In(Promise.resolve(n)):je(n)}const uD=!1,u6={exact:function MN(n,t,e){if(!Ip(n.segments,t.segments)||!hD(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!MN(n.children[i],t.children[i],e))return!1;return!0},subset:SN},DN={exact:function h6(n,t){return Sc(n,t)},subset:function p6(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>wN(n[e],t[e]))},ignored:()=>!0};function kN(n,t,e){return u6[e.paths](n.root,t.root,e.matrixParams)&&DN[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function SN(n,t,e){return TN(n,t,t.segments,e)}function TN(n,t,e,i){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!Ip(o,e)||t.hasChildren()||!hD(o,e,i))}if(n.segments.length===e.length){if(!Ip(n.segments,e)||!hD(n.segments,e,i))return!1;for(const o in t.children)if(!n.children[o]||!SN(n.children[o],t.children[o],i))return!1;return!0}{const o=e.slice(0,n.segments.length),a=e.slice(n.segments.length);return!!(Ip(n.segments,o)&&hD(n.segments,o,i)&&n.children[$t])&&TN(n.children[$t],t,a,i)}}function hD(n,t,e){return t.every((i,o)=>DN[e](n[o].parameters,i.parameters))}class Rp{constructor(t=new Gt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ag(this.queryParams)),this._queryParamMap}toString(){return g6.serialize(this)}}class Gt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,zr(e,(i,o)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pD(this)}}class Ob{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ag(this.parameters)),this._parameterMap}toString(){return IN(this)}}function Ip(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Pb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:function(){return new hA},providedIn:"root"}),n})();class hA{parse(t){const e=new D6(t);return new Rp(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Fb(t.root,!0)}`,i=function y6(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(o=>`${mD(e)}=${mD(o)}`).join("&"):`${mD(e)}=${mD(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function _6(n){return encodeURI(n)}(t.fragment)}`:""}`}}const g6=new hA;function pD(n){return n.segments.map(t=>IN(t)).join("/")}function Fb(n,t){if(!n.hasChildren())return pD(n);if(t){const e=n.children[$t]?Fb(n.children[$t],!1):"",i=[];return zr(n.children,(o,a)=>{a!==$t&&i.push(`${a}:${Fb(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function f6(n,t){let e=[];return zr(n.children,(i,o)=>{o===$t&&(e=e.concat(t(i,o)))}),zr(n.children,(i,o)=>{o!==$t&&(e=e.concat(t(i,o)))}),e}(n,(i,o)=>o===$t?[Fb(n.children[$t],!1)]:[`${o}:${Fb(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${pD(n)}/${e[0]}`:`${pD(n)}/(${e.join("//")})`}}function AN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mD(n){return AN(n).replace(/%3B/gi,";")}function pA(n){return AN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fD(n){return decodeURIComponent(n)}function RN(n){return fD(n.replace(/\+/g,"%20"))}function IN(n){return`${pA(n.path)}${function v6(n){return Object.keys(n).map(t=>`;${pA(t)}=${pA(n[t])}`).join("")}(n.parameters)}`}const b6=/^[^\/()?;=#]+/;function gD(n){const t=n.match(b6);return t?t[0]:""}const x6=/^[^=?&#]+/,E6=/^[^&#]+/;class D6{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gt([],{}):new Gt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[$t]=new Gt(t,e)),i}parseSegment(){const t=gD(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new re(4009,uD);return this.capture(t),new Ob(fD(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=gD(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=gD(this.remaining);o&&(i=o,this.capture(i))}t[fD(e)]=fD(i)}parseQueryParam(t){const e=function w6(n){const t=n.match(x6);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function C6(n){const t=n.match(E6);return t?t[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const o=RN(e),a=RN(i);if(t.hasOwnProperty(o)){let d=t[o];Array.isArray(d)||(d=[d],t[o]=d),d.push(a)}else t[o]=a}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=gD(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new re(4010,uD);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=$t);const d=this.parseChildren();e[a]=1===Object.keys(d).length?d[$t]:new Gt([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new re(4011,uD)}}function mA(n){return n.segments.length>0?new Gt([],{[$t]:n}):n}function _D(n){const t={};for(const i of Object.keys(n.children)){const a=_D(n.children[i]);(a.segments.length>0||a.hasChildren())&&(t[i]=a)}return function k6(n){if(1===n.numberOfChildren&&n.children[$t]){const t=n.children[$t];return new Gt(n.segments.concat(t.segments),t.children)}return n}(new Gt(n.segments,t))}function Op(n){return n instanceof Rp}function T6(n,t,e,i,o){if(0===e.length)return Rg(t.root,t.root,t.root,i,o);const a=function FN(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new PN(!0,0,n);let t=0,e=!1;const i=n.reduce((o,a,d)=>{if("object"==typeof a&&null!=a){if(a.outlets){const p={};return zr(a.outlets,(g,y)=>{p[y]="string"==typeof g?g.split("/"):g}),[...o,{outlets:p}]}if(a.segmentPath)return[...o,a.segmentPath]}return"string"!=typeof a?[...o,a]:0===d?(a.split("/").forEach((p,g)=>{0==g&&"."===p||(0==g&&""===p?e=!0:".."===p?t++:""!=p&&o.push(p))}),o):[...o,a]},[]);return new PN(e,t,i)}(e);return a.toRoot()?Rg(t.root,t.root,new Gt([],{}),i,o):function d(g){const y=function R6(n,t,e,i){if(n.isAbsolute)return new Ig(t.root,!0,0);if(-1===i)return new Ig(e,e===t.root,0);return function NN(n,t,e){let i=n,o=t,a=e;for(;a>o;){if(a-=o,i=i.parent,!i)throw new re(4005,!1);o=i.segments.length}return new Ig(i,!1,o-a)}(e,i+(Nb(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,t,n.snapshot?._urlSegment,g),w=y.processChildren?Bb(y.segmentGroup,y.index,a.commands):gA(y.segmentGroup,y.index,a.commands);return Rg(t.root,y.segmentGroup,w,i,o)}(n.snapshot?._lastPathIndex)}function Nb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Lb(n){return"object"==typeof n&&null!=n&&n.outlets}function Rg(n,t,e,i,o){let d,a={};i&&zr(i,(g,y)=>{a[y]=Array.isArray(g)?g.map(w=>`${w}`):`${g}`}),d=n===t?e:ON(n,t,e);const p=mA(_D(d));return new Rp(p,a,o)}function ON(n,t,e){const i={};return zr(n.children,(o,a)=>{i[a]=o===t?e:ON(o,t,e)}),new Gt(n.segments,i)}class PN{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Nb(i[0]))throw new re(4003,!1);const o=i.find(Lb);if(o&&o!==CN(i))throw new re(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ig{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function gA(n,t,e){if(n||(n=new Gt([],{})),0===n.segments.length&&n.hasChildren())return Bb(n,t,e);const i=function O6(n,t,e){let i=0,o=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(i>=e.length)return a;const d=n.segments[o],p=e[i];if(Lb(p))break;const g=`${p}`,y=i<e.length-1?e[i+1]:null;if(o>0&&void 0===g)break;if(g&&y&&"object"==typeof y&&void 0===y.outlets){if(!BN(g,y,d))return a;i+=2}else{if(!BN(g,{},d))return a;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(n,t,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new Gt(n.segments.slice(0,i.pathIndex),{});return a.children[$t]=new Gt(n.segments.slice(i.pathIndex),n.children),Bb(a,0,o)}return i.match&&0===o.length?new Gt(n.segments,{}):i.match&&!n.hasChildren()?_A(n,t,e):i.match?Bb(n,0,o):_A(n,t,e)}function Bb(n,t,e){if(0===e.length)return new Gt(n.segments,{});{const i=function I6(n){return Lb(n[0])?n[0].outlets:{[$t]:n}}(e),o={};return zr(i,(a,d)=>{"string"==typeof a&&(a=[a]),null!==a&&(o[d]=gA(n.children[d],t,a))}),zr(n.children,(a,d)=>{void 0===i[d]&&(o[d]=a)}),new Gt(n.segments,o)}}function _A(n,t,e){const i=n.segments.slice(0,t);let o=0;for(;o<e.length;){const a=e[o];if(Lb(a)){const g=P6(a.outlets);return new Gt(i,g)}if(0===o&&Nb(e[0])){i.push(new Ob(n.segments[t].path,LN(e[0]))),o++;continue}const d=Lb(a)?a.outlets[$t]:`${a}`,p=o<e.length-1?e[o+1]:null;d&&p&&Nb(p)?(i.push(new Ob(d,LN(p))),o+=2):(i.push(new Ob(d,{})),o++)}return new Gt(i,{})}function P6(n){const t={};return zr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=_A(new Gt([],{}),0,e))}),t}function LN(n){const t={};return zr(n,(e,i)=>t[i]=`${e}`),t}function BN(n,t,e){return n==e.path&&Sc(t,e.parameters)}const Vb="imperative";class Tc{constructor(t,e){this.id=t,this.url=e}}class vA extends Tc{constructor(t,e,i="imperative",o=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pp extends Tc{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vD extends Tc{constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class VN extends Tc{constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o,this.type=16}}class jN extends Tc{constructor(t,e,i,o){super(t,e),this.error=i,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class F6 extends Tc{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N6 extends Tc{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class L6 extends Tc{constructor(t,e,i,o,a){super(t,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class B6 extends Tc{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V6 extends Tc{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j6{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class H6{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class z6{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $6{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U6{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class G6{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HN{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let q6=(()=>{class n{createUrlTree(e,i,o,a,d,p){return T6(e||i.root,o,a,d,p)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),K6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:function(t){return q6.\u0275fac(t)},providedIn:"root"}),n})();class zN{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=yA(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=yA(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=bA(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return bA(t,this._root).map(e=>e.value)}}function yA(n,t){if(n===t.value)return t;for(const e of t.children){const i=yA(n,e);if(i)return i}return null}function bA(n,t){if(n===t.value)return[t];for(const e of t.children){const i=bA(n,e);if(i.length)return i.unshift(t),i}return[]}class Wl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Og(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class $N extends zN{constructor(t,e){super(t),this.snapshot=e,xA(this,t)}toString(){return this.snapshot.toString()}}function UN(n,t){const e=function Y6(n,t){const d=new yD([],{},{},"",{},$t,t,null,n.root,-1,{});return new WN("",new Wl(d,[]))}(n,t),i=new Hr([new Ob("",{})]),o=new Hr({}),a=new Hr({}),d=new Hr({}),p=new Hr(""),g=new Fp(i,o,d,p,a,$t,t,e.root);return g.snapshot=e.root,new $N(new Wl(g,[]),e)}class Fp{constructor(t,e,i,o,a,d,p,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=a,this.outlet=d,this.component=p,this.title=this.data?.pipe(et(y=>y[Ib]))??je(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(et(t=>Ag(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(et(t=>Ag(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function GN(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const o=e[i],a=e[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(a.component)break;i--}}return function X6(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class yD{get title(){return this.data?.[Ib]}constructor(t,e,i,o,a,d,p,g,y,w,D){this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=a,this.outlet=d,this.component=p,this.routeConfig=g,this._urlSegment=y,this._lastPathIndex=w,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ag(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ag(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class WN extends zN{constructor(t,e){super(e),this.url=t,xA(this,e)}toString(){return qN(this._root)}}function xA(n,t){t.value._routerState=n,t.children.forEach(e=>xA(n,e))}function qN(n){const t=n.children.length>0?` { ${n.children.map(qN).join(", ")} } `:"";return`${n.value}${t}`}function wA(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Sc(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Sc(t.params,e.params)||n.params.next(e.params),function d6(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Sc(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Sc(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function EA(n,t){const e=Sc(n.params,t.params)&&function m6(n,t){return Ip(n,t)&&n.every((e,i)=>Sc(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||EA(n.parent,t.parent))}function jb(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const o=function Q6(n,t,e){return t.children.map(i=>{for(const o of e.children)if(n.shouldReuseRoute(i.value,o.value.snapshot))return jb(n,i,o);return jb(n,i)})}(n,t,e);return new Wl(i,o)}{if(n.shouldAttach(t.value)){const a=n.retrieve(t.value);if(null!==a){const d=a.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(p=>jb(n,p)),d}}const i=function J6(n){return new Fp(new Hr(n.url),new Hr(n.params),new Hr(n.queryParams),new Hr(n.fragment),new Hr(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(a=>jb(n,a));return new Wl(i,o)}}const CA="ngNavigationCancelingError";function KN(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Op(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=YN(!1,0,t);return o.url=e,o.navigationBehaviorOptions=i,o}function YN(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[CA]=!0,i.cancellationCode=t,e&&(i.url=e),i}function XN(n){return ZN(n)&&Op(n.url)}function ZN(n){return n&&n[CA]}class eU{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Hb,this.attachRef=null}}let Hb=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new eU,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bD=!1;let DA=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=$t,this.activateEvents=new rn,this.deactivateEvents=new rn,this.attachEvents=new rn,this.detachEvents=new rn,this.parentContexts=St(Hb),this.location=St(ji),this.changeDetector=St(io),this.environmentInjector=St(_o)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new re(4012,bD);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new re(4012,bD);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new re(4012,bD);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new re(4013,bD);this._activatedRoute=e;const o=this.location,d=e.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,g=new tU(e,p,o.injector);if(i&&function nU(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(d);this.activated=o.createComponent(y,o.length,g)}else this.activated=o.createComponent(d,{index:o.length,injector:g,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[or]}),n})();class tU{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Fp?this.route:t===Hb?this.childContexts:this.parent.get(t,e)}}let kA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=kt({type:n,selectors:[["ng-component"]],standalone:!0,features:[qs],decls:1,vars:0,template:function(e,i){1&e&&Qe(0,"router-outlet")},dependencies:[DA],encapsulation:2}),n})();function QN(n,t){return n.providers&&!n._injector&&(n._injector=uu(n.providers,t,`Route: ${n.path}`)),n._injector??t}function SA(n){const t=n.children&&n.children.map(SA),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==$t&&(e.component=kA),e}function ea(n){return n.outlet||$t}function JN(n,t){const e=n.filter(i=>ea(i)===t);return e.push(...n.filter(i=>ea(i)!==t)),e}function zb(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class aU{constructor(t,e,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),wA(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const o=Og(e);t.children.forEach(a=>{const d=a.value.outlet;this.deactivateRoutes(a,o[d],i),delete o[d]}),zr(o,(a,d)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(t,e,i){const o=t.value,a=e?e.value:null;if(o===a)if(o.component){const d=i.getContext(o.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,i);else a&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,a=Og(t);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],o);if(i&&i.outlet){const d=i.outlet.detach(),p=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:p})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,a=Og(t);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],o);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const o=Og(e);t.children.forEach(a=>{this.activateRoutes(a,o[a.value.outlet],i),this.forwardEvent(new G6(a.value.snapshot))}),t.children.length&&this.forwardEvent(new $6(t.value.snapshot))}activateRoutes(t,e,i){const o=t.value,a=e?e.value:null;if(wA(o),o===a)if(o.component){const d=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,i);else if(o.component){const d=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const p=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(p.contexts),d.attachRef=p.componentRef,d.route=p.route.value,d.outlet&&d.outlet.attach(p.componentRef,p.route.value),wA(p.route.value),this.activateChildRoutes(t,null,d.children)}else{const p=zb(o.snapshot),g=p?.get(dc)??null;d.attachRef=null,d.route=o,d.resolver=g,d.injector=p,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,i)}}class eL{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class xD{constructor(t,e){this.component=t,this.route=e}}function cU(n,t,e){const i=n._root;return $b(i,t?t._root:null,e,[i.value])}function Pg(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function Y0(n){return null!==Xo(n)}(n)?t.get(n):n:i}function $b(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=Og(t);return n.children.forEach(d=>{(function dU(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,d=t?t.value:null,p=e?e.getContext(n.value.outlet):null;if(d&&a.routeConfig===d.routeConfig){const g=function uU(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ip(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ip(n.url,t.url)||!Sc(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!EA(n,t)||!Sc(n.queryParams,t.queryParams);default:return!EA(n,t)}}(d,a,a.routeConfig.runGuardsAndResolvers);g?o.canActivateChecks.push(new eL(i)):(a.data=d.data,a._resolvedData=d._resolvedData),$b(n,t,a.component?p?p.children:null:e,i,o),g&&p&&p.outlet&&p.outlet.isActivated&&o.canDeactivateChecks.push(new xD(p.outlet.component,d))}else d&&Ub(t,p,o),o.canActivateChecks.push(new eL(i)),$b(n,null,a.component?p?p.children:null:e,i,o)})(d,a[d.value.outlet],e,i.concat([d.value]),o),delete a[d.value.outlet]}),zr(a,(d,p)=>Ub(d,e.getContext(p),o)),o}function Ub(n,t,e){const i=Og(n),o=n.value;zr(i,(a,d)=>{Ub(a,o.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new xD(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Gb(n){return"function"==typeof n}function TA(n){return n instanceof aD||"EmptyError"===n?.name}const wD=Symbol("INITIAL_VALUE");function Fg(){return ro(n=>iA(n.map(t=>t.pipe(jn(1),bu(wD)))).pipe(et(t=>{for(const e of t)if(!0!==e){if(e===wD)return wD;if(!1===e||e instanceof Rp)return e}return!0}),Kn(t=>t!==wD),jn(1)))}function tL(n){return function Yo(...n){return Ao(n)}(zi(t=>{if(Op(t))throw KN(0,t)}),et(t=>!0===t))}const AA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nL(n,t,e,i,o){const a=RA(n,t,e);return a.matched?function SU(n,t,e,i){const o=t.canMatch;return o&&0!==o.length?je(o.map(d=>{const p=Pg(d,n);return Cu(function _U(n){return n&&Gb(n.canMatch)}(p)?p.canMatch(t,e):n.runInContext(()=>p(t,e)))})).pipe(Fg(),tL()):je(!0)}(i=QN(t,i),t,e).pipe(et(d=>!0===d?a:{...AA})):je(a)}function RA(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...AA}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||l6)(e,n,t);if(!o)return{...AA};const a={};zr(o.posParams,(p,g)=>{a[g]=p.path});const d=o.consumed.length>0?{...a,...o.consumed[o.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function ED(n,t,e,i){if(e.length>0&&function RU(n,t,e){return e.some(i=>CD(n,t,i)&&ea(i)!==$t)}(n,e,i)){const a=new Gt(t,function AU(n,t,e,i){const o={};o[$t]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const a of e)if(""===a.path&&ea(a)!==$t){const d=new Gt([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,o[ea(a)]=d}return o}(n,t,i,new Gt(e,n.children)));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function IU(n,t,e){return e.some(i=>CD(n,t,i))}(n,e,i)){const a=new Gt(n.segments,function TU(n,t,e,i,o){const a={};for(const d of i)if(CD(n,e,d)&&!o[ea(d)]){const p=new Gt([],{});p._sourceSegment=n,p._segmentIndexShift=t.length,a[ea(d)]=p}return{...o,...a}}(n,t,e,i,n.children));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const o=new Gt(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function CD(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function iL(n,t,e,i){return!!(ea(n)===i||i!==$t&&CD(t,e,n))&&("**"===n.path||RA(t,n,e).matched)}function rL(n,t,e){return 0===t.length&&!n.children[e]}const DD=!1;class kD{constructor(t){this.segmentGroup=t||null}}class oL{constructor(t){this.urlTree=t}}function Wb(n){return Ap(new kD(n))}function sL(n){return Ap(new oL(n))}class NU{constructor(t,e,i,o,a){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=o,this.config=a,this.allowRedirects=!0}apply(){const t=ED(this.urlTree.root,[],[],this.config).segmentGroup,e=new Gt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,$t).pipe(et(a=>this.createUrlTree(_D(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gl(a=>{if(a instanceof oL)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof kD?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,$t).pipe(et(o=>this.createUrlTree(_D(o),t.queryParams,t.fragment))).pipe(Gl(o=>{throw o instanceof kD?this.noMatchError(o):o}))}noMatchError(t){return new re(4002,DD)}createUrlTree(t,e,i){const o=mA(t);return new Rp(o,e,i)}expandSegmentGroup(t,e,i,o){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(et(a=>new Gt([],a))):this.expandSegment(t,i,e,i.segments,o,!0)}expandChildren(t,e,i){const o=[];for(const a of Object.keys(i.children))"primary"===a?o.unshift(a):o.push(a);return In(o).pipe(Eu(a=>{const d=i.children[a],p=JN(e,a);return this.expandSegmentGroup(t,p,d,a).pipe(et(g=>({segment:g,outlet:a})))}),yN((a,d)=>(a[d.outlet]=d.segment,a),{}),bN())}expandSegment(t,e,i,o,a,d){return In(i).pipe(Eu(p=>this.expandSegmentAgainstRoute(t,e,i,p,o,a,d).pipe(Gl(y=>{if(y instanceof kD)return je(null);throw y}))),wu(p=>!!p),Gl((p,g)=>{if(TA(p))return rL(e,o,a)?je(new Gt([],{})):Wb(e);throw p}))}expandSegmentAgainstRoute(t,e,i,o,a,d,p){return iL(o,e,a,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,a,d):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,o,a,d):Wb(e):Wb(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,o,a,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,o,a,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,o){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?sL(a):this.lineralizeSegments(i,a).pipe(Ri(d=>{const p=new Gt(d,{});return this.expandSegment(t,p,e,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,o,a,d){const{matched:p,consumedSegments:g,remainingSegments:y,positionalParamSegments:w}=RA(e,o,a);if(!p)return Wb(e);const D=this.applyRedirectCommands(g,o.redirectTo,w);return o.redirectTo.startsWith("/")?sL(D):this.lineralizeSegments(o,D).pipe(Ri(S=>this.expandSegment(t,e,i,S.concat(y),d,!1)))}matchSegmentAgainstRoute(t,e,i,o,a){return"**"===i.path?(t=QN(i,t),i.loadChildren?(i._loadedRoutes?je({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(et(p=>(i._loadedRoutes=p.routes,i._loadedInjector=p.injector,new Gt(o,{})))):je(new Gt(o,{}))):nL(e,i,o,t).pipe(ro(({matched:d,consumedSegments:p,remainingSegments:g})=>d?this.getChildConfig(t=i._injector??t,i,o).pipe(Ri(w=>{const D=w.injector??t,S=w.routes,{segmentGroup:O,slicedSegments:V}=ED(e,p,g,S),j=new Gt(O.segments,O.children);if(0===V.length&&j.hasChildren())return this.expandChildren(D,S,j).pipe(et(X=>new Gt(p,X)));if(0===S.length&&0===V.length)return je(new Gt(p,{}));const $=ea(i)===a;return this.expandSegment(D,j,S,V,$?$t:a,!0).pipe(et(Y=>new Gt(p.concat(Y.segments),Y.children)))})):Wb(e)))}getChildConfig(t,e,i){return e.children?je({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?je({routes:e._loadedRoutes,injector:e._loadedInjector}):function MU(n,t,e,i){const o=t.canLoad;return void 0===o||0===o.length?je(!0):je(o.map(d=>{const p=Pg(d,n);return Cu(function pU(n){return n&&Gb(n.canLoad)}(p)?p.canLoad(t,e):n.runInContext(()=>p(t,e)))})).pipe(Fg(),tL())}(t,e,i).pipe(Ri(o=>o?this.configLoader.loadChildren(t,e).pipe(zi(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):function PU(n){return Ap(YN(DD,3))}())):je({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return je(i);if(o.numberOfChildren>1||!o.children[$t])return Ap(new re(4e3,DD));o=o.children[$t]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,o){const a=this.createSegmentGroup(t,e.root,i,o);return new Rp(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return zr(t,(o,a)=>{if("string"==typeof o&&o.startsWith(":")){const p=o.substring(1);i[a]=e[p]}else i[a]=o}),i}createSegmentGroup(t,e,i,o){const a=this.createSegments(t,e.segments,i,o);let d={};return zr(e.children,(p,g)=>{d[g]=this.createSegmentGroup(t,p,i,o)}),new Gt(a,d)}createSegments(t,e,i,o){return e.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,o):this.findOrReturn(a,i))}findPosParam(t,e,i){const o=i[e.path.substring(1)];if(!o)throw new re(4001,DD);return o}findOrReturn(t,e){let i=0;for(const o of e){if(o.path===t.path)return e.splice(i),o;i++}return t}}class BU{}class HU{constructor(t,e,i,o,a,d,p){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=o,this.url=a,this.paramsInheritanceStrategy=d,this.urlSerializer=p}recognize(){const t=ED(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,$t).pipe(et(e=>{if(null===e)return null;const i=new yD([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Wl(i,e),a=new WN(this.url,o);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(t){const e=t.value,i=GN(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,o)}processChildren(t,e,i){return In(Object.keys(i.children)).pipe(Eu(o=>{const a=i.children[o],d=JN(e,o);return this.processSegmentGroup(t,d,a,o)}),yN((o,a)=>o&&a?(o.push(...a),o):null),function a6(n,t=!1){return an((e,i)=>{let o=0;e.subscribe(Bn(i,a=>{const d=n(a,o++);(d||t)&&i.next(a),!d&&i.complete()}))})}(o=>null!==o),lD(null),bN(),et(o=>{if(null===o)return null;const a=cL(o);return function zU(n){n.sort((t,e)=>t.value.outlet===$t?-1:e.value.outlet===$t?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}))}processSegment(t,e,i,o,a){return In(e).pipe(Eu(d=>this.processSegmentAgainstRoute(d._injector??t,d,i,o,a)),wu(d=>!!d),Gl(d=>{if(TA(d))return rL(i,o,a)?je([]):je(null);throw d}))}processSegmentAgainstRoute(t,e,i,o,a){if(e.redirectTo||!iL(e,i,o,a))return je(null);let d;if("**"===e.path){const p=o.length>0?CN(o).parameters:{},g=dL(i)+o.length;d=je({snapshot:new yD(o,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uL(e),ea(e),e.component??e._loadedComponent??null,e,lL(i),g,hL(e)),consumedSegments:[],remainingSegments:[]})}else d=nL(i,e,o,t).pipe(et(({matched:p,consumedSegments:g,remainingSegments:y,parameters:w})=>{if(!p)return null;const D=dL(i)+g.length;return{snapshot:new yD(g,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uL(e),ea(e),e.component??e._loadedComponent??null,e,lL(i),D,hL(e)),consumedSegments:g,remainingSegments:y}}));return d.pipe(ro(p=>{if(null===p)return je(null);const{snapshot:g,consumedSegments:y,remainingSegments:w}=p;t=e._injector??t;const D=e._loadedInjector??t,S=function $U(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:O,slicedSegments:V}=ED(i,y,w,S.filter($=>void 0===$.redirectTo));if(0===V.length&&O.hasChildren())return this.processChildren(D,S,O).pipe(et($=>null===$?null:[new Wl(g,$)]));if(0===S.length&&0===V.length)return je([new Wl(g,[])]);const j=ea(e)===a;return this.processSegment(D,S,O,V,j?$t:a).pipe(et($=>null===$?null:[new Wl(g,$)]))}))}}function UU(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function cL(n){const t=[],e=new Set;for(const i of n){if(!UU(i)){t.push(i);continue}const o=t.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==o?(o.children.push(...i.children),e.add(o)):t.push(i)}for(const i of e){const o=cL(i.children);t.push(new Wl(i.value,o))}return t.filter(i=>!e.has(i))}function lL(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function dL(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function uL(n){return n.data||{}}function hL(n){return n.resolve||{}}function pL(n){return"string"==typeof n.title||null===n.title}function IA(n){return ro(t=>{const e=n(t);return e?In(e).pipe(et(()=>t)):je(t)})}const Ng=new ue("ROUTES");let OA=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return je(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Cu(e.loadComponent()).pipe(et(fL),zi(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),dD(()=>{this.componentLoaders.delete(e)})),o=new cD(i,()=>new Ne).pipe(dA());return this.componentLoaders.set(e,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return je({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(et(p=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,y,w=!1;Array.isArray(p)?y=p:(g=p.create(e).injector,y=EN(g.get(Ng,[],ft.Self|ft.Optional)));return{routes:y.map(SA),injector:g}}),dD(()=>{this.childrenLoaders.delete(i)})),d=new cD(a,()=>new Ne).pipe(dA());return this.childrenLoaders.set(i,d),d}loadModuleFactoryOrRoutes(e){return Cu(e()).pipe(et(fL),Ri(o=>o instanceof gp||Array.isArray(o)?je(o):In(this.compiler.compileModuleAsync(o))))}}return n.\u0275fac=function(e){return new(e||n)(ne(gi),ne(W2))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fL(n){return function JU(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let SD=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ne,this.configLoader=St(OA),this.environmentInjector=St(_o),this.urlSerializer=St(Pb),this.rootContexts=St(Hb),this.navigationId=0,this.afterPreactivation=()=>je(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new H6(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new j6(o))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new Hr({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vb,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Kn(i=>0!==i.id),et(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),ro(i=>{let o=!1,a=!1;return je(i).pipe(zi(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ro(d=>{const p=e.browserUrlTree.toString(),g=!e.navigated||d.extractedUrl.toString()!==p||p!==e.currentUrlTree.toString();if(!g&&"reload"!==(d.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const w="";return this.events.next(new VN(d.id,e.serializeUrl(i.rawUrl),w,0)),e.rawUrlTree=d.rawUrl,d.resolve(null),lo}if(e.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return gL(d.source)&&(e.browserUrlTree=d.extractedUrl),je(d).pipe(ro(w=>{const D=this.transitions?.getValue();return this.events.next(new vA(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),D!==this.transitions?.getValue()?lo:Promise.resolve(w)}),function LU(n,t,e,i){return ro(o=>function FU(n,t,e,i,o){return new NU(n,t,e,i,o).apply()}(n,t,e,o.extractedUrl,i).pipe(et(a=>({...o,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),zi(w=>{this.currentNavigation={...this.currentNavigation,finalUrl:w.urlAfterRedirects},i.urlAfterRedirects=w.urlAfterRedirects}),function WU(n,t,e,i,o){return Ri(a=>function jU(n,t,e,i,o,a,d="emptyOnly"){return new HU(n,t,e,i,o,d,a).recognize().pipe(ro(p=>null===p?function VU(n){return new sn(t=>t.error(n))}(new BU):je(p)))}(n,t,e,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,o).pipe(et(d=>({...a,targetSnapshot:d}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),zi(w=>{if(i.targetSnapshot=w.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!w.extras.skipLocationChange){const S=e.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);e.setBrowserUrl(S,w)}e.browserUrlTree=w.urlAfterRedirects}const D=new F6(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(D)}));if(g&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:w,extractedUrl:D,source:S,restoredState:O,extras:V}=d,j=new vA(w,this.urlSerializer.serialize(D),S,O);this.events.next(j);const $=UN(D,this.rootComponentType).snapshot;return je(i={...d,targetSnapshot:$,urlAfterRedirects:D,extras:{...V,skipLocationChange:!1,replaceUrl:!1}})}{const w="";return this.events.next(new VN(d.id,e.serializeUrl(i.extractedUrl),w,1)),e.rawUrlTree=d.rawUrl,d.resolve(null),lo}}),zi(d=>{const p=new N6(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),et(d=>i={...d,guards:cU(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function yU(n,t){return Ri(e=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:a,canDeactivateChecks:d}}=e;return 0===d.length&&0===a.length?je({...e,guardsResult:!0}):function bU(n,t,e,i){return In(n).pipe(Ri(o=>function kU(n,t,e,i,o){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?je(a.map(p=>{const g=zb(t)??o,y=Pg(p,g);return Cu(function gU(n){return n&&Gb(n.canDeactivate)}(y)?y.canDeactivate(n,t,e,i):g.runInContext(()=>y(n,t,e,i))).pipe(wu())})).pipe(Fg()):je(!0)}(o.component,o.route,e,t,i)),wu(o=>!0!==o,!0))}(d,i,o,n).pipe(Ri(p=>p&&function hU(n){return"boolean"==typeof n}(p)?function xU(n,t,e,i){return In(t).pipe(Eu(o=>kg(function EU(n,t){return null!==n&&t&&t(new z6(n)),je(!0)}(o.route.parent,i),function wU(n,t){return null!==n&&t&&t(new U6(n)),je(!0)}(o.route,i),function DU(n,t,e){const i=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(d=>function lU(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>Tg(()=>je(d.guards.map(g=>{const y=zb(d.node)??e,w=Pg(g,y);return Cu(function fU(n){return n&&Gb(n.canActivateChild)}(w)?w.canActivateChild(i,n):y.runInContext(()=>w(i,n))).pipe(wu())})).pipe(Fg())));return je(a).pipe(Fg())}(n,o.path,e),function CU(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return je(!0);const o=i.map(a=>Tg(()=>{const d=zb(t)??e,p=Pg(a,d);return Cu(function mU(n){return n&&Gb(n.canActivate)}(p)?p.canActivate(t,n):d.runInContext(()=>p(t,n))).pipe(wu())}));return je(o).pipe(Fg())}(n,o.route,e))),wu(o=>!0!==o,!0))}(i,a,n,t):je(p)),et(p=>({...e,guardsResult:p})))})}(this.environmentInjector,d=>this.events.next(d)),zi(d=>{if(i.guardsResult=d.guardsResult,Op(d.guardsResult))throw KN(0,d.guardsResult);const p=new L6(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(p)}),Kn(d=>!!d.guardsResult||(e.restoreHistory(d),this.cancelNavigationTransition(d,"",3,e),!1)),IA(d=>{if(d.guards.canActivateChecks.length)return je(d).pipe(zi(p=>{const g=new B6(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}),ro(p=>{let g=!1;return je(p).pipe(function qU(n,t){return Ri(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return je(e);let a=0;return In(o).pipe(Eu(d=>function KU(n,t,e,i){const o=n.routeConfig,a=n._resolve;return void 0!==o?.title&&!pL(o)&&(a[Ib]=o.title),function YU(n,t,e,i){const o=function XU(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return je({});const a={};return In(o).pipe(Ri(d=>function ZU(n,t,e,i){const o=zb(t)??i,a=Pg(n,o);return Cu(a.resolve?a.resolve(t,e):o.runInContext(()=>a(t,e)))}(n[d],t,e,i).pipe(wu(),zi(p=>{a[d]=p}))),uA(1),xN(a),Gl(d=>TA(d)?lo:Ap(d)))}(a,n,t,i).pipe(et(d=>(n._resolvedData=d,n.data=GN(n,e).resolve,o&&pL(o)&&(n.data[Ib]=o.title),null)))}(d.route,i,n,t)),zi(()=>a++),uA(1),Ri(d=>a===o.length?je(e):lo))})}(e.paramsInheritanceStrategy,this.environmentInjector),zi({next:()=>g=!0,complete:()=>{g||(e.restoreHistory(p),this.cancelNavigationTransition(p,"",2,e))}}))}),zi(p=>{const g=new V6(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}))}),IA(d=>{const p=g=>{const y=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(g.routeConfig).pipe(zi(w=>{g.component=w}),et(()=>{})));for(const w of g.children)y.push(...p(w));return y};return iA(p(d.targetSnapshot.root)).pipe(lD(),jn(1))}),IA(()=>this.afterPreactivation()),et(d=>{const p=function Z6(n,t,e){const i=jb(n,t._root,e?e._root:void 0);return new $N(i,t)}(e.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return i={...d,targetRouterState:p}}),zi(d=>{e.currentUrlTree=d.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),e.routerState=d.targetRouterState,"deferred"===e.urlUpdateStrategy&&(d.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,d),e.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>et(i=>(new aU(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,d=>this.events.next(d)),zi({next:d=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Pp(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{o=!0}}),dD(()=>{o||a||this.cancelNavigationTransition(i,"",1,e),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Gl(d=>{if(a=!0,ZN(d)){XN(d)||(e.navigated=!0,e.restoreHistory(i,!0));const p=new vD(i.id,this.urlSerializer.serialize(i.extractedUrl),d.message,d.cancellationCode);if(this.events.next(p),XN(d)){const g=e.urlHandlingStrategy.merge(d.url,e.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||gL(i.source)};e.scheduleNavigation(g,Vb,null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const p=new jN(i.id,this.urlSerializer.serialize(i.extractedUrl),d,i.targetSnapshot??void 0);this.events.next(p);try{i.resolve(e.errorHandler(d))}catch(g){i.reject(g)}}return lo}))}))}cancelNavigationTransition(e,i,o,a){const d=new vD(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(d),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gL(n){return n!==Vb}let _L=(()=>{class n{buildTitle(e){let i,o=e.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(a=>a.outlet===$t);return i}getResolvedTitleForRoute(e){return e.data[Ib]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:function(){return St(e9)},providedIn:"root"}),n})(),e9=(()=>{class n extends _L{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(ne(uP))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),t9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:function(){return St(i9)},providedIn:"root"}),n})();class n9{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let i9=(()=>{class n extends n9{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ft(n)))(i||n)}}(),n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TD=new ue("",{providedIn:"root",factory:()=>({})});let o9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:function(){return St(s9)},providedIn:"root"}),n})(),s9=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function a9(n){throw n}function c9(n,t,e){return t.parse("/")}const l9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},d9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Do=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=St(_j),this.isNgZoneEnabled=!1,this.options=St(TD,{optional:!0})||{},this.errorHandler=this.options.errorHandler||a9,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||c9,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=St(o9),this.routeReuseStrategy=St(t9),this.urlCreationStrategy=St(K6),this.titleStrategy=St(_L),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=EN(St(Ng,{optional:!0})??[]),this.navigationTransitions=St(SD),this.urlSerializer=St(Pb),this.location=St(hb),this.isNgZoneEnabled=St(Ze)instanceof Ze&&Ze.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Rp,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=UN(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Vb,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,o){const a={replaceUrl:!0},d=o?.navigationId?o:null;if(o){const g={...o};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(a.state=g)}const p=this.parseUrl(e);this.scheduleNavigation(p,i,d,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(SA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:o,queryParams:a,fragment:d,queryParamsHandling:p,preserveFragment:g}=i,y=g?this.currentUrlTree.fragment:d;let w=null;switch(p){case"merge":w={...this.currentUrlTree.queryParams,...a};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=a||null}return null!==w&&(w=this.removeEmptyProps(w)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,e,w,y??null)}navigateByUrl(e,i={skipLocationChange:!1}){const o=Op(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,Vb,null,i)}navigate(e,i={skipLocationChange:!1}){return function u9(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new re(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return i}isActive(e,i){let o;if(o=!0===i?{...l9}:!1===i?{...d9}:i,Op(e))return kN(this.currentUrlTree,e,o);const a=this.parseUrl(e);return kN(this.currentUrlTree,a,o)}removeEmptyProps(e){return Object.keys(e).reduce((i,o)=>{const a=e[o];return null!=a&&(i[o]=a),i},{})}scheduleNavigation(e,i,o,a,d){if(this.disposed)return Promise.resolve(!1);let p,g,y,w;return d?(p=d.resolve,g=d.reject,y=d.promise):y=new Promise((D,S)=>{p=D,g=S}),w="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:w,source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:a,resolve:p,reject:g,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(D=>Promise.reject(D))}setBrowserUrl(e,i){const o=this.urlSerializer.serialize(e),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl?this.location.replaceState(o,"",a):this.location.go(o,"",a)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===o?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qb=(()=>{class n{constructor(e,i,o,a,d,p){this.router=e,this.route=i,this.tabIndexAttribute=o,this.renderer=a,this.el=d,this.locationStrategy=p,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ne;const g=d.nativeElement.tagName;this.isAnchorElement="A"===g||"AREA"===g,this.isAnchorElement?this.subscription=e.events.subscribe(y=>{y instanceof Pp&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=xg(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=xg(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=xg(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,o,a,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||o||a||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function Pv(n,t,e){return function fM(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?Iv:df}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const o=this.renderer,a=this.el.nativeElement;null!==i?o.setAttribute(a,e,i):o.removeAttribute(a,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(B(Do),B(Fp),Ts("tabindex"),B(xa),B(qe),B(mu))},n.\u0275dir=se({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&ct("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&e&&Jt("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[or]}),n})();class yL{}let m9=(()=>{class n{constructor(e,i,o,a,d){this.router=e,this.injector=o,this.preloadingStrategy=a,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Kn(e=>e instanceof Pp),Eu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const o=[];for(const a of i){a.providers&&!a._injector&&(a._injector=uu(a.providers,e,`Route: ${a.path}`));const d=a._injector??e,p=a._loadedInjector??d;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?o.push(this.preloadConfig(d,a)):(a.children||a._loadedRoutes)&&o.push(this.processRoutes(p,a.children??a._loadedRoutes))}return In(o).pipe(sd())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):je(null);const a=o.pipe(Ri(d=>null===d?je(void 0):(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));return i.loadComponent&&!i._loadedComponent?In([a,this.loader.loadComponent(i)]).pipe(sd()):a})}}return n.\u0275fac=function(e){return new(e||n)(ne(Do),ne(W2),ne(_o),ne(yL),ne(OA))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PA=new ue("");let bL=(()=>{class n{constructor(e,i,o,a,d={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=o,this.zone=a,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof vA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Pp&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof HN&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new HN(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){hc()},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();function Np(n,t){return{\u0275kind:n,\u0275providers:t}}function wL(){const n=St(gi);return t=>{const e=n.get(yp);if(t!==e.components[0])return;const i=n.get(Do),o=n.get(EL);1===n.get(NA)&&i.initialNavigation(),n.get(CL,null,ft.Optional)?.setUpPreloading(),n.get(PA,null,ft.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const EL=new ue("",{factory:()=>new Ne}),NA=new ue("",{providedIn:"root",factory:()=>1});const CL=new ue("");function y9(n){return Np(0,[{provide:CL,useExisting:m9},{provide:yL,useExisting:n}])}const DL=new ue("ROUTER_FORROOT_GUARD"),b9=[hb,{provide:Pb,useClass:hA},Do,Hb,{provide:Fp,useFactory:function xL(n){return n.routerState.root},deps:[Do]},OA,[]];function x9(){return new J2("Router",Do)}let kL=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[b9,[],{provide:Ng,multi:!0,useValue:e},{provide:DL,useFactory:D9,deps:[[Do,new Rs,new _a]]},{provide:TD,useValue:i||{}},i?.useHash?{provide:mu,useClass:EO}:{provide:mu,useClass:wO},{provide:PA,useFactory:()=>{const n=St(D4),t=St(Ze),e=St(TD),i=St(SD),o=St(Pb);return e.scrollOffset&&n.setOffset(e.scrollOffset),new bL(o,i,n,t,e)}},i?.preloadingStrategy?y9(i.preloadingStrategy).\u0275providers:[],{provide:J2,multi:!0,useFactory:x9},i?.initialNavigation?k9(i):[],[{provide:ML,useFactory:wL},{provide:G2,multi:!0,useExisting:ML}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Ng,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(ne(DL,8))},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[kA]}),n})();function D9(n){return"guarded"}function k9(n){return["disabled"===n.initialNavigation?Np(3,[{provide:lb,multi:!0,useFactory:()=>{const t=St(Do);return()=>{t.setUpLocationChangeListener()}}},{provide:NA,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Np(2,[{provide:NA,useValue:0},{provide:lb,multi:!0,deps:[gi],useFactory:t=>{const e=t.get(r5,Promise.resolve());return()=>e.then(()=>new Promise(o=>{const a=t.get(Do),d=t.get(EL);(function i(o){t.get(Do).events.pipe(Kn(d=>d instanceof Pp||d instanceof vD||d instanceof jN),et(d=>d instanceof Pp||d instanceof vD&&(0===d.code||1===d.code)&&null),Kn(d=>null!==d),jn(1)).subscribe(()=>{o()})})(()=>{o(!0)}),t.get(SD).afterPreactivation=()=>(o(!0),d.closed?je(void 0):d),a.initialNavigation()}))}}]).\u0275providers:[]]}const ML=new ue("");function SL(n,t,e,i,o,a,d){try{var p=n[a](d),g=p.value}catch(y){return void e(y)}p.done?t(g):Promise.resolve(g).then(i,o)}function Rn(n){return function(){var t=this,e=arguments;return new Promise(function(i,o){var a=n.apply(t,e);function d(g){SL(a,i,o,d,p,"next",g)}function p(g){SL(a,i,o,d,p,"throw",g)}d(void 0)})}}var $r=(()=>{return(n=$r||($r={}))[n.folder=0]="folder",n[n.diagram=1]="diagram",$r;var n})();function Yb(n,t=$r.folder,e){const i=(new Date).getTime();return{name:n,parentId:e,type:t,createDate:i,updateDate:i}}const S9=["addListener","removeListener"],T9=["addEventListener","removeEventListener"],A9=["on","off"];function Bg(n,t,e,i){if(Dt(e)&&(i=e,e=void 0),i)return Bg(n,t,e).pipe(FT(i));const[o,a]=function O9(n){return Dt(n.addEventListener)&&Dt(n.removeEventListener)}(n)?T9.map(d=>p=>n[d](t,p,e)):function R9(n){return Dt(n.addListener)&&Dt(n.removeListener)}(n)?S9.map(TL(n,t)):function I9(n){return Dt(n.on)&&Dt(n.off)}(n)?A9.map(TL(n,t)):[];if(!o&&nm(n))return Ri(d=>Bg(d,t,e))(fr(n));if(!o)throw new TypeError("Invalid event target");return new sn(d=>{const p=(...g)=>d.next(1<g.length?g:g[0]);return o(p),()=>a(p)})}function TL(n,t){return e=>i=>n[e](t,i)}const Xb={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Xb;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const o=t(a=>{e=void 0,n(a)});return new qt(()=>e?.(o))},requestAnimationFrame(...n){const{delegate:t}=Xb;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Xb;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},N9=new class F9 extends oA{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;t=t||i.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw o}}}(class P9 extends rA{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Xb.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:a}=t;null!=e&&(null===(o=a[a.length-1])||void 0===o?void 0:o.id)!==e&&(Xb.cancelAnimationFrame(e),t._scheduled=void 0)}});let LA,L9=1;const AD={};function AL(n){return n in AD&&(delete AD[n],!0)}const B9={setImmediate(n){const t=L9++;return AD[t]=!0,LA||(LA=Promise.resolve()),LA.then(()=>AL(t)&&n()),t},clearImmediate(n){AL(n)}},{setImmediate:V9,clearImmediate:j9}=B9,RD={setImmediate(...n){const{delegate:t}=RD;return(t?.setImmediate||V9)(...n)},clearImmediate(n){const{delegate:t}=RD;return(t?.clearImmediate||j9)(n)},delegate:void 0},BA=new class z9 extends oA{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;t=t||i.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw o}}}(class H9 extends rA{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=RD.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:a}=t;null!=e&&(null===(o=a[a.length-1])||void 0===o?void 0:o.id)!==e&&(RD.clearImmediate(e),t._scheduled=void 0)}});function RL(n=0,t,e=W$){let i=-1;return null!=t&&(g_(t)?e=t:i=t),new sn(o=>{let a=function U9(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;a<0&&(a=0);let d=0;return e.schedule(function(){o.closed||(o.next(d++),0<=i?this.schedule(void 0,i):o.complete())},a)})}function VA(n,t=rD){return function $9(n){return an((t,e)=>{let i=!1,o=null,a=null,d=!1;const p=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const y=o;o=null,e.next(y)}d&&e.complete()},g=()=>{a=null,d&&e.complete()};t.subscribe(Bn(e,y=>{i=!0,o=y,a||fr(n(y)).subscribe(a=Bn(e,p,g))},()=>{d=!0,(!i||!a||a.closed)&&e.complete()}))})}(()=>RL(n,t))}const G9=new ue("cdk-dir-doc",{providedIn:"root",factory:function W9(){return St(Ot)}}),q9=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ua=(()=>{class n{constructor(e){this.value="ltr",this.change=new rn,e&&(this.value=function K9(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?q9.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(ne(G9,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({}),n})();const Y9=["contentWrapper"],X9=["*"],Z9=new ue("VIRTUAL_SCROLL_STRATEGY");let Qb=(()=>{class n{constructor(e,i,o){this._ngZone=e,this._platform=i,this._scrolled=new Ne,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new sn(i=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(VA(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):je()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const o=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Kn(a=>!a||o.indexOf(a)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((o,a)=>{this._scrollableContainsElement(a,e)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let o=Ul(i),a=e.getElementRef().nativeElement;do{if(o==a)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Bg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(ne(Ze),ne(ci),ne(Ot,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IL=(()=>{class n{constructor(e,i,o,a){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=o,this.dir=a,this._destroyed=new Ne,this._elementScrolled=new sn(d=>this.ngZone.runOutsideAngular(()=>Bg(this.elementRef.nativeElement,"scroll").pipe(Mn(this._destroyed)).subscribe(d)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,o=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=o?e.end:e.start),null==e.right&&(e.right=o?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),o&&0!=Rb()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Rb()?e.left=e.right:1==Rb()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;fN()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",o="right",a=this.elementRef.nativeElement;if("top"==e)return a.scrollTop;if("bottom"==e)return a.scrollHeight-a.clientHeight-a.scrollTop;const d=this.dir&&"rtl"==this.dir.value;return"start"==e?e=d?o:i:"end"==e&&(e=d?i:o),d&&2==Rb()?e==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:d&&1==Rb()?e==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:e==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(Qb),B(Ze),B(Ua,8))},n.\u0275dir=se({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),ID=(()=>{class n{constructor(e,i,o){this._platform=e,this._change=new Ne,this._changeListener=a=>{this._change.next(a)},this._document=o,i.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),o=e.documentElement,a=o.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||i.scrollY||o.scrollTop||0,left:-a.left||e.body.scrollLeft||i.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(VA(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(ne(ci),ne(Ze),ne(Ot,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OL=new ue("VIRTUAL_SCROLLABLE");let e7=(()=>{class n extends IL{constructor(e,i,o,a){super(e,i,o,a)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(Qb),B(Ze),B(Ua,8))},n.\u0275dir=se({type:n,features:[De]}),n})();const n7=typeof requestAnimationFrame<"u"?N9:BA;let i7=(()=>{class n extends e7{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=gn(e)}constructor(e,i,o,a,d,p,g,y){super(e,p,o,d),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=a,this.scrollable=y,this._platform=St(ci),this._detachedSubject=new Ne,this._renderedRangeSubject=new Ne,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new sn(w=>this._scrollStrategy.scrolledIndexChange.subscribe(D=>Promise.resolve().then(()=>this.ngZone.run(()=>w.next(D))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=qt.EMPTY,this._viewportChanges=g.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(bu(null),VA(0,n7)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Mn(this._detachedSubject)).subscribe(i=>{const o=i.length;o!==this._dataLength&&(this._dataLength=o,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function t7(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const a="horizontal"==this.orientation,d=a?"X":"Y";let g=`translate${d}(${Number((a&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(g+=` translate${d}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=g&&(this._renderedContentTransform=g,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const o={behavior:i};"horizontal"===this.orientation?o.start=e:o.top=e,this.scrollable.scrollTo(o)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?o=>super.measureScrollOffset(o):o=>this.scrollable.measureScrollOffset(o),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const o="left",a="right",d="rtl"==this.dir?.value;i="start"==e?d?a:o:"end"==e?d?o:a:e||("horizontal"===this.orientation?"left":"top");const p=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-p}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(io),B(Ze),B(Z9,8),B(Ua,8),B(Qb),B(ID),B(OL,8))},n.\u0275cmp=kt({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&Nn(Y9,7),2&e){let o;dt(o=ut())&&(i._contentWrapper=o.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&lt("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Je([{provide:IL,useFactory:(t,e)=>t||e,deps:[[new Rs,new ic(OL)],n]}]),De,qs],ngContentSelectors:X9,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(si(),he(0,"div",0,1),bt(2),fe(),Qe(3,"div",2)),2&e&&(xe(3),$o("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Vg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({}),n})(),jA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[Zb,Vg,i7,Zb,Vg]}),n})();class HA{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class OD extends HA{constructor(t,e,i,o,a){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=o,this.projectableNodes=a}}class zA extends HA{constructor(t,e,i,o){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=o}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class r7 extends HA{constructor(t){super(),this.element=t instanceof qe?t.nativeElement:t}}class $A{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof OD?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof zA?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof r7?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class o7 extends $A{constructor(t,e,i,o,a){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=o,this.attachDomPortal=d=>{const p=d.element,g=this._document.createComment("dom-portal");p.parentNode.insertBefore(g,p),this.outletElement.appendChild(p),this._attachedPortal=d,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(p,g)})},this._document=a}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let o;return t.viewContainerRef?(o=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>o.destroy())):(o=i.create(t.injector||this._defaultInjector||gi.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=t,o}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(o=>this.outletElement.appendChild(o)),i.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(i);-1!==o&&e.remove(o)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let UA=(()=>{class n extends $A{constructor(e,i,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new rn,this.attachDomPortal=a=>{const d=a.element,p=this._document.createComment("dom-portal");a.setAttachedHost(this),d.parentNode.insertBefore(p,d),this._getRootNode().appendChild(d),this._attachedPortal=a,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,a=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=i.createComponent(a,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(B(dc),B(ji),B(Ot))},n.\u0275dir=se({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[De]}),n})(),PD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({}),n})();const PL=fN();class s7{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=er(-this._previousScrollPosition.left),t.style.top=er(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,o=this._document.body.style,a=i.scrollBehavior||"",d=o.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),PL&&(i.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),PL&&(i.scrollBehavior=a,o.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class a7{constructor(t,e,i,o){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class FL{enable(){}disable(){}attach(){}}function GA(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function NL(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class c7{constructor(t,e,i,o){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=o,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:o}=this._viewportRuler.getViewportSize();GA(e,[{width:i,height:o,bottom:o,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let l7=(()=>{class n{constructor(e,i,o,a){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=o,this.noop=()=>new FL,this.close=d=>new a7(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new s7(this._viewportRuler,this._document),this.reposition=d=>new c7(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=a}}return n.\u0275fac=function(e){return new(e||n)(ne(Qb),ne(ID),ne(Ze),ne(Ot))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class WA{constructor(t){if(this.scrollStrategy=new FL,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class d7{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let LL=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(ne(Ot))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u7=(()=>{class n extends LL{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=o=>{const a=this._attachedOverlays;for(let d=a.length-1;d>-1;d--)if(a[d]._keydownEvents.observers.length>0){const p=a[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(ne(Ot),ne(Ze,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h7=(()=>{class n extends LL{constructor(e,i,o){super(e),this._platform=i,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=xu(a)},this._clickListener=a=>{const d=xu(a),p="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let y=g.length-1;y>-1;y--){const w=g[y];if(w._outsidePointerEvents.observers.length<1||!w.hasAttached())continue;if(w.overlayElement.contains(d)||w.overlayElement.contains(p))break;const D=w._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(a)):D.next(a)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(ne(Ot),ne(ci),ne(Ze,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FD=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||lA()){const o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<o.length;a++)o[a].remove()}const i=this._document.createElement("div");i.classList.add(e),lA()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(ne(Ot),ne(ci))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Jb{constructor(t,e,i,o,a,d,p,g,y,w=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=o,this._ngZone=a,this._keyboardDispatcher=d,this._document=p,this._location=g,this._outsideClickDispatcher=y,this._animationsDisabled=w,this._backdropElement=null,this._backdropClick=new Ne,this._attachments=new Ne,this._detachments=new Ne,this._locationChanges=qt.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new Ne,this._outsidePointerEvents=new Ne,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(jn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=er(this._config.width),t.height=er(this._config.height),t.minWidth=er(this._config.minWidth),t.minHeight=er(this._config.minHeight),t.maxWidth=er(this._config.maxWidth),t.maxHeight=er(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const o=nD(e||[]).filter(a=>!!a);o.length&&(i?t.classList.add(...o):t.classList.remove(...o))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Mn(Oo(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const BL="cdk-overlay-connected-position-bounding-box",p7=/([A-Za-z%]+)$/;class m7{get positions(){return this._preferredPositions}constructor(t,e,i,o,a){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ne,this._resizeSubscription=qt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(BL),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,o=this._containerRect,a=[];let d;for(let p of this._preferredPositions){let g=this._getOriginPoint(t,o,p),y=this._getOverlayPoint(g,e,p),w=this._getOverlayFit(y,e,i,p);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(p,g);this._canFitWithFlexibleDimensions(w,y,i)?a.push({position:p,origin:g,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(g,p)}):(!d||d.overlayFit.visibleArea<w.visibleArea)&&(d={overlayFit:w,overlayPoint:y,originPoint:g,position:p,overlayRect:e})}if(a.length){let p=null,g=-1;for(const y of a){const w=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);w>g&&(g=w,p=y)}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Lp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(BL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let o,a;if("center"==i.originX)o=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,p=this._isRtl()?t.left:t.right;o="start"==i.originX?d:p}return e.left<0&&(o-=e.left),a="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(a-=e.top),{x:o,y:a}}_getOverlayPoint(t,e,i){let o,a;return o="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,a="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+o,y:t.y+a}}_getOverlayFit(t,e,i,o){const a=jL(e);let{x:d,y:p}=t,g=this._getOffset(o,"x"),y=this._getOffset(o,"y");g&&(d+=g),y&&(p+=y);let S=0-p,O=p+a.height-i.height,V=this._subtractOverflows(a.width,0-d,d+a.width-i.width),j=this._subtractOverflows(a.height,S,O),$=V*j;return{visibleArea:$,isCompletelyWithinViewport:a.width*a.height===$,fitsInViewportVertically:j===a.height,fitsInViewportHorizontally:V==a.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const o=i.bottom-e.y,a=i.right-e.x,d=VL(this._overlayRef.getConfig().minHeight),p=VL(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=d&&d<=o)&&(t.fitsInViewportHorizontally||null!=p&&p<=a)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const o=jL(e),a=this._viewportRect,d=Math.max(t.x+o.width-a.width,0),p=Math.max(t.y+o.height-a.height,0),g=Math.max(a.top-i.top-t.y,0),y=Math.max(a.left-i.left-t.x,0);let w=0,D=0;return w=o.width<=a.width?y||-d:t.x<this._viewportMargin?a.left-i.left-t.x:0,D=o.height<=a.height?g||-p:t.y<this._viewportMargin?a.top-i.top-t.y:0,this._previousPushAmount={x:w,y:D},{x:t.x+w,y:t.y+D}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),o=new d7(t,i);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,o=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${i} ${o}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,o=this._isRtl();let a,d,p,w,D,S;if("top"===e.overlayY)d=t.y,a=i.height-d+this._viewportMargin;else if("bottom"===e.overlayY)p=i.height-t.y+2*this._viewportMargin,a=i.height-p+this._viewportMargin;else{const O=Math.min(i.bottom-t.y+i.top,t.y),V=this._lastBoundingBoxSize.height;a=2*O,d=t.y-O,a>V&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-V/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)S=i.width-t.x+this._viewportMargin,w=t.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)D=t.x,w=i.right-t.x;else{const O=Math.min(i.right-t.x+i.left,t.x),V=this._lastBoundingBoxSize.width;w=2*O,D=t.x-O,w>V&&!this._isInitialRender&&!this._growAfterOpen&&(D=t.x-V/2)}return{top:d,left:D,bottom:p,right:S,width:w,height:a}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;o.height=er(i.height),o.top=er(i.top),o.bottom=er(i.bottom),o.width=er(i.width),o.left=er(i.left),o.right=er(i.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",a&&(o.maxHeight=er(a)),d&&(o.maxWidth=er(d))}this._lastBoundingBoxSize=i,Lp(this._boundingBox.style,o)}_resetBoundingBoxStyles(){Lp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Lp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},o=this._hasExactPosition(),a=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(o){const w=this._viewportRuler.getViewportScrollPosition();Lp(i,this._getExactOverlayY(e,t,w)),Lp(i,this._getExactOverlayX(e,t,w))}else i.position="static";let p="",g=this._getOffset(e,"x"),y=this._getOffset(e,"y");g&&(p+=`translateX(${g}px) `),y&&(p+=`translateY(${y}px)`),i.transform=p.trim(),d.maxHeight&&(o?i.maxHeight=er(d.maxHeight):a&&(i.maxHeight="")),d.maxWidth&&(o?i.maxWidth=er(d.maxWidth):a&&(i.maxWidth="")),Lp(this._pane.style,i)}_getExactOverlayY(t,e,i){let o={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===t.overlayY?o.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":o.top=er(a.y),o}_getExactOverlayX(t,e,i){let d,o={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?o.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":o.left=er(a.x),o}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:NL(t,i),isOriginOutsideView:GA(t,i),isOverlayClipped:NL(e,i),isOverlayOutsideView:GA(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,o)=>i-Math.max(o,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&nD(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof qe)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Lp(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function VL(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(p7);return e&&"px"!==e?null:parseFloat(t)}return n||null}function jL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const HL="cdk-global-overlay-wrapper";class f7{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(HL),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:o,height:a,maxWidth:d,maxHeight:p}=i,g=!("100%"!==o&&"100vw"!==o||d&&"100%"!==d&&"100vw"!==d),y=!("100%"!==a&&"100vh"!==a||p&&"100%"!==p&&"100vh"!==p),w=this._xPosition,D=this._xOffset,S="rtl"===this._overlayRef.getConfig().direction;let O="",V="",j="";g?j="flex-start":"center"===w?(j="center",S?V=D:O=D):S?"left"===w||"end"===w?(j="flex-end",O=D):("right"===w||"start"===w)&&(j="flex-start",V=D):"left"===w||"start"===w?(j="flex-start",O=D):("right"===w||"end"===w)&&(j="flex-end",V=D),t.position=this._cssPosition,t.marginLeft=g?"0":O,t.marginTop=y?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=g?"0":V,e.justifyContent=j,e.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(HL),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let g7=(()=>{class n{constructor(e,i,o,a){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=a}global(){return new f7}flexibleConnectedTo(e){return new m7(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(ne(ID),ne(Ot),ne(ci),ne(FD))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_7=0,Ac=(()=>{class n{constructor(e,i,o,a,d,p,g,y,w,D,S,O){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=a,this._keyboardDispatcher=d,this._injector=p,this._ngZone=g,this._document=y,this._directionality=w,this._location=D,this._outsideClickDispatcher=S,this._animationsModuleType=O}create(e){const i=this._createHostElement(),o=this._createPaneElement(i),a=this._createPortalOutlet(o),d=new WA(e);return d.direction=d.direction||this._directionality.value,new Jb(a,i,o,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+_7++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(yp)),new o7(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(ne(l7),ne(FD),ne(dc),ne(g7),ne(u7),ne(gi),ne(Ze),ne(Ot),ne(Ua),ne(hb),ne(h7),ne(Eo,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const b7={provide:new ue("cdk-connected-overlay-scroll-strategy"),deps:[Ac],useFactory:function y7(n){return()=>n.scrollStrategies.reposition()}};let ND=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({providers:[Ac,b7],imports:[Zb,PD,jA,jA]}),n})();function jg(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function F7(n,t){return n===t}let qL=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N7=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Ul(e);return new sn(o=>{const d=this._observeElement(i).subscribe(o);return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Ne,o=this._mutationObserverFactory.create(a=>i.next(a));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:o}=this._observedElements.get(e);i&&i.disconnect(),o.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(ne(qL))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KL=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=gn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Mc(e),this._subscribe()}constructor(e,i,o){this._contentObserver=e,this._elementRef=i,this._ngZone=o,this.event=new rn,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(sA(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(B(N7),B(qe),B(Ze))},n.\u0275dir=se({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),YA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({providers:[qL]}),n})();function BD(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const XL="cdk-describedby-message",VD="cdk-describedby-host";let XA=0,V7=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+XA++,this._document=e,this._id=St(bg)+"-"+XA++}describe(e,i,o){if(!this._canBeDescribed(e,i))return;const a=ZA(i,o);"string"!=typeof i?(ZL(i,this._id),this._messageRegistry.set(a,{messageElement:i,referenceCount:0})):this._messageRegistry.has(a)||this._createMessageElement(i,o),this._isElementDescribedByMessage(e,a)||this._addMessageReference(e,a)}removeDescription(e,i,o){if(!i||!this._isElementNode(e))return;const a=ZA(i,o);if(this._isElementDescribedByMessage(e,a)&&this._removeMessageReference(e,a),"string"==typeof i){const d=this._messageRegistry.get(a);d&&0===d.referenceCount&&this._deleteMessageElement(a)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${VD}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(VD);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const o=this._document.createElement("div");ZL(o,this._id),o.textContent=e,i&&o.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(o),this._messageRegistry.set(ZA(e,i),{messageElement:o,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let a=0;a<i.length;a++)i[a].remove();const o=this._document.createElement("div");o.style.visibility="hidden",o.classList.add(e),o.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&o.setAttribute("platform","server"),this._document.body.appendChild(o),this._messagesContainer=o}_removeCdkDescribedByReferenceIds(e){const i=BD(e,"aria-describedby").filter(o=>0!=o.indexOf(XL));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const o=this._messageRegistry.get(i);(function L7(n,t,e){const i=BD(n,t);i.some(o=>o.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",o.messageElement.id),e.setAttribute(VD,this._id),o.referenceCount++}_removeMessageReference(e,i){const o=this._messageRegistry.get(i);o.referenceCount--,function B7(n,t,e){const o=BD(n,t).filter(a=>a!=e.trim());o.length?n.setAttribute(t,o.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",o.messageElement.id),e.removeAttribute(VD)}_isElementDescribedByMessage(e,i){const o=BD(e,"aria-describedby"),a=this._messageRegistry.get(i),d=a&&a.messageElement.id;return!!d&&-1!=o.indexOf(d)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const o=null==i?"":`${i}`.trim(),a=e.getAttribute("aria-label");return!(!o||a&&a.trim()===o)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(ne(Ot),ne(ci))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZA(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function ZL(n,t){n.id||(n.id=`${XL}-${t}-${XA++}`)}class j7{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ne,this._typeaheadSubscription=qt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Ne,this.change=new Ne,t instanceof gg&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const o=e.toArray().indexOf(this._activeItem);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(zi(e=>this._pressedLetters.push(e)),sA(t),Kn(()=>this._pressedLetters.length>0),et(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let o=1;o<i.length+1;o++){const a=(this._activeItemIndex+o)%i.length,d=i[a];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!t[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&o){const a=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(a>0?a:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&o){const a=this._activeItemIndex+this._pageUpAndDown.delta,d=this._getItemsArray().length;this._setActiveItemByIndex(a<d?a:d-1,-1);break}return;default:return void((o||jg(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const o=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof gg?this._items.toArray():this._items}}class QL extends j7{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let jD=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function z7(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function H7(n){try{return n.frameElement}catch{return null}}(function X7(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===eB(i)||!this.isVisible(i)))return!1;let o=e.nodeName.toLowerCase(),a=eB(e);return e.hasAttribute("contenteditable")?-1!==a:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function K7(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===o?!!e.hasAttribute("controls")&&-1!==a:"video"===o?-1!==a&&(null!==a||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Y7(n){return!function U7(n){return function W7(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function $7(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function G7(n){return function q7(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||JL(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(ne(ci))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JL(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function eB(n){if(!JL(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Z7{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,o,a=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const o=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(o)return o}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const o=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(o)return o}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(jn(1)).subscribe(t)}}let QA=(()=>{class n{constructor(e,i,o){this._checker=e,this._ngZone=i,this._document=o}create(e,i=!1){return new Z7(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(ne(jD),ne(Ze),ne(Ot))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JA(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function eR(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Q7=new ue("cdk-input-modality-detector-options"),J7={ignoreKeys:[18,17,224,91,16]},Hg=Mp({passive:!0,capture:!0});let eG=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,o,a){this._platform=e,this._mostRecentTarget=null,this._modality=new Hr(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(p=>p===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=xu(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(JA(d)?"keyboard":"mouse"),this._mostRecentTarget=xu(d))},this._onTouchstart=d=>{eR(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=xu(d))},this._options={...J7,...a},this.modalityDetected=this._modality.pipe(uN(1)),this.modalityChanged=this.modalityDetected.pipe(function P7(n,t=Ka){return n=n??F7,an((e,i)=>{let o,a=!0;e.subscribe(Bn(i,d=>{const p=t(d);(a||!n(o,p))&&(a=!1,o=p,i.next(d))}))})}()),e.isBrowser&&i.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Hg),o.addEventListener("mousedown",this._onMousedown,Hg),o.addEventListener("touchstart",this._onTouchstart,Hg)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Hg),document.removeEventListener("mousedown",this._onMousedown,Hg),document.removeEventListener("touchstart",this._onTouchstart,Hg))}}return n.\u0275fac=function(e){return new(e||n)(ne(ci),ne(Ze),ne(Ot),ne(Q7,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nG=new ue("cdk-focus-monitor-default-options"),HD=Mp({passive:!0,capture:!0});let Bp=(()=>{class n{constructor(e,i,o,a,d){this._ngZone=e,this._platform=i,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ne,this._rootNodeFocusAndBlurListener=p=>{for(let y=xu(p);y;y=y.parentElement)"focus"===p.type?this._onFocus(p,y):this._onBlur(p,y)},this._document=a,this._detectionMode=d?.detectionMode||0}monitor(e,i=!1){const o=Ul(e);if(!this._platform.isBrowser||1!==o.nodeType)return je(null);const a=function Y$(n){if(function K$(){if(null==cA){const n=typeof document<"u"?document.head:null;cA=!(!n||!n.createShadowRoot&&!n.attachShadow)}return cA}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(o)||this._getDocument(),d=this._elementInfo.get(o);if(d)return i&&(d.checkChildren=!0),d.subject;const p={checkChildren:i,subject:new Ne,rootNode:a};return this._elementInfo.set(o,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(e){const i=Ul(e),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(e,i,o){const a=Ul(e);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([p,g])=>this._originChanged(p,i,g)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const o=this._elementInfo.get(i),a=xu(e);!o||!o.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),o)}_onBlur(e,i){const o=this._elementInfo.get(i);!o||o.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(o,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,HD),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,HD)}),this._rootNodeFocusListenerCount.set(i,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Mn(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,HD),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,HD),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,o){this._setClasses(e,i),this._emitOrigin(o,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((o,a)=>{(a===e||o.checkChildren&&a.contains(e))&&i.push([a,o])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:o}=this._inputModalityDetector;if("mouse"!==o||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const a=e.labels;if(a)for(let d=0;d<a.length;d++)if(a[d].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(ne(Ze),ne(ci),ne(eG),ne(Ot,8),ne(nG,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nB="cdk-high-contrast-black-on-white",iB="cdk-high-contrast-white-on-black",tR="cdk-high-contrast-active";let rB=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=St(e6).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(e):null,a=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(tR,nB,iB),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(tR,nB):2===i&&e.add(tR,iB)}}}return n.\u0275fac=function(e){return new(e||n)(ne(ci),ne(Ot))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nR=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(ne(rB))},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[YA]}),n})();function iG(n,t){}class zD{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let oB=(()=>{class n extends $A{constructor(e,i,o,a,d,p,g,y){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=a,this._interactivityChecker=d,this._ngZone=p,this._overlayRef=g,this._focusMonitor=y,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=w=>{this._portalOutlet.hasAttached();const D=this._portalOutlet.attachDomPortal(w);return this._contentAttached(),D},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=o}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(i)}_focusByCssSelector(e,i){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const o=sD(),a=this._elementRef.nativeElement;(!o||o===this._document.body||o===a||a.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=sD();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=sD())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(QA),B(Ot,8),B(zD),B(jD),B(Ze),B(Jb),B(Bp))},n.\u0275cmp=kt({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&Nn(UA,7),2&e){let o;dt(o=ut())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&Jt("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[De],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&Se(0,iG,0,0,"ng-template",0)},dependencies:[UA],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class iR{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Ne,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!jg(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const sB=new ue("DialogScrollStrategy"),rG=new ue("DialogData"),oG=new ue("DefaultDialogConfig"),aG={provide:sB,deps:[Ac],useFactory:function sG(n){return()=>n.scrollStrategies.block()}};let cG=0,aB=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,o,a,d,p){this._overlay=e,this._injector=i,this._defaultOptions=o,this._parentDialog=a,this._overlayContainer=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ne,this._afterOpenedAtThisLevel=new Ne,this._ariaHiddenElements=new Map,this.afterAllClosed=Tg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(bu(void 0))),this._scrollStrategy=p}open(e,i){(i={...this._defaultOptions||new zD,...i}).id=i.id||"cdk-dialog-"+cG++,i.id&&this.getDialogById(i.id);const a=this._getOverlayConfig(i),d=this._overlay.create(a),p=new iR(d,i),g=this._attachContainer(d,p,i);return p.containerInstance=g,this._attachDialogContent(e,p,g,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(p),p.closed.subscribe(()=>this._removeOpenDialog(p,!0)),this.afterOpened.next(p),p}closeAll(){rR(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){rR(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),rR(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new WA({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,o){const a=o.injector||o.viewContainerRef?.injector,d=[{provide:zD,useValue:o},{provide:iR,useValue:i},{provide:Jb,useValue:e}];let p;o.container?"function"==typeof o.container?p=o.container:(p=o.container.type,d.push(...o.container.providers(o))):p=oB;const g=new OD(p,o.viewContainerRef,gi.create({parent:a||this._injector,providers:d}),o.componentFactoryResolver);return e.attach(g).instance}_attachDialogContent(e,i,o,a){if(e instanceof Zi){const d=this._createInjector(a,i,o,void 0);let p={$implicit:a.data,dialogRef:i};a.templateContext&&(p={...p,..."function"==typeof a.templateContext?a.templateContext():a.templateContext}),o.attachTemplatePortal(new zA(e,null,p,d))}else{const d=this._createInjector(a,i,o,this._injector),p=o.attachComponentPortal(new OD(e,a.viewContainerRef,d,a.componentFactoryResolver));i.componentInstance=p.instance}}_createInjector(e,i,o,a){const d=e.injector||e.viewContainerRef?.injector,p=[{provide:rG,useValue:e.data},{provide:iR,useValue:i}];return e.providers&&("function"==typeof e.providers?p.push(...e.providers(i,e,o)):p.push(...e.providers)),e.direction&&(!d||!d.get(Ua,null,{optional:!0}))&&p.push({provide:Ua,useValue:{value:e.direction,change:je()}}),gi.create({parent:d||a,providers:p})}_removeOpenDialog(e,i){const o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,d)=>{a?d.setAttribute("aria-hidden",a):d.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let o=i.length-1;o>-1;o--){const a=i[o];a!==e&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(ne(Ac),ne(gi),ne(oG,8),ne(n,12),ne(FD),ne(sB))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();function rR(n,t){let e=n.length;for(;e--;)t(n[e])}let lG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({providers:[aB,aG],imports:[ND,PD,nR,PD]}),n})();const uG=new ue("mat-sanity-checks",{providedIn:"root",factory:function dG(){return!0}});let xn=(()=>{class n{constructor(e,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!lA()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(ne(rB),ne(uG,8),ne(Ot))},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[Zb,Zb]}),n})();function $D(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=gn(t)}constructor(...t){super(...t),this._disabled=!1}}}function UD(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function oR(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=gn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function dB(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Mc(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function hG(n){return class extends n{updateErrorState(){const t=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==t&&(this.errorState=a,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let mG=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class fG{constructor(t,e,i,o=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const uB=Mp({passive:!0,capture:!0});class gG{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=xu(t);e&&this._events.get(t.type)?.forEach((i,o)=>{(o===e||o.contains(e))&&i.forEach(a=>a.handleEvent(t))})}}addHandler(t,e,i,o){const a=this._events.get(e);if(a){const d=a.get(i);d?d.add(o):a.set(i,new Set([o]))}else this._events.set(e,new Map([[i,new Set([o])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,uB)})}removeHandler(t,e,i){const o=this._events.get(t);if(!o)return;const a=o.get(e);a&&(a.delete(i),0===a.size&&o.delete(e),0===o.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,uB)))}}const hB={enterDuration:225,exitDuration:150},pB=Mp({passive:!0,capture:!0}),mB=["mousedown","touchstart"],fB=["mouseup","mouseleave","touchend","touchcancel"];class zg{constructor(t,e,i,o){this._target=t,this._ngZone=e,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=Ul(i))}fadeInRipple(t,e,i={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...hB,...i.animation};i.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);const d=i.radius||function vG(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),o=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+o*o)}(t,e,o),p=t-o.left,g=e-o.top,y=a.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=p-d+"px",w.style.top=g-d+"px",w.style.height=2*d+"px",w.style.width=2*d+"px",null!=i.color&&(w.style.backgroundColor=i.color),w.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(w);const D=window.getComputedStyle(w),O=D.transitionDuration,V="none"===D.transitionProperty||"0s"===O||"0s, 0s"===O||0===o.width&&0===o.height,j=new fG(this,w,i,V);w.style.transform="scale3d(1, 1, 1)",j.state=0,i.persistent||(this._mostRecentTransientRipple=j);let $=null;return!V&&(y||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const G=()=>this._finishRippleTransition(j),Y=()=>this._destroyRipple(j);w.addEventListener("transitionend",G),w.addEventListener("transitioncancel",Y),$={onTransitionEnd:G,onTransitionCancel:Y}}),this._activeRipples.set(j,$),(V||!y)&&this._finishRippleTransition(j),j}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...hB,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ul(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,mB.forEach(i=>{zg._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{fB.forEach(e=>{this._triggerElement.addEventListener(e,this,pB)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=JA(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!eR(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(mB.forEach(e=>zg._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&fB.forEach(e=>t.removeEventListener(e,this,pB)))}}zg._eventManager=new gG;const sR=new ue("mat-ripple-global-options");let Vp=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,o,a,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new zg(this,i,e,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...o}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(Ze),B(ci),B(sR,8),B(Eo,8))},n.\u0275dir=se({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&lt("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),t0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[xn,xn]}),n})(),yG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[xn]}),n})();function bG(n,t){}class GD{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const aR="mdc-dialog--open",gB="mdc-dialog--opening",_B="mdc-dialog--closing";let EG=(()=>{class n extends oB{constructor(e,i,o,a,d,p,g,y){super(e,i,o,a,d,p,g,y),this._animationStateChanged=new rn}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(QA),B(Ot,8),B(GD),B(jD),B(Ze),B(Jb),B(Bp))},n.\u0275cmp=kt({type:n,selectors:[["ng-component"]],features:[De],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();const vB="--mat-dialog-transition-duration";function yB(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Mc(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Mc(n.substring(0,n.length-1)):"0"===n?0:null}let CG=(()=>{class n extends EG{constructor(e,i,o,a,d,p,g,y,w){super(e,i,o,a,d,p,g,w),this._animationMode=y,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?yB(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?yB(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(vB,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(gB),this._hostElement.classList.add(aR),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(aR),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(aR),this._animationsEnabled?(this._hostElement.style.setProperty(vB,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(_B),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(gB),this._hostElement.classList.remove(_B)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(QA),B(Ot,8),B(GD),B(jD),B(Ze),B(Jb),B(Eo,8),B(Bp))},n.\u0275cmp=kt({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,i){2&e&&(Rl("id",i._config.id),Jt("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),lt("_mat-animation-noopable",!i._animationsEnabled))},features:[De],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(he(0,"div",0)(1,"div",1),Se(2,bG,0,0,"ng-template",2),fe()())},dependencies:[UA],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class WD{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Ne,this._beforeClosed=new Ne,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(Kn(o=>"opened"===o.state),jn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Kn(o=>"closed"===o.state),jn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Oo(this.backdropClick(),this.keydownEvents().pipe(Kn(o=>27===o.keyCode&&!this.disableClose&&!jg(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),function DG(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===o.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Kn(e=>"closing"===e.state),jn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const cR=new ue("MatMdcDialogData"),kG=new ue("mat-mdc-dialog-default-options"),bB=new ue("mat-mdc-dialog-scroll-strategy"),SG={provide:bB,deps:[Ac],useFactory:function MG(n){return()=>n.scrollStrategies.block()}};let TG=0,AG=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,o,a,d,p,g,y,w,D){this._overlay=e,this._defaultOptions=o,this._parentDialog=a,this._dialogRefConstructor=g,this._dialogContainerType=y,this._dialogDataToken=w,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ne,this._afterOpenedAtThisLevel=new Ne,this._idPrefix="mat-dialog-",this.dialogConfigClass=GD,this.afterAllClosed=Tg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(bu(void 0))),this._scrollStrategy=p,this._dialog=i.get(aB)}open(e,i){let o;(i={...this._defaultOptions||new GD,...i}).id=i.id||`${this._idPrefix}${TG++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const a=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:zD,useValue:i}]},templateContext:()=>({dialogRef:o}),providers:(d,p,g)=>(o=new this._dialogRefConstructor(d,i,g),o.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:g},{provide:this._dialogDataToken,useValue:p.data},{provide:this._dialogRefConstructor,useValue:o}])});return o.componentInstance=a.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{const d=this.openDialogs.indexOf(o);d>-1&&(this.openDialogs.splice(d,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){hc()},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),lR=(()=>{class n extends AG{constructor(e,i,o,a,d,p,g,y){super(e,i,a,p,g,d,WD,CG,cR,y),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(e){return new(e||n)(ne(Ac),ne(gi),ne(hb,8),ne(kG,8),ne(bB),ne(n,12),ne(FD),ne(Eo,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),RG=0,xB=(()=>{class n{constructor(e,i,o){this._dialogRef=e,this._elementRef=i,this._dialog=o,this.id="mat-mdc-dialog-title-"+RG++}ngOnInit(){this._dialogRef||(this._dialogRef=function IG(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(B(WD,8),B(qe),B(lR))},n.\u0275dir=se({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(e,i){2&e&&Rl("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),wB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),EB=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(e,i){2&e&&lt("mat-mdc-dialog-actions-align-center","center"===i.align)("mat-mdc-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})(),OG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({providers:[lR,SG],imports:[lG,ND,PD,xn,xn]}),n})();const DB=["mat-button",""],kB=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],MB=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],SB=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",FG=["mat-icon-button",""],NG=["*"],LG=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],BG=UD($D(oR(class{constructor(n){this._elementRef=n}})));let dR=(()=>{class n extends BG{constructor(e,i,o,a){super(e),this._platform=i,this._ngZone=o,this._animationMode=a,this._focusMonitor=St(Bp),this._isFab=!1;const d=e.nativeElement.classList;for(const p of LG)this._hasHostAttributes(p.selector)&&p.mdcClasses.forEach(g=>{d.add(g)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){hc()},n.\u0275dir=se({type:n,viewQuery:function(e,i){if(1&e&&Nn(Vp,5),2&e){let o;dt(o=ut())&&(i.ripple=o.first)}},features:[De]}),n})(),jG=(()=>{class n extends dR{constructor(e,i,o,a){super(e,i,o,a),this._haltDisabledEvents=d=>{this.disabled&&(d.preventDefault(),d.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(e){hc()},n.\u0275dir=se({type:n,features:[De]}),n})(),qD=(()=>{class n extends dR{constructor(e,i,o,a){super(e,i,o,a)}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(ci),B(Ze),B(Eo,8))},n.\u0275cmp=kt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(Jt("disabled",i.disabled||null),lt("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[De],attrs:DB,ngContentSelectors:MB,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(si(kB),Qe(0,"span",0),bt(1),he(2,"span",1),bt(3,1),fe(),bt(4,2),Qe(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(lt("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),xe(6),Ce("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Vp],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),HG=(()=>{class n extends jG{constructor(e,i,o,a){super(e,i,o,a)}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(ci),B(Ze),B(Eo,8))},n.\u0275cmp=kt({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(e,i){2&e&&(Jt("disabled",i.disabled||null)("tabindex",i.disabled?-1:i.tabIndex)("aria-disabled",i.disabled.toString()),lt("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[De],attrs:DB,ngContentSelectors:MB,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(si(kB),Qe(0,"span",0),bt(1),he(2,"span",1),bt(3,1),fe(),bt(4,2),Qe(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(lt("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),xe(6),Ce("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Vp],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',SB],encapsulation:2,changeDetection:0}),n})(),TB=(()=>{class n extends dR{constructor(e,i,o,a){super(e,i,o,a)}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(ci),B(Ze),B(Eo,8))},n.\u0275cmp=kt({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(Jt("disabled",i.disabled||null),lt("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[De],attrs:FG,ngContentSelectors:NG,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(si(),Qe(0,"span",0),bt(1),Qe(2,"span",1)(3,"span",2)(4,"span",3)),2&e&&(xe(3),Ce("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Vp],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',SB],encapsulation:2,changeDetection:0}),n})(),$G=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[xn,t0,xn]}),n})();class $g{constructor(t,e){this.dialogRef=t,this.data=e}onConfirm(){this.dialogRef.close(!0)}onDismiss(){this.dialogRef.close(!1)}handleKeyboardEvent(t){"n"===t.key?this.onDismiss():"y"===t.key&&this.onConfirm()}}$g.\u0275fac=function(t){return new(t||$g)(B(WD),B(cR))},$g.\u0275cmp=kt({type:$g,selectors:[["app-confirm-dialog"]],hostBindings:function(t,e){1&t&&ct("keypress",function(o){return e.handleKeyboardEvent(o)},0,Mw)},decls:16,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],[1,"app-spacer"],["mat-button","","aria-label","no",3,"click"],["mat-raised-button","","color","primary","aria-label","yes",3,"click"]],template:function(t,e){1&t&&(he(0,"h1",0),gt(1),fe(),he(2,"div",1),gt(3),fe(),he(4,"div",2),Qe(5,"div",3),he(6,"button",4),ct("click",function(){return e.onDismiss()}),gt(7,"["),he(8,"b"),gt(9,"n"),fe(),gt(10,"]o"),fe(),he(11,"button",5),ct("click",function(){return e.onConfirm()}),gt(12,"["),he(13,"b"),gt(14,"y"),fe(),gt(15,"]es"),fe()()),2&t&&(xe(1),bo(e.data.title),xe(2),vi(" ",e.data&&e.data.message,"\n"))},dependencies:[qD,xB,wB,EB]});class AB{constructor(t,e="Confirm"){this.message=t,this.title=e}}class UG{}function KD(n){return n&&"function"==typeof n.connect&&!(n instanceof cD)}class RB{applyChanges(t,e,i,o,a){t.forEachOperation((d,p,g)=>{let y,w;if(null==d.previousIndex){const D=i(d,p,g);y=e.createEmbeddedView(D.templateRef,D.context,D.index),w=1}else null==g?(e.remove(p),w=3):(y=e.get(p),e.move(y,g),w=2);a&&a({context:y?.context,operation:w,record:d})})}detach(){}}class YD{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,o){this._multiple=t,this._emitChanges=i,this.compareWith=o,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ne,e&&e.length&&(t?e.forEach(a=>this._markSelected(a)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(a=>this._markSelected(a)),e.filter(a=>!i.has(a)).forEach(a=>this._unmarkSelected(a));const o=this._hasQueuedChanges();return this._emitChangeEvent(),o}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}const n0=new ue("_ViewRepeater");class GG{constructor(){this.expansionModel=new YD(!0)}toggle(t){this.expansionModel.toggle(this._trackByValue(t))}expand(t){this.expansionModel.select(this._trackByValue(t))}collapse(t){this.expansionModel.deselect(this._trackByValue(t))}isExpanded(t){return this.expansionModel.isSelected(this._trackByValue(t))}toggleDescendants(t){this.expansionModel.isSelected(this._trackByValue(t))?this.collapseDescendants(t):this.expandDescendants(t)}collapseAll(){this.expansionModel.clear()}expandDescendants(t){let e=[t];e.push(...this.getDescendants(t)),this.expansionModel.select(...e.map(i=>this._trackByValue(i)))}collapseDescendants(t){let e=[t];e.push(...this.getDescendants(t)),this.expansionModel.deselect(...e.map(i=>this._trackByValue(i)))}_trackByValue(t){return this.trackBy?this.trackBy(t):t}}class WG extends GG{constructor(t,e,i){super(),this.getLevel=t,this.isExpandable=e,this.options=i,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(t){const i=[];for(let o=this.dataNodes.indexOf(t)+1;o<this.dataNodes.length&&this.getLevel(t)<this.getLevel(this.dataNodes[o]);o++)i.push(this.dataNodes[o]);return i}expandAll(){this.expansionModel.select(...this.dataNodes.map(t=>this._trackByValue(t)))}}class rW{constructor(t,e,i,o){this.transformFunction=t,this.getLevel=e,this.isExpandable=i,this.getChildren=o}_flattenNode(t,e,i,o){const a=this.transformFunction(t,e);if(i.push(a),this.isExpandable(a)){const d=this.getChildren(t);d&&(Array.isArray(d)?this._flattenChildren(d,e,i,o):d.pipe(jn(1)).subscribe(p=>{this._flattenChildren(p,e,i,o)}))}return i}_flattenChildren(t,e,i,o){t.forEach((a,d)=>{let p=o.slice();p.push(d!=t.length-1),this._flattenNode(a,e+1,i,p)})}flattenNodes(t){let e=[];return t.forEach(i=>this._flattenNode(i,0,e,[])),e}expandFlattenedNodes(t,e){let i=[],o=[];return o[0]=!0,t.forEach(a=>{let d=!0;for(let p=0;p<=this.getLevel(a);p++)d=d&&o[p];d&&i.push(a),this.isExpandable(a)&&(o[this.getLevel(a)+1]=e.isExpanded(a))}),i}}class oW extends UG{get data(){return this._data.value}set data(t){this._data.next(t),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}constructor(t,e,i){super(),this._treeControl=t,this._treeFlattener=e,this._flattenedData=new Hr([]),this._expandedData=new Hr([]),this._data=new Hr([]),i&&(this.data=i)}connect(t){return Oo(t.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe(et(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}class sW{constructor(t){this.elementService=t,this.flatTreeNodeCache=new Map,this.treeFlattener=new rW((e,i)=>this._nodeTransformer(e,i),e=>e.level,e=>e.expandable,e=>e.children?e.children:null),this.treeControl=new WG(e=>e.level,e=>e.expandable),this.dataSource=new oW(this.treeControl,this.treeFlattener)}_nodeTransformer(t,e){let i=this.flatTreeNodeCache.get(t);return i||(i={name:t.name,type:t.type,level:e,expandable:null!=t.children&&t.children.length>0,updateDate:t.updateDate,source:t},this.flatTreeNodeCache.set(t,i)),i}removeElementsWithoutId(){const t=this.dataSource.data.filter(e=>void 0!==e.id);this.dataSource.data=[],this.dataSource.data=t}rerenderAllElements(){const t=this.dataSource.data;this.dataSource.data=[],this.dataSource.data=t}doReload(){var t=this;return Rn(function*(){t.flatTreeNodeCache.clear();const e=yield t.elementService.findAll(),i=new Map,o=new Array;for(const d of e)d.children=[],i.set(d.id,d),0==d.parentId&&o.push(d);for(const d of e)d.parentId&&0!=d.parentId&&i.get(d.parentId)?.children?.push(d);const a=t.treeControl.expansionModel.selected;if(t.dataSource.data=o,a.length>0)t._expandById(a.map(d=>d.source.id));else{const d=yield t.elementService.getLastChangedElement();t._expandById(d.filter(p=>p.parentId).map(p=>p.parentId))}})()}_expandById(t){for(let e of this.flatTreeNodeCache.values())e.source.id&&t.includes(e.source.id)&&this.treeControl.expand(e)}}const ti=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tr=Object.keys,oo=Array.isArray;function ko(n,t){return"object"!=typeof t||tr(t).forEach(function(e){n[e]=t[e]}),n}typeof Promise>"u"||ti.Promise||(ti.Promise=Promise);const o0=Object.getPrototypeOf,aW={}.hasOwnProperty;function fs(n,t){return aW.call(n,t)}function Ug(n,t){"function"==typeof t&&(t=t(o0(n))),(typeof Reflect>"u"?tr:Reflect.ownKeys)(t).forEach(e=>{Kl(n,e,t[e])})}const OB=Object.defineProperty;function Kl(n,t,e,i){OB(n,t,ko(e&&fs(e,"get")&&"function"==typeof e.get?{get:e.get,set:e.set,configurable:!0}:{value:e,configurable:!0,writable:!0},i))}function Gg(n){return{from:function(t){return n.prototype=Object.create(t.prototype),Kl(n.prototype,"constructor",n),{extend:Ug.bind(null,n.prototype)}}}}const cW=Object.getOwnPropertyDescriptor;function gR(n,t){let e;return cW(n,t)||(e=o0(n))&&gR(e,t)}const lW=[].slice;function QD(n,t,e){return lW.call(n,t,e)}function PB(n,t){return t(n)}function s0(n){if(!n)throw new Error("Assertion Failed")}function FB(n){ti.setImmediate?setImmediate(n):setTimeout(n,0)}function NB(n,t){return n.reduce((e,i,o)=>{var a=t(i,o);return a&&(e[a[0]]=a[1]),e},{})}function Yl(n,t){if(fs(n,t))return n[t];if(!t)return n;if("string"!=typeof t){for(var e=[],i=0,o=t.length;i<o;++i){var a=Yl(n,t[i]);e.push(a)}return e}var d=t.indexOf(".");if(-1!==d){var p=n[t.substr(0,d)];return void 0===p?void 0:Yl(p,t.substr(d+1))}}function Ga(n,t,e){if(n&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(n)))if("string"!=typeof t&&"length"in t){s0("string"!=typeof e&&"length"in e);for(var i=0,o=t.length;i<o;++i)Ga(n,t[i],e[i])}else{var a=t.indexOf(".");if(-1!==a){var d=t.substr(0,a),p=t.substr(a+1);if(""===p)void 0===e?oo(n)&&!isNaN(parseInt(d))?n.splice(d,1):delete n[d]:n[d]=e;else{var g=n[d];g&&fs(n,d)||(g=n[d]={}),Ga(g,p,e)}}else void 0===e?oo(n)&&!isNaN(parseInt(t))?n.splice(t,1):delete n[t]:n[t]=e}}function LB(n){var t={};for(var e in n)fs(n,e)&&(t[e]=n[e]);return t}const dW=[].concat;function BB(n){return dW.apply([],n)}const VB="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(BB([8,16,32,64].map(n=>["Int","Uint","Float"].map(t=>t+n+"Array")))).filter(n=>ti[n]),uW=VB.map(n=>ti[n]);NB(VB,n=>[n,!0]);let Du=null;function a0(n){Du=typeof WeakMap<"u"&&new WeakMap;const t=_R(n);return Du=null,t}function _R(n){if(!n||"object"!=typeof n)return n;let t=Du&&Du.get(n);if(t)return t;if(oo(n)){t=[],Du&&Du.set(n,t);for(var e=0,i=n.length;e<i;++e)t.push(_R(n[e]))}else if(uW.indexOf(n.constructor)>=0)t=n;else{const a=o0(n);for(var o in t=a===Object.prototype?{}:Object.create(a),Du&&Du.set(n,t),n)fs(n,o)&&(t[o]=_R(n[o]))}return t}const{toString:hW}={};function vR(n){return hW.call(n).slice(8,-1)}const yR=typeof Symbol<"u"?Symbol.iterator:"@@iterator",pW="symbol"==typeof yR?function(n){var t;return null!=n&&(t=n[yR])&&t.apply(n)}:function(){return null},Wg={};function Xl(n){var t,e,i,o;if(1===arguments.length){if(oo(n))return n.slice();if(this===Wg&&"string"==typeof n)return[n];if(o=pW(n)){for(e=[];!(i=o.next()).done;)e.push(i.value);return e}if(null==n)return[n];if("number"==typeof(t=n.length)){for(e=new Array(t);t--;)e[t]=n[t];return e}return[n]}for(t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return e}const bR=typeof Symbol<"u"?n=>"AsyncFunction"===n[Symbol.toStringTag]:()=>!1;var Ic=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function jB(n,t){Ic=n,HB=t}var HB=()=>!0;const mW=!new Error("").stack;function jp(){if(mW)try{throw new Error}catch(n){return n}return new Error}function xR(n,t){var e=n.stack;return e?(t=t||0,0===e.indexOf(n.name)&&(t+=(n.name+n.message).split("\n").length),e.split("\n").slice(t).filter(HB).map(i=>"\n"+i).join("")):""}var zB=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],wR=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(zB),fW={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function qg(n,t){this._e=jp(),this.name=n,this.message=t}function $B(n,t){return n+". Errors: "+Object.keys(t).map(e=>t[e].toString()).filter((e,i,o)=>o.indexOf(e)===i).join("\n")}function JD(n,t,e,i){this._e=jp(),this.failures=t,this.failedKeys=i,this.successCount=e,this.message=$B(n,t)}function c0(n,t){this._e=jp(),this.name="BulkError",this.failures=Object.keys(t).map(e=>t[e]),this.failuresByPos=t,this.message=$B(n,t)}Gg(qg).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+xR(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Gg(JD).from(qg),Gg(c0).from(qg);var ER=wR.reduce((n,t)=>(n[t]=t+"Error",n),{});const gW=qg;var Tt=wR.reduce((n,t)=>{var e=t+"Error";function i(o,a){this._e=jp(),this.name=e,o?"string"==typeof o?(this.message=`${o}${a?"\n "+a:""}`,this.inner=a||null):"object"==typeof o&&(this.message=`${o.name} ${o.message}`,this.inner=o):(this.message=fW[t]||e,this.inner=null)}return Gg(i).from(gW),n[t]=i,n},{});Tt.Syntax=SyntaxError,Tt.Type=TypeError,Tt.Range=RangeError;var UB=zB.reduce((n,t)=>(n[t+"Error"]=Tt[t],n),{}),e1=wR.reduce((n,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(n[t+"Error"]=Tt[t]),n),{});function Hn(){}function l0(n){return n}function _W(n,t){return null==n||n===l0?t:function(e){return t(n(e))}}function Hp(n,t){return function(){n.apply(this,arguments),t.apply(this,arguments)}}function vW(n,t){return n===Hn?t:function(){var e=n.apply(this,arguments);void 0!==e&&(arguments[0]=e);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Hp(i,this.onsuccess):i),o&&(this.onerror=this.onerror?Hp(o,this.onerror):o),void 0!==a?a:e}}function yW(n,t){return n===Hn?t:function(){n.apply(this,arguments);var e=this.onsuccess,i=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),e&&(this.onsuccess=this.onsuccess?Hp(e,this.onsuccess):e),i&&(this.onerror=this.onerror?Hp(i,this.onerror):i)}}function bW(n,t){return n===Hn?t:function(e){var i=n.apply(this,arguments);ko(e,i);var o=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var d=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?Hp(o,this.onsuccess):o),a&&(this.onerror=this.onerror?Hp(a,this.onerror):a),void 0===i?void 0===d?void 0:d:ko(i,d)}}function xW(n,t){return n===Hn?t:function(){return!1!==t.apply(this,arguments)&&n.apply(this,arguments)}}function CR(n,t){return n===Hn?t:function(){var e=n.apply(this,arguments);if(e&&"function"==typeof e.then){for(var i=this,o=arguments.length,a=new Array(o);o--;)a[o]=arguments[o];return e.then(function(){return t.apply(i,a)})}return t.apply(this,arguments)}}e1.ModifyError=JD,e1.DexieError=qg,e1.BulkError=c0;var d0={};const[DR,t1,kR]=typeof Promise>"u"?[]:(()=>{let n=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[n,o0(n),n];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,o0(t),n]})(),GB=t1&&t1.then,n1=DR&&DR.constructor,MR=!!kR;var SR=!1,wW=kR?()=>{kR.then(a1)}:ti.setImmediate?setImmediate.bind(null,a1):ti.MutationObserver?()=>{var n=document.createElement("div");new MutationObserver(()=>{a1(),n=null}).observe(n,{attributes:!0}),n.setAttribute("i","1")}:()=>{setTimeout(a1,0)},u0=function(n,t){h0.push([n,t]),r1&&(wW(),r1=!1)},TR=!0,r1=!0,zp=[],o1=[],AR=null,RR=l0,Kg={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:e3,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(n=>{try{e3(n[0],n[1])}catch{}})}},vt=Kg,h0=[],$p=0,s1=[];function Ge(n){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Hn,this._lib=!1;var t=this._PSD=vt;if(Ic&&(this._stackHolder=jp(),this._prev=null,this._numPrev=0),"function"!=typeof n){if(n!==d0)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&OR(this,this._value))}this._state=null,this._value=null,++t.ref,qB(this,n)}const IR={get:function(){var n=vt,t=d1;function e(i,o){var a=!n.global&&(n!==vt||t!==d1);const d=a&&!Zl();var p=new Ge((g,y)=>{PR(this,new WB(h1(i,n,a,d),h1(o,n,a,d),g,y,n))});return Ic&&XB(p,this),p}return e.prototype=d0,e},set:function(n){Kl(this,"then",n&&n.prototype===d0?IR:{get:function(){return n},set:IR.set})}};function WB(n,t,e,i,o){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof t?t:null,this.resolve=e,this.reject=i,this.psd=o}function qB(n,t){try{t(e=>{if(null===n._state){if(e===n)throw new TypeError("A promise cannot be resolved with itself.");var i=n._lib&&p0();e&&"function"==typeof e.then?qB(n,(o,a)=>{e instanceof Ge?e._then(o,a):e.then(o,a)}):(n._state=!0,n._value=e,KB(n)),i&&m0()}},OR.bind(null,n))}catch(e){OR(n,e)}}function OR(n,t){if(o1.push(t),null===n._state){var e=n._lib&&p0();t=RR(t),n._state=!1,n._value=t,Ic&&null!==t&&"object"==typeof t&&!t._promise&&function(i,o,a){try{(()=>{var i=gR(t,"stack");t._promise=n,Kl(t,"stack",{get:()=>SR?i&&(i.get?i.get.apply(t):i.value):n.stack})}).apply(null,void 0)}catch(d){}}(),i=n,zp.some(o=>o._value===i._value)||zp.push(i),KB(n),e&&m0()}var i}function KB(n){var t=n._listeners;n._listeners=[];for(var e=0,i=t.length;e<i;++e)PR(n,t[e]);var o=n._PSD;--o.ref||o.finalize(),0===$p&&(++$p,u0(()=>{0==--$p&&FR()},[]))}function PR(n,t){if(null!==n._state){var e=n._state?t.onFulfilled:t.onRejected;if(null===e)return(n._state?t.resolve:t.reject)(n._value);++t.psd.ref,++$p,u0(EW,[e,n,t])}else n._listeners.push(t)}function EW(n,t,e){try{AR=t;var i,o=t._value;t._state?i=n(o):(o1.length&&(o1=[]),i=n(o),-1===o1.indexOf(o)&&function(a){for(var d=zp.length;d;)if(zp[--d]._value===a._value)return void zp.splice(d,1)}(t)),e.resolve(i)}catch(a){e.reject(a)}finally{AR=null,0==--$p&&FR(),--e.psd.ref||e.psd.finalize()}}function YB(n,t,e){if(t.length===e)return t;var i="";if(!1===n._state){var o,a,d=n._value;null!=d?(o=d.name||"Error",a=d.message||d,i=xR(d,0)):(o=d,a=""),t.push(o+(a?": "+a:"")+i)}return Ic&&((i=xR(n._stackHolder,2))&&-1===t.indexOf(i)&&t.push(i),n._prev&&YB(n._prev,t,e)),t}function XB(n,t){var e=t?t._numPrev+1:0;e<100&&(n._prev=t,n._numPrev=e)}function a1(){p0()&&m0()}function p0(){var n=TR;return TR=!1,r1=!1,n}function m0(){var n,t,e;do{for(;h0.length>0;)for(n=h0,h0=[],e=n.length,t=0;t<e;++t){var i=n[t];i[0].apply(null,i[1])}}while(h0.length>0);TR=!0,r1=!0}function FR(){var n=zp;zp=[],n.forEach(i=>{i._PSD.onunhandled.call(null,i._value,i)});for(var t=s1.slice(0),e=t.length;e;)t[--e]()}function c1(n){return new Ge(d0,!1,n)}function li(n,t){var e=vt;return function(){var i=p0(),o=vt;try{return Mu(e,!0),n.apply(this,arguments)}catch(a){t&&t(a)}finally{Mu(o,!1),i&&m0()}}}Ug(Ge.prototype,{then:IR,_then:function(n,t){PR(this,new WB(null,null,n,t,vt))},catch:function(n){if(1===arguments.length)return this.then(null,n);var t=arguments[0],e=arguments[1];return this.then(null,"function"==typeof t?i=>i instanceof t?e(i):c1(i):i=>i&&i.name===t?e(i):c1(i))},finally:function(n){return this.then(t=>(n(),t),t=>(n(),c1(t)))},stack:{get:function(){if(this._stack)return this._stack;try{SR=!0;var n=YB(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=n),n}finally{SR=!1}}},timeout:function(n,t){return n<1/0?new Ge((e,i)=>{var o=setTimeout(()=>i(new Tt.Timeout(t)),n);this.then(e,i).finally(clearTimeout.bind(null,o))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Kl(Ge.prototype,Symbol.toStringTag,"Dexie.Promise"),Kg.env=ZB(),Ug(Ge,{all:function(){var n=Xl.apply(null,arguments).map(u1);return new Ge(function(t,e){0===n.length&&t([]);var i=n.length;n.forEach((o,a)=>Ge.resolve(o).then(d=>{n[a]=d,--i||t(n)},e))})},resolve:n=>{if(n instanceof Ge)return n;if(n&&"function"==typeof n.then)return new Ge((e,i)=>{n.then(e,i)});var t=new Ge(d0,!0,n);return XB(t,AR),t},reject:c1,race:function(){var n=Xl.apply(null,arguments).map(u1);return new Ge((t,e)=>{n.map(i=>Ge.resolve(i).then(t,e))})},PSD:{get:()=>vt,set:n=>vt=n},totalEchoes:{get:()=>d1},newPSD:ku,usePSD:Xg,scheduler:{get:()=>u0,set:n=>{u0=n}},rejectionMapper:{get:()=>RR,set:n=>{RR=n}},follow:(n,t)=>new Ge((e,i)=>ku((o,a)=>{var d=vt;d.unhandleds=[],d.onunhandled=a,d.finalize=Hp(function(){var p;p=()=>{0===this.unhandleds.length?o():a(this.unhandleds[0])},s1.push(function g(){p(),s1.splice(s1.indexOf(g),1)}),++$p,u0(()=>{0==--$p&&FR()},[])},d.finalize),n()},t,e,i))}),n1&&(n1.allSettled&&Kl(Ge,"allSettled",function(){const n=Xl.apply(null,arguments).map(u1);return new Ge(t=>{0===n.length&&t([]);let e=n.length;const i=new Array(e);n.forEach((o,a)=>Ge.resolve(o).then(d=>i[a]={status:"fulfilled",value:d},d=>i[a]={status:"rejected",reason:d}).then(()=>--e||t(i)))})}),n1.any&&typeof AggregateError<"u"&&Kl(Ge,"any",function(){const n=Xl.apply(null,arguments).map(u1);return new Ge((t,e)=>{0===n.length&&e(new AggregateError([]));let i=n.length;const o=new Array(i);n.forEach((a,d)=>Ge.resolve(a).then(p=>t(p),p=>{o[d]=p,--i||e(new AggregateError(o))}))})}));const so={awaits:0,echoes:0,id:0};var CW=0,l1=[],NR=0,d1=0,DW=0;function ku(n,t,e,i){var o=vt,a=Object.create(o);a.parent=o,a.ref=0,a.global=!1,a.id=++DW;var d=Kg.env;a.env=MR?{Promise:Ge,PromiseProp:{value:Ge,configurable:!0,writable:!0},all:Ge.all,race:Ge.race,allSettled:Ge.allSettled,any:Ge.any,resolve:Ge.resolve,reject:Ge.reject,nthen:JB(d.nthen,a),gthen:JB(d.gthen,a)}:{},t&&ko(a,t),++o.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var p=Xg(a,n,e,i);return 0===a.ref&&a.finalize(),p}function Yg(){return so.id||(so.id=++CW),++so.awaits,so.echoes+=100,so.id}function Zl(){return!!so.awaits&&(0==--so.awaits&&(so.id=0),so.echoes=100*so.awaits,!0)}function u1(n){return so.echoes&&n&&n.constructor===n1?(Yg(),n.then(t=>(Zl(),t),t=>(Zl(),ur(t)))):n}function kW(n){++d1,so.echoes&&0!=--so.echoes||(so.echoes=so.id=0),l1.push(vt),Mu(n,!0)}function MW(){var n=l1[l1.length-1];l1.pop(),Mu(n,!1)}function Mu(n,t){var e=vt;if((t?!so.echoes||NR++&&n===vt:!NR||--NR&&n===vt)||QB(t?kW.bind(null,n):MW),n!==vt&&(vt=n,e===Kg&&(Kg.env=ZB()),MR)){var i=Kg.env.Promise,o=n.env;t1.then=o.nthen,i.prototype.then=o.gthen,(e.global||n.global)&&(Object.defineProperty(ti,"Promise",o.PromiseProp),i.all=o.all,i.race=o.race,i.resolve=o.resolve,i.reject=o.reject,o.allSettled&&(i.allSettled=o.allSettled),o.any&&(i.any=o.any))}}function ZB(){var n=ti.Promise;return MR?{Promise:n,PromiseProp:Object.getOwnPropertyDescriptor(ti,"Promise"),all:n.all,race:n.race,allSettled:n.allSettled,any:n.any,resolve:n.resolve,reject:n.reject,nthen:t1.then,gthen:n.prototype.then}:{}}function Xg(n,t,e,i,o){var a=vt;try{return Mu(n,!0),t(e,i,o)}finally{Mu(a,!1)}}function QB(n){GB.call(DR,n)}function h1(n,t,e,i){return"function"!=typeof n?n:function(){var o=vt;e&&Yg(),Mu(t,!0);try{return n.apply(this,arguments)}finally{Mu(o,!1),i&&QB(Zl)}}}function JB(n,t){return function(e,i){return n.call(this,h1(e,t),h1(i,t))}}function e3(n,t){var e;try{e=t.onuncatched(n)}catch{}if(!1!==e)try{var i,o={promise:t,reason:n};if(ti.document&&document.createEvent?((i=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),ko(i,o)):ti.CustomEvent&&ko(i=new CustomEvent("unhandledrejection",{detail:o}),o),i&&ti.dispatchEvent&&(dispatchEvent(i),!ti.PromiseRejectionEvent&&ti.onunhandledrejection))try{ti.onunhandledrejection(i)}catch{}Ic&&i&&!i.defaultPrevented&&console.warn(`Unhandled rejection: ${n.stack||n}`)}catch{}}-1===(""+GB).indexOf("[native code]")&&(Yg=Zl=Hn);var ur=Ge.reject;function LR(n,t,e,i){if(n.idbdb&&(n._state.openComplete||vt.letThrough||n._vip)){var o=n._createTransaction(t,e,n._dbSchema);try{o.create(),n._state.PR1398_maxLoop=3}catch(a){return a.name===ER.InvalidState&&n.isOpen()&&--n._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),n._close(),n.open().then(()=>LR(n,t,e,i))):ur(a)}return o._promise(t,(a,d)=>ku(()=>(vt.trans=o,i(a,d,o)))).then(a=>o._completion.then(()=>a))}if(n._state.openComplete)return ur(new Tt.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen)return ur(new Tt.DatabaseClosed);n.open().catch(Hn)}return n._state.dbReadyPromise.then(()=>LR(n,t,e,i))}const Up=String.fromCharCode(65535),Ql="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",f0=[],p1=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),SW=p1,TW=p1,t3=n=>!/(dexie\.js|dexie\.min\.js)/.test(n);function Gp(n,t){return n?t?function(){return n.apply(this,arguments)&&t.apply(this,arguments)}:n:t}const n3={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function m1(n){return"string"!=typeof n||/\./.test(n)?t=>t:t=>(void 0===t[n]&&n in t&&delete(t=a0(t))[n],t)}class AW{_trans(t,e,i){const o=this._tx||vt.trans,a=this.name;function d(g,y,w){if(!w.schema[a])throw new Tt.NotFound("Table "+a+" not part of transaction");return e(w.idbtrans,w)}const p=p0();try{return o&&o.db===this.db?o===vt.trans?o._promise(t,d,i):ku(()=>o._promise(t,d,i),{trans:o,transless:vt.transless||vt}):LR(this.db,t,[this.name],d)}finally{p&&m0()}}get(t,e){return t&&t.constructor===Object?this.where(t).first(e):this._trans("readonly",i=>this.core.get({trans:i,key:t}).then(o=>this.hook.reading.fire(o))).then(e)}where(t){if("string"==typeof t)return new this.db.WhereClause(this,t);if(oo(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const e=tr(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);const i=this.schema.indexes.concat(this.schema.primKey).filter(y=>y.compound&&e.every(w=>y.keyPath.indexOf(w)>=0)&&y.keyPath.every(w=>e.indexOf(w)>=0))[0];if(i&&this.db._maxKey!==Up)return this.where(i.name).equals(i.keyPath.map(y=>t[y]));!i&&Ic&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${e.join("+")}]`);const{idxByName:o}=this.schema,a=this.db._deps.indexedDB;function d(y,w){try{return 0===a.cmp(y,w)}catch{return!1}}const[p,g]=e.reduce(([y,w],D)=>{const S=o[D],O=t[D];return[y||S,y||!S?Gp(w,S&&S.multi?V=>{const j=Yl(V,D);return oo(j)&&j.some($=>d(O,$))}:V=>d(O,Yl(V,D))):w]},[null,null]);return p?this.where(p.name).equals(t[p.keyPath]).filter(g):i?this.filter(g):this.where(e).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,oo(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const e=i=>{if(!i)return i;const o=Object.create(t.prototype);for(var a in i)if(fs(i,a))try{o[a]=i[a]}catch{}return o};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=e,this.hook("reading",e),t}defineClass(){return this.mapToClass(function(t){ko(this,t)})}add(t,e){const{auto:i,keyPath:o}=this.schema.primKey;let a=t;return o&&i&&(a=m1(o)(t)),this._trans("readwrite",d=>this.core.mutate({trans:d,type:"add",keys:null!=e?[e]:null,values:[a]})).then(d=>d.numFailures?Ge.reject(d.failures[0]):d.lastResult).then(d=>{if(o)try{Ga(t,o,d)}catch{}return d})}update(t,e){if("object"!=typeof t||oo(t))return this.where(":id").equals(t).modify(e);{const i=Yl(t,this.schema.primKey.keyPath);if(void 0===i)return ur(new Tt.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof e?tr(e).forEach(o=>{Ga(t,o,e[o])}):e(t,{value:t,primKey:i})}catch{}return this.where(":id").equals(i).modify(e)}}put(t,e){const{auto:i,keyPath:o}=this.schema.primKey;let a=t;return o&&i&&(a=m1(o)(t)),this._trans("readwrite",d=>this.core.mutate({trans:d,type:"put",values:[a],keys:null!=e?[e]:null})).then(d=>d.numFailures?Ge.reject(d.failures[0]):d.lastResult).then(d=>{if(o)try{Ga(t,o,d)}catch{}return d})}delete(t){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"delete",keys:[t]})).then(e=>e.numFailures?Ge.reject(e.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:n3})).then(t=>t.numFailures?Ge.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",e=>this.core.getMany({keys:t,trans:e}).then(i=>i.map(o=>this.hook.reading.fire(o))))}bulkAdd(t,e,i){const o=Array.isArray(e)?e:void 0,a=(i=i||(o?void 0:e))?i.allKeys:void 0;return this._trans("readwrite",d=>{const{auto:p,keyPath:g}=this.schema.primKey;if(g&&o)throw new Tt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new Tt.InvalidArgument("Arguments objects and keys must have the same length");const y=t.length;let w=g&&p?t.map(m1(g)):t;return this.core.mutate({trans:d,type:"add",keys:o,values:w,wantResults:a}).then(({numFailures:D,results:S,lastResult:O,failures:V})=>{if(0===D)return a?S:O;throw new c0(`${this.name}.bulkAdd(): ${D} of ${y} operations failed`,V)})})}bulkPut(t,e,i){const o=Array.isArray(e)?e:void 0,a=(i=i||(o?void 0:e))?i.allKeys:void 0;return this._trans("readwrite",d=>{const{auto:p,keyPath:g}=this.schema.primKey;if(g&&o)throw new Tt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new Tt.InvalidArgument("Arguments objects and keys must have the same length");const y=t.length;let w=g&&p?t.map(m1(g)):t;return this.core.mutate({trans:d,type:"put",keys:o,values:w,wantResults:a}).then(({numFailures:D,results:S,lastResult:O,failures:V})=>{if(0===D)return a?S:O;throw new c0(`${this.name}.bulkPut(): ${D} of ${y} operations failed`,V)})})}bulkDelete(t){const e=t.length;return this._trans("readwrite",i=>this.core.mutate({trans:i,type:"delete",keys:t})).then(({numFailures:i,lastResult:o,failures:a})=>{if(0===i)return o;throw new c0(`${this.name}.bulkDelete(): ${i} of ${e} operations failed`,a)})}}function g0(n){var t={},e=function(p,g){if(g){for(var y=arguments.length,w=new Array(y-1);--y;)w[y-1]=arguments[y];return t[p].subscribe.apply(null,w),n}if("string"==typeof p)return t[p]};e.addEventType=a;for(var i=1,o=arguments.length;i<o;++i)a(arguments[i]);return e;function a(p,g,y){if("object"==typeof p)return d(p);g||(g=xW),y||(y=Hn);var w={subscribers:[],fire:y,subscribe:function(D){-1===w.subscribers.indexOf(D)&&(w.subscribers.push(D),w.fire=g(w.fire,D))},unsubscribe:function(D){w.subscribers=w.subscribers.filter(function(S){return S!==D}),w.fire=w.subscribers.reduce(g,y)}};return t[p]=e[p]=w,w}function d(p){tr(p).forEach(function(g){var y=p[g];if(oo(y))a(g,p[g][0],p[g][1]);else{if("asap"!==y)throw new Tt.InvalidArgument("Invalid event config");var w=a(g,l0,function(){for(var D=arguments.length,S=new Array(D);D--;)S[D]=arguments[D];w.subscribers.forEach(function(O){FB(function(){O.apply(null,S)})})})}})}}function _0(n,t){return Gg(t).from({prototype:n}),t}function Zg(n,t){return!(n.filter||n.algorithm||n.or)&&(t?n.justLimit:!n.replayFilter)}function BR(n,t){n.filter=Gp(n.filter,t)}function VR(n,t,e){var i=n.replayFilter;n.replayFilter=i?()=>Gp(i(),t()):t,n.justLimit=e&&!i}function f1(n,t){if(n.isPrimKey)return t.primaryKey;const e=t.getIndexByKeyPath(n.index);if(!e)throw new Tt.Schema("KeyPath "+n.index+" on object store "+t.name+" is not indexed");return e}function r3(n,t,e){const i=f1(n,t.schema);return t.openCursor({trans:e,values:!n.keysOnly,reverse:"prev"===n.dir,unique:!!n.unique,query:{index:i,range:n.range}})}function g1(n,t,e,i){const o=n.replayFilter?Gp(n.filter,n.replayFilter()):n.filter;if(n.or){const a={},d=(p,g,y)=>{if(!o||o(g,y,S=>g.stop(S),S=>g.fail(S))){var w=g.primaryKey,D=""+w;"[object ArrayBuffer]"===D&&(D=""+new Uint8Array(w)),fs(a,D)||(a[D]=!0,t(p,g,y))}};return Promise.all([n.or._iterate(d,e),o3(r3(n,i,e),n.algorithm,d,!n.keysOnly&&n.valueMapper)])}return o3(r3(n,i,e),Gp(n.algorithm,o),t,!n.keysOnly&&n.valueMapper)}function o3(n,t,e,i){var o=li(i?(a,d,p)=>e(i(a),d,p):e);return n.then(a=>{if(a)return a.start(()=>{var d=()=>a.continue();t&&!t(a,p=>d=p,p=>{a.stop(p),d=Hn},p=>{a.fail(p),d=Hn})||o(a.value,a,p=>d=p),d()})})}function Mo(n,t){try{const e=s3(n),i=s3(t);if(e!==i)return"Array"===e?1:"Array"===i?-1:"binary"===e?1:"binary"===i?-1:"string"===e?1:"string"===i?-1:"Date"===e?1:"Date"!==i?NaN:-1;switch(e){case"number":case"Date":case"string":return n>t?1:n<t?-1:0;case"binary":return function(o,a){const d=o.length,p=a.length,g=d<p?d:p;for(let y=0;y<g;++y)if(o[y]!==a[y])return o[y]<a[y]?-1:1;return d===p?0:d<p?-1:1}(a3(n),a3(t));case"Array":return function(o,a){const d=o.length,p=a.length,g=d<p?d:p;for(let y=0;y<g;++y){const w=Mo(o[y],a[y]);if(0!==w)return w}return d===p?0:d<p?-1:1}(n,t)}}catch{}return NaN}function s3(n){const t=typeof n;if("object"!==t)return t;if(ArrayBuffer.isView(n))return"binary";const e=vR(n);return"ArrayBuffer"===e?"binary":e}function a3(n){return n instanceof Uint8Array?n:ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n)}class RW{_read(t,e){var i=this._ctx;return i.error?i.table._trans(null,ur.bind(null,i.error)):i.table._trans("readonly",t).then(e)}_write(t){var e=this._ctx;return e.error?e.table._trans(null,ur.bind(null,e.error)):e.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var e=this._ctx;e.algorithm=Gp(e.algorithm,t)}_iterate(t,e){return g1(this._ctx,t,e,this._ctx.table.core)}clone(t){var e=Object.create(this.constructor.prototype),i=Object.create(this._ctx);return t&&ko(i,t),e._ctx=i,e}raw(){return this._ctx.valueMapper=null,this}each(t){var e=this._ctx;return this._read(i=>g1(e,t,i,e.table.core))}count(t){return this._read(e=>{const i=this._ctx,o=i.table.core;if(Zg(i,!0))return o.count({trans:e,query:{index:f1(i,o.schema),range:i.range}}).then(d=>Math.min(d,i.limit));var a=0;return g1(i,()=>(++a,!1),e,o).then(()=>a)}).then(t)}sortBy(t,e){const i=t.split(".").reverse(),o=i[0],a=i.length-1;function d(y,w){return w?d(y[i[w]],w-1):y[o]}var p="next"===this._ctx.dir?1:-1;function g(y,w){var D=d(y,a),S=d(w,a);return D<S?-p:D>S?p:0}return this.toArray(function(y){return y.sort(g)}).then(e)}toArray(t){return this._read(e=>{var i=this._ctx;if("next"===i.dir&&Zg(i,!0)&&i.limit>0){const{valueMapper:o}=i,a=f1(i,i.table.core.schema);return i.table.core.query({trans:e,limit:i.limit,values:!0,query:{index:a,range:i.range}}).then(({result:d})=>o?d.map(o):d)}{const o=[];return g1(i,a=>o.push(a),e,i.table.core).then(()=>o)}},t)}offset(t){var e=this._ctx;return t<=0||(e.offset+=t,Zg(e)?VR(e,()=>{var i=t;return(o,a)=>0===i||(1===i?(--i,!1):(a(()=>{o.advance(i),i=0}),!1))}):VR(e,()=>{var i=t;return()=>--i<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),VR(this._ctx,()=>{var e=t;return function(i,o,a){return--e<=0&&o(a),e>=0}},!0),this}until(t,e){return BR(this._ctx,function(i,o,a){return!t(i.value)||(o(a),e)}),this}first(t){return this.limit(1).toArray(function(e){return e[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var e;return BR(this._ctx,function(o){return t(o.value)}),(e=this._ctx).isMatch=Gp(e.isMatch,t),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(i,o){t(o.key,o)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(i,o){t(o.primaryKey,o)})}keys(t){var e=this._ctx;e.keysOnly=!e.isMatch;var i=[];return this.each(function(o,a){i.push(a.key)}).then(function(){return i}).then(t)}primaryKeys(t){var e=this._ctx;if("next"===e.dir&&Zg(e,!0)&&e.limit>0)return this._read(o=>{var a=f1(e,e.table.core.schema);return e.table.core.query({trans:o,values:!1,limit:e.limit,query:{index:a,range:e.range}})}).then(({result:o})=>o).then(t);e.keysOnly=!e.isMatch;var i=[];return this.each(function(o,a){i.push(a.primaryKey)}).then(function(){return i}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(e){return e[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,e=t.index&&t.table.schema.idxByName[t.index];if(!e||!e.multi)return this;var i={};return BR(this._ctx,function(o){var a=o.primaryKey.toString(),d=fs(i,a);return i[a]=!0,!d}),this}modify(t){var e=this._ctx;return this._write(i=>{var o;if("function"==typeof t)o=t;else{var a=tr(t),d=a.length;o=function(j){for(var $=!1,G=0;G<d;++G){var Y=a[G],X=t[Y];Yl(j,Y)!==X&&(Ga(j,Y,X),$=!0)}return $}}const p=e.table.core,{outbound:g,extractKey:y}=p.schema.primaryKey,w=this.db._options.modifyChunkSize||200,D=[];let S=0;const O=[],V=(j,$)=>{const{failures:G,numFailures:Y}=$;S+=j-Y;for(let X of tr(G))D.push(G[X])};return this.clone().primaryKeys().then(j=>{const $=G=>{const Y=Math.min(w,j.length-G);return p.getMany({trans:i,keys:j.slice(G,G+Y),cache:"immutable"}).then(X=>{const ce=[],_e=[],me=g?[]:null,ke=[];for(let Be=0;Be<Y;++Be){const Yt=X[Be],Yn={value:a0(Yt),primKey:j[G+Be]};!1!==o.call(Yn,Yn.value,Yn)&&(null==Yn.value?ke.push(j[G+Be]):g||0===Mo(y(Yt),y(Yn.value))?(_e.push(Yn.value),g&&me.push(j[G+Be])):(ke.push(j[G+Be]),ce.push(Yn.value)))}const yt=Zg(e)&&e.limit===1/0&&("function"!=typeof t||t===jR)&&{index:e.index,range:e.range};return Promise.resolve(ce.length>0&&p.mutate({trans:i,type:"add",values:ce}).then(Be=>{for(let Yt in Be.failures)ke.splice(parseInt(Yt),1);V(ce.length,Be)})).then(()=>(_e.length>0||yt&&"object"==typeof t)&&p.mutate({trans:i,type:"put",keys:me,values:_e,criteria:yt,changeSpec:"function"!=typeof t&&t}).then(Be=>V(_e.length,Be))).then(()=>(ke.length>0||yt&&t===jR)&&p.mutate({trans:i,type:"delete",keys:ke,criteria:yt}).then(Be=>V(ke.length,Be))).then(()=>j.length>G+Y&&$(G+w))})};return $(0).then(()=>{if(D.length>0)throw new JD("Error modifying one or more objects",D,S,O);return j.length})})})}delete(){var t=this._ctx,e=t.range;return Zg(t)&&(t.isPrimKey&&!TW||3===e.type)?this._write(i=>{const{primaryKey:o}=t.table.core.schema,a=e;return t.table.core.count({trans:i,query:{index:o,range:a}}).then(d=>t.table.core.mutate({trans:i,type:"deleteRange",range:a}).then(({failures:p,numFailures:w})=>{if(w)throw new JD("Could not delete some values",Object.keys(p).map(D=>p[D]),d-w);return d-w}))}):this.modify(jR)}}const jR=(n,t)=>t.value=null;function IW(n,t){return n<t?-1:n===t?0:1}function OW(n,t){return n>t?-1:n===t?0:1}function gs(n,t,e){var i=n instanceof l3?new n.Collection(n):n;return i._ctx.error=e?new e(t):new TypeError(t),i}function Qg(n){return new n.Collection(n,()=>c3("")).limit(0)}function PW(n,t,e,i,o,a){for(var d=Math.min(n.length,i.length),p=-1,g=0;g<d;++g){var y=t[g];if(y!==i[g])return o(n[g],e[g])<0?n.substr(0,g)+e[g]+e.substr(g+1):o(n[g],i[g])<0?n.substr(0,g)+i[g]+e.substr(g+1):p>=0?n.substr(0,p)+t[p]+e.substr(p+1):null;o(n[g],y)<0&&(p=g)}return d<i.length&&"next"===a?n+e.substr(n.length):d<n.length&&"prev"===a?n.substr(0,e.length):p<0?null:n.substr(0,p)+i[p]+e.substr(p+1)}function _1(n,t,e,i){var o,a,d,p,g,y,w,D=e.length;if(!e.every(j=>"string"==typeof j))return gs(n,"String expected.");function S(j){o="next"===j?Y=>Y.toUpperCase():Y=>Y.toLowerCase(),a="next"===j?Y=>Y.toLowerCase():Y=>Y.toUpperCase(),d="next"===j?IW:OW;var $=e.map(function(G){return{lower:a(G),upper:o(G)}}).sort(function(G,Y){return d(G.lower,Y.lower)});p=$.map(function(G){return G.upper}),g=$.map(function(G){return G.lower}),y=j,w="next"===j?"":i}S("next");var O=new n.Collection(n,()=>Su(p[0],g[D-1]+i));O._ondirectionchange=function(j){S(j)};var V=0;return O._addAlgorithm(function(j,$,G){var Y=j.key;if("string"!=typeof Y)return!1;var X=a(Y);if(t(X,g,V))return!0;for(var ce=null,_e=V;_e<D;++_e){var me=PW(Y,X,p[_e],g[_e],d,y);null===me&&null===ce?V=_e+1:(null===ce||d(ce,me)>0)&&(ce=me)}return $(null!==ce?function(){j.continue(ce+w)}:G),!1}),O}function Su(n,t,e,i){return{type:2,lower:n,upper:t,lowerOpen:e,upperOpen:i}}function c3(n){return{type:1,lower:n,upper:n}}class l3{get Collection(){return this._ctx.table.db.Collection}between(t,e,i,o){i=!1!==i,o=!0===o;try{return this._cmp(t,e)>0||0===this._cmp(t,e)&&(i||o)&&(!i||!o)?Qg(this):new this.Collection(this,()=>Su(t,e,!i,!o))}catch{return gs(this,Ql)}}equals(t){return null==t?gs(this,Ql):new this.Collection(this,()=>c3(t))}above(t){return null==t?gs(this,Ql):new this.Collection(this,()=>Su(t,void 0,!0))}aboveOrEqual(t){return null==t?gs(this,Ql):new this.Collection(this,()=>Su(t,void 0,!1))}below(t){return null==t?gs(this,Ql):new this.Collection(this,()=>Su(void 0,t,!1,!0))}belowOrEqual(t){return null==t?gs(this,Ql):new this.Collection(this,()=>Su(void 0,t))}startsWith(t){return"string"!=typeof t?gs(this,"String expected."):this.between(t,t+Up,!0,!0)}startsWithIgnoreCase(t){return""===t?this.startsWith(t):_1(this,(e,i)=>0===e.indexOf(i[0]),[t],Up)}equalsIgnoreCase(t){return _1(this,(e,i)=>e===i[0],[t],"")}anyOfIgnoreCase(){var t=Xl.apply(Wg,arguments);return 0===t.length?Qg(this):_1(this,(e,i)=>-1!==i.indexOf(e),t,"")}startsWithAnyOfIgnoreCase(){var t=Xl.apply(Wg,arguments);return 0===t.length?Qg(this):_1(this,(e,i)=>i.some(o=>0===e.indexOf(o)),t,Up)}anyOf(){const t=Xl.apply(Wg,arguments);let e=this._cmp;try{t.sort(e)}catch{return gs(this,Ql)}if(0===t.length)return Qg(this);const i=new this.Collection(this,()=>Su(t[0],t[t.length-1]));i._ondirectionchange=a=>{e="next"===a?this._ascending:this._descending,t.sort(e)};let o=0;return i._addAlgorithm((a,d,p)=>{const g=a.key;for(;e(g,t[o])>0;)if(++o,o===t.length)return d(p),!1;return 0===e(g,t[o])||(d(()=>{a.continue(t[o])}),!1)}),i}notEqual(t){return this.inAnyRange([[-1/0,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=Xl.apply(Wg,arguments);if(0===t.length)return new this.Collection(this);try{t.sort(this._ascending)}catch{return gs(this,Ql)}const e=t.reduce((i,o)=>i?i.concat([[i[i.length-1][1],o]]):[[-1/0,o]],null);return e.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,e){const i=this._cmp,o=this._ascending,a=this._descending,d=this._min,p=this._max;if(0===t.length)return Qg(this);if(!t.every(Y=>void 0!==Y[0]&&void 0!==Y[1]&&o(Y[0],Y[1])<=0))return gs(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Tt.InvalidArgument);const g=!e||!1!==e.includeLowers,y=e&&!0===e.includeUppers;let w,D=o;function S(Y,X){return D(Y[0],X[0])}try{w=t.reduce(function(Y,X){let ce=0,_e=Y.length;for(;ce<_e;++ce){const me=Y[ce];if(i(X[0],me[1])<0&&i(X[1],me[0])>0){me[0]=d(me[0],X[0]),me[1]=p(me[1],X[1]);break}}return ce===_e&&Y.push(X),Y},[]),w.sort(S)}catch{return gs(this,Ql)}let O=0;const V=y?Y=>o(Y,w[O][1])>0:Y=>o(Y,w[O][1])>=0,j=g?Y=>a(Y,w[O][0])>0:Y=>a(Y,w[O][0])>=0;let $=V;const G=new this.Collection(this,()=>Su(w[0][0],w[w.length-1][1],!g,!y));return G._ondirectionchange=Y=>{"next"===Y?($=V,D=o):($=j,D=a),w.sort(S)},G._addAlgorithm((Y,X,ce)=>{for(var _e=Y.key;$(_e);)if(++O,O===w.length)return X(ce),!1;return!((V(me=_e)||j(me))&&(0===this._cmp(_e,w[O][1])||0===this._cmp(_e,w[O][0])||X(()=>{Y.continue(D===o?w[O][0]:w[O][1])}),1));var me}),G}startsWithAnyOf(){const t=Xl.apply(Wg,arguments);return t.every(e=>"string"==typeof e)?0===t.length?Qg(this):this.inAnyRange(t.map(e=>[e,e+Up])):gs(this,"startsWithAnyOf() only works with strings")}}function Oc(n){return li(function(t){return v0(t),n(t.target.error),!1})}function v0(n){n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault()}const Tu=g0(null,"storagemutated");class FW{_lock(){return s0(!vt.global),++this._reculock,1!==this._reculock||vt.global||(vt.lockOwnerFor=this),this}_unlock(){if(s0(!vt.global),0==--this._reculock)for(vt.global||(vt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Xg(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&vt.lockOwnerFor!==this}create(t){if(!this.mode)return this;const e=this.db.idbdb,i=this.db._state.dbOpenError;if(s0(!this.idbtrans),!t&&!e)switch(i&&i.name){case"DatabaseClosedError":throw new Tt.DatabaseClosed(i);case"MissingAPIError":throw new Tt.MissingAPI(i.message,i);default:throw new Tt.OpenFailed(i)}if(!this.active)throw new Tt.TransactionInactive;return s0(null===this._completion._state),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):e.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=li(o=>{v0(o),this._reject(t.error)}),t.onabort=li(o=>{v0(o),this.active&&this._reject(new Tt.Abort(t.error)),this.active=!1,this.on("abort").fire(o)}),t.oncomplete=li(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Tu.storagemutated.fire(t.mutatedParts)}),this}_promise(t,e,i){if("readwrite"===t&&"readwrite"!==this.mode)return ur(new Tt.ReadOnly("Transaction is readonly"));if(!this.active)return ur(new Tt.TransactionInactive);if(this._locked())return new Ge((a,d)=>{this._blockedFuncs.push([()=>{this._promise(t,e,i).then(a,d)},vt])});if(i)return ku(()=>{var a=new Ge((d,p)=>{this._lock();const g=e(d,p,this);g&&g.then&&g.then(d,p)});return a.finally(()=>this._unlock()),a._lib=!0,a});var o=new Ge((a,d)=>{var p=e(a,d,this);p&&p.then&&p.then(a,d)});return o._lib=!0,o}_root(){return this.parent?this.parent._root():this}waitFor(t){var e=this._root();const i=Ge.resolve(t);if(e._waitingFor)e._waitingFor=e._waitingFor.then(()=>i);else{e._waitingFor=i,e._waitingQueue=[];var o=e.idbtrans.objectStore(e.storeNames[0]);!function d(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(o.get(-1/0).onsuccess=d)}()}var a=e._waitingFor;return new Ge((d,p)=>{i.then(g=>e._waitingQueue.push(li(d.bind(null,g))),g=>e._waitingQueue.push(li(p.bind(null,g)))).finally(()=>{e._waitingFor===a&&(e._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Tt.Abort))}table(t){const e=this._memoizedTables||(this._memoizedTables={});if(fs(e,t))return e[t];const i=this.schema[t];if(!i)throw new Tt.NotFound("Table "+t+" not part of transaction");const o=new this.db.Table(t,i,this);return o.core=this.db.core.table(t),e[t]=o,o}}function HR(n,t,e,i,o,a,d){return{name:n,keyPath:t,unique:e,multi:i,auto:o,compound:a,src:(e&&!d?"&":"")+(i?"*":"")+(o?"++":"")+d3(t)}}function d3(n){return"string"==typeof n?n:n?"["+[].join.call(n,"+")+"]":""}function u3(n,t,e){return{name:n,primKey:t,indexes:e,mappedClass:null,idxByName:NB(e,i=>[i.name,i])}}let y0=n=>{try{return n.only([[]]),y0=()=>[[]],[[]]}catch{return y0=()=>Up,Up}};function zR(n){return null==n?()=>{}:"string"==typeof n?1===(t=n).split(".").length?e=>e[t]:e=>Yl(e,t):t=>Yl(t,n);var t}function h3(n){return[].slice.call(n)}let NW=0;function b0(n){return null==n?":id":"string"==typeof n?n:`[${n.join("+")}]`}function LW(n,t,e){function i(g){if(3===g.type)return null;if(4===g.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:y,upper:w,lowerOpen:D,upperOpen:S}=g;return void 0===y?void 0===w?null:t.upperBound(w,!!S):void 0===w?t.lowerBound(y,!!D):t.bound(y,w,!!D,!!S)}const{schema:o,hasGetAll:a}=function(g,y){const w=h3(g.objectStoreNames);return{schema:{name:g.name,tables:w.map(D=>y.objectStore(D)).map(D=>{const{keyPath:S,autoIncrement:O}=D,V=oo(S),$={},G={name:D.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==S,compound:V,keyPath:S,autoIncrement:O,unique:!0,extractKey:zR(S)},indexes:h3(D.indexNames).map(Y=>D.index(Y)).map(Y=>{const{name:X,unique:ce,multiEntry:_e,keyPath:me}=Y,ke={name:X,compound:oo(me),keyPath:me,unique:ce,multiEntry:_e,extractKey:zR(me)};return $[b0(me)]=ke,ke}),getIndexByKeyPath:Y=>$[b0(Y)]};return $[":id"]=G.primaryKey,null!=S&&($[b0(S)]=G.primaryKey),G})},hasGetAll:w.length>0&&"getAll"in y.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(n,e),d=o.tables.map(g=>function(y){const w=y.name;return{name:w,schema:y,mutate:function({trans:D,type:S,keys:O,values:V,range:j}){return new Promise(($,G)=>{$=li($);const Y=D.objectStore(w),X=null==Y.keyPath,ce="put"===S||"add"===S;if(!ce&&"delete"!==S&&"deleteRange"!==S)throw new Error("Invalid operation type: "+S);const{length:_e}=O||V||{length:1};if(O&&V&&O.length!==V.length)throw new Error("Given keys array must have same length as given values array.");if(0===_e)return $({numFailures:0,failures:{},results:[],lastResult:void 0});let me;const ke=[],yt=[];let Be=0;const Yt=$i=>{++Be,v0($i)};if("deleteRange"===S){if(4===j.type)return $({numFailures:Be,failures:yt,results:[],lastResult:void 0});ke.push(me=3===j.type?Y.clear():Y.delete(i(j)))}else{const[$i,di]=ce?X?[V,O]:[V,null]:[O,null];if(ce)for(let ni=0;ni<_e;++ni)ke.push(me=di&&void 0!==di[ni]?Y[S]($i[ni],di[ni]):Y[S]($i[ni])),me.onerror=Yt;else for(let ni=0;ni<_e;++ni)ke.push(me=Y[S]($i[ni])),me.onerror=Yt}const Yn=$i=>{const di=$i.target.result;ke.forEach((ni,id)=>null!=ni.error&&(yt[id]=ni.error)),$({numFailures:Be,failures:yt,results:"delete"===S?O:ke.map(ni=>ni.result),lastResult:di})};me.onerror=$i=>{Yt($i),Yn($i)},me.onsuccess=Yn})},getMany:({trans:D,keys:S})=>new Promise((O,V)=>{O=li(O);const j=D.objectStore(w),$=S.length,G=new Array($);let Y,X=0,ce=0;const _e=ke=>{const yt=ke.target;G[yt._pos]=yt.result,++ce===X&&O(G)},me=Oc(V);for(let ke=0;ke<$;++ke)null!=S[ke]&&(Y=j.get(S[ke]),Y._pos=ke,Y.onsuccess=_e,Y.onerror=me,++X);0===X&&O(G)}),get:({trans:D,key:S})=>new Promise((O,V)=>{O=li(O);const j=D.objectStore(w).get(S);j.onsuccess=$=>O($.target.result),j.onerror=Oc(V)}),query:(D=a,S=>new Promise((O,V)=>{O=li(O);const{trans:j,values:$,limit:G,query:Y}=S,X=G===1/0?void 0:G,{index:ce,range:_e}=Y,me=j.objectStore(w),ke=ce.isPrimaryKey?me:me.index(ce.name),yt=i(_e);if(0===G)return O({result:[]});if(D){const Be=$?ke.getAll(yt,X):ke.getAllKeys(yt,X);Be.onsuccess=Yt=>O({result:Yt.target.result}),Be.onerror=Oc(V)}else{let Be=0;const Yt=$||!("openKeyCursor"in ke)?ke.openCursor(yt):ke.openKeyCursor(yt),Yn=[];Yt.onsuccess=$i=>{const di=Yt.result;return di?(Yn.push($?di.value:di.primaryKey),++Be===G?O({result:Yn}):void di.continue()):O({result:Yn})},Yt.onerror=Oc(V)}})),openCursor:function({trans:D,values:S,query:O,reverse:V,unique:j}){return new Promise(($,G)=>{$=li($);const{index:Y,range:X}=O,ce=D.objectStore(w),_e=Y.isPrimaryKey?ce:ce.index(Y.name),me=V?j?"prevunique":"prev":j?"nextunique":"next",ke=S||!("openKeyCursor"in _e)?_e.openCursor(i(X),me):_e.openKeyCursor(i(X),me);ke.onerror=Oc(G),ke.onsuccess=li(yt=>{const Be=ke.result;if(!Be)return void $(null);Be.___id=++NW,Be.done=!1;const Yt=Be.continue.bind(Be);let Yn=Be.continuePrimaryKey;Yn&&(Yn=Yn.bind(Be));const $i=Be.advance.bind(Be),di=()=>{throw new Error("Cursor not stopped")};Be.trans=D,Be.stop=Be.continue=Be.continuePrimaryKey=Be.advance=()=>{throw new Error("Cursor not started")},Be.fail=li(G),Be.next=function(){let ni=1;return this.start(()=>ni--?this.continue():this.stop()).then(()=>this)},Be.start=ni=>{const id=new Promise((He,it)=>{He=li(He),ke.onerror=Oc(it),Be.fail=it,Be.stop=Ut=>{Be.stop=Be.continue=Be.continuePrimaryKey=Be.advance=di,He(Ut)}}),Ve=()=>{if(ke.result)try{ni()}catch(He){Be.fail(He)}else Be.done=!0,Be.start=()=>{throw new Error("Cursor behind last entry")},Be.stop()};return ke.onsuccess=li(He=>{ke.onsuccess=Ve,Ve()}),Be.continue=Yt,Be.continuePrimaryKey=Yn,Be.advance=$i,Ve(),id},$(Be)},G)})},count({query:D,trans:S}){const{index:O,range:V}=D;return new Promise((j,$)=>{const G=S.objectStore(w),Y=O.isPrimaryKey?G:G.index(O.name),X=i(V),ce=X?Y.count(X):Y.count();ce.onsuccess=li(_e=>j(_e.target.result)),ce.onerror=Oc($)})}};var D}(g)),p={};return d.forEach(g=>p[g.name]=g),{stack:"dbcore",transaction:n.transaction.bind(n),table(g){if(!p[g])throw new Error(`Table '${g}' not found`);return p[g]},MIN_KEY:-1/0,MAX_KEY:y0(t),schema:o}}function $R({_novip:n},t){const i=function(o,a,{IDBKeyRange:d},g){return{dbcore:(w=LW(a,d,g),D=o.dbcore,D.reduce((S,{create:O})=>({...S,...O(S)}),w))};var w,D}(n._middlewares,t.db,n._deps,t);n.core=i.dbcore,n.tables.forEach(o=>{const a=o.name;n.core.schema.tables.some(d=>d.name===a)&&(o.core=n.core.table(a),n[a]instanceof n.Table&&(n[a].core=o.core))})}function v1({_novip:n},t,e,i){e.forEach(o=>{const a=i[o];t.forEach(d=>{const p=gR(d,o);(!p||"value"in p&&void 0===p.value)&&(d===n.Transaction.prototype||d instanceof n.Transaction?Kl(d,o,{get(){return this.table(o)},set(g){OB(this,o,{value:g,writable:!0,configurable:!0,enumerable:!0})}}):d[o]=new n.Table(o,a))})})}function UR({_novip:n},t){t.forEach(e=>{for(let i in e)e[i]instanceof n.Table&&delete e[i]})}function BW(n,t){return n._cfg.version-t._cfg.version}function p3(n,t){const e={del:[],add:[],change:[]};let i;for(i in n)t[i]||e.del.push(i);for(i in t){const o=n[i],a=t[i];if(o){const d={name:i,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||o.primKey.auto!==a.primKey.auto&&!p1)d.recreate=!0,e.change.push(d);else{const p=o.idxByName,g=a.idxByName;let y;for(y in p)g[y]||d.del.push(y);for(y in g){const w=p[y],D=g[y];w?w.src!==D.src&&d.change.push(D):d.add.push(D)}(d.del.length>0||d.add.length>0||d.change.length>0)&&e.change.push(d)}}else e.add.push([i,a])}return e}function GR(n,t,e,i){const o=n.db.createObjectStore(t,e.keyPath?{keyPath:e.keyPath,autoIncrement:e.auto}:{autoIncrement:e.auto});return i.forEach(a=>WR(o,a)),o}function WR(n,t){n.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function qR(n,t,e){const i={};return QD(t.objectStoreNames,0).forEach(o=>{const a=e.objectStore(o);let d=a.keyPath;const p=HR(d3(d),d||"",!1,!1,!!a.autoIncrement,d&&"string"!=typeof d,!0),g=[];for(let w=0;w<a.indexNames.length;++w){const D=a.index(a.indexNames[w]);d=D.keyPath;var y=HR(D.name,d,!!D.unique,!!D.multiEntry,!1,d&&"string"!=typeof d,!1);g.push(y)}i[o]=u3(o,p,g)}),i}function KR({_novip:n},t,e){const i=e.db.objectStoreNames;for(let o=0;o<i.length;++o){const a=i[o],d=e.objectStore(a);n._hasGetAll="getAll"in d;for(let p=0;p<d.indexNames.length;++p){const g=d.indexNames[p],y=d.index(g).keyPath,w="string"==typeof y?y:"["+QD(y).join("+")+"]";if(t[a]){const D=t[a].idxByName[w];D&&(D.name=g,delete t[a].idxByName[w],t[a].idxByName[g]=D)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ti.WorkerGlobalScope&&ti instanceof ti.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(n._hasGetAll=!1)}class jW{_parseStoresSpec(t,e){tr(t).forEach(i=>{if(null!==t[i]){var o=t[i].split(",").map((d,p)=>{const g=(d=d.trim()).replace(/([&*]|\+\+)/g,""),y=/^\[/.test(g)?g.match(/^\[(.*)\]$/)[1].split("+"):g;return HR(g,y||null,/\&/.test(d),/\*/.test(d),/\+\+/.test(d),oo(y),0===p)}),a=o.shift();if(a.multi)throw new Tt.Schema("Primary key cannot be multi-valued");o.forEach(d=>{if(d.auto)throw new Tt.Schema("Only primary key can be marked as autoIncrement (++)");if(!d.keyPath)throw new Tt.Schema("Index must have a name and cannot be an empty string")}),e[i]=u3(i,a,o)}})}stores(t){const e=this.db;this._cfg.storesSource=this._cfg.storesSource?ko(this._cfg.storesSource,t):t;const o={};let a={};return e._versions.forEach(d=>{ko(o,d._cfg.storesSource),a=d._cfg.dbschema={},d._parseStoresSpec(o,a)}),e._dbSchema=a,UR(e,[e._allTables,e,e.Transaction.prototype]),v1(e,[e._allTables,e,e.Transaction.prototype,this._cfg.tables],tr(a),a),e._storeNames=tr(a),this}upgrade(t){return this._cfg.contentUpgrade=CR(this._cfg.contentUpgrade||Hn,t),this}}function YR(n,t){let e=n._dbNamesDB;return e||(e=n._dbNamesDB=new Wp("__dbnames",{addons:[],indexedDB:n,IDBKeyRange:t}),e.version(1).stores({dbnames:"name"})),e.table("dbnames")}function XR(n){return n&&"function"==typeof n.databases}function ZR(n){return ku(function(){return vt.letThrough=!0,n()})}function HW(){var n;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var e=function(){return indexedDB.databases().finally(t)};n=setInterval(e,100),e()}).finally(function(){return clearInterval(n)}):Promise.resolve()}function QR(n){var t=a=>n.next(a),e=o(t),i=o(a=>n.throw(a));function o(a){return d=>{var p=a(d),g=p.value;return p.done?g:g&&"function"==typeof g.then?g.then(e,i):oo(g)?Promise.all(g).then(e,i):e(g)}}return o(t)()}function $W(n,t,e){var i=arguments.length;if(i<2)throw new Tt.InvalidArgument("Too few arguments");for(var o=new Array(i-1);--i;)o[i-1]=arguments[i];e=o.pop();var a=BB(o);return[n,a,e]}function m3(n,t,e,i,o){return Ge.resolve().then(()=>{const a=vt.transless||vt,d=n._createTransaction(t,e,n._dbSchema,i),p={trans:d,transless:a};if(i)d.idbtrans=i.idbtrans;else try{d.create(),n._state.PR1398_maxLoop=3}catch(D){return D.name===ER.InvalidState&&n.isOpen()&&--n._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),n._close(),n.open().then(()=>m3(n,t,e,null,o))):ur(D)}const g=bR(o);let y;g&&Yg();const w=Ge.follow(()=>{if(y=o.call(d,d),y)if(g){var D=Zl.bind(null,null);y.then(D,D)}else"function"==typeof y.next&&"function"==typeof y.throw&&(y=QR(y))},p);return(y&&"function"==typeof y.then?Ge.resolve(y).then(D=>d.active?D:ur(new Tt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):w.then(()=>y)).then(D=>(i&&d._resolve(),d._completion.then(()=>D))).catch(D=>(d._reject(D),ur(D)))})}function y1(n,t,e){const i=oo(n)?n.slice():[n];for(let o=0;o<e;++o)i.push(t);return i}const UW={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(n){return{...n,table(t){const e=n.table(t),{schema:i}=e,o={},a=[];function d(w,D,S){const O=b0(w),V=o[O]=o[O]||[],j=null==w?0:"string"==typeof w?1:w.length,$=D>0,G={...S,isVirtual:$,keyTail:D,keyLength:j,extractKey:zR(w),unique:!$&&S.unique};return V.push(G),G.isPrimaryKey||a.push(G),j>1&&d(2===j?w[0]:w.slice(0,j-1),D+1,S),V.sort((Y,X)=>Y.keyTail-X.keyTail),G}const p=d(i.primaryKey.keyPath,0,i.primaryKey);o[":id"]=[p];for(const w of i.indexes)d(w.keyPath,0,w);function g(w){const D=w.query.index;return D.isVirtual?{...w,query:{index:D,range:(S=w.query.range,O=D.keyTail,{type:1===S.type?2:S.type,lower:y1(S.lower,S.lowerOpen?n.MAX_KEY:n.MIN_KEY,O),lowerOpen:!0,upper:y1(S.upper,S.upperOpen?n.MIN_KEY:n.MAX_KEY,O),upperOpen:!0})}}:w;var S,O}return{...e,schema:{...i,primaryKey:p,indexes:a,getIndexByKeyPath:function(w){const D=o[b0(w)];return D&&D[0]}},count:w=>e.count(g(w)),query:w=>e.query(g(w)),openCursor(w){const{keyTail:D,isVirtual:S,keyLength:O}=w.query.index;return S?e.openCursor(g(w)).then(V=>{return V&&(j=V,Object.create(j,{continue:{value:function(G){null!=G?j.continue(y1(G,w.reverse?n.MAX_KEY:n.MIN_KEY,D)):w.unique?j.continue(j.key.slice(0,O).concat(w.reverse?n.MIN_KEY:n.MAX_KEY,D)):j.continue()}},continuePrimaryKey:{value(G,Y){j.continuePrimaryKey(y1(G,n.MAX_KEY,D),Y)}},primaryKey:{get:()=>j.primaryKey},key:{get(){const G=j.key;return 1===O?G[0]:G.slice(0,O)}},value:{get:()=>j.value}}));var j}):e.openCursor(w)}}}}}};function JR(n,t,e,i){return e=e||{},i=i||"",tr(n).forEach(o=>{if(fs(t,o)){var a=n[o],d=t[o];if("object"==typeof a&&"object"==typeof d&&a&&d){const p=vR(a);p!==vR(d)?e[i+o]=t[o]:"Object"===p?JR(a,d,e,i+o+"."):a!==d&&(e[i+o]=t[o])}else a!==d&&(e[i+o]=t[o])}else e[i+o]=void 0}),tr(t).forEach(o=>{fs(n,o)||(e[i+o]=t[o])}),e}const GW={stack:"dbcore",name:"HooksMiddleware",level:2,create:n=>({...n,table(t){const e=n.table(t),{primaryKey:i}=e.schema;return{...e,mutate(a){const d=vt.trans,{deleting:p,creating:g,updating:y}=d.table(t).hook;switch(a.type){case"add":if(g.fire===Hn)break;return d._promise("readwrite",()=>w(a),!0);case"put":if(g.fire===Hn&&y.fire===Hn)break;return d._promise("readwrite",()=>w(a),!0);case"delete":if(p.fire===Hn)break;return d._promise("readwrite",()=>w(a),!0);case"deleteRange":if(p.fire===Hn)break;return d._promise("readwrite",()=>{return D((S=a).trans,S.range,1e4);var S},!0)}return e.mutate(a);function w(S){const O=vt.trans,V=S.keys||("delete"===($=S).type?$.keys:$.keys||$.values.map(i.extractKey));var $;if(!V)throw new Error("Keys missing");return"delete"!==(S="add"===S.type||"put"===S.type?{...S,keys:V}:{...S}).type&&(S.values=[...S.values]),S.keys&&(S.keys=[...S.keys]),function(j,$,G){return"add"===$.type?Promise.resolve([]):j.getMany({trans:$.trans,keys:G,cache:"immutable"})}(e,S,V).then(j=>{const $=V.map((G,Y)=>{const X=j[Y],ce={onerror:null,onsuccess:null};if("delete"===S.type)p.fire.call(ce,G,X,O);else if("add"===S.type||void 0===X){const _e=g.fire.call(ce,G,S.values[Y],O);null==G&&null!=_e&&(S.keys[Y]=G=_e,i.outbound||Ga(S.values[Y],i.keyPath,G))}else{const _e=JR(X,S.values[Y]),me=y.fire.call(ce,_e,G,X,O);if(me){const ke=S.values[Y];Object.keys(me).forEach(yt=>{fs(ke,yt)?ke[yt]=me[yt]:Ga(ke,yt,me[yt])})}}return ce});return e.mutate(S).then(({failures:G,results:Y,numFailures:X,lastResult:ce})=>{for(let _e=0;_e<V.length;++_e){const me=Y?Y[_e]:V[_e],ke=$[_e];null==me?ke.onerror&&ke.onerror(G[_e]):ke.onsuccess&&ke.onsuccess("put"===S.type&&j[_e]?S.values[_e]:me)}return{failures:G,results:Y,numFailures:X,lastResult:ce}}).catch(G=>($.forEach(Y=>Y.onerror&&Y.onerror(G)),Promise.reject(G)))})}function D(S,O,V){return e.query({trans:S,values:!1,query:{index:i,range:O},limit:V}).then(({result:j})=>w({type:"delete",keys:j,trans:S}).then($=>$.numFailures>0?Promise.reject($.failures[0]):j.length<V?{failures:[],numFailures:0,lastResult:void 0}:D(S,{...O,lower:j[j.length-1],lowerOpen:!0},V)))}}}}})};function f3(n,t,e){try{if(!t||t.keys.length<n.length)return null;const i=[];for(let o=0,a=0;o<t.keys.length&&a<n.length;++o)0===Mo(t.keys[o],n[a])&&(i.push(e?a0(t.values[o]):t.values[o]),++a);return i.length===n.length?i:null}catch{return null}}const WW={stack:"dbcore",level:-1,create:n=>({table:t=>{const e=n.table(t);return{...e,getMany:i=>{if(!i.cache)return e.getMany(i);const o=f3(i.keys,i.trans._cache,"clone"===i.cache);return o?Ge.resolve(o):e.getMany(i).then(a=>(i.trans._cache={keys:i.keys,values:"clone"===i.cache?a0(a):a},a))},mutate:i=>("add"!==i.type&&(i.trans._cache=null),e.mutate(i))}}})};function eI(n){return!("from"in n)}const Jl=function(n,t){if(!this){const e=new Jl;return n&&"d"in n&&ko(e,n),e}ko(this,arguments.length?{d:1,from:n,to:arguments.length>1?t:n}:{d:0})};function x0(n,t,e){const i=Mo(t,e);if(isNaN(i))return;if(i>0)throw RangeError();if(eI(n))return ko(n,{from:t,to:e,d:1});const o=n.l,a=n.r;if(Mo(e,n.from)<0)return o?x0(o,t,e):n.l={from:t,to:e,d:1,l:null,r:null},g3(n);if(Mo(t,n.to)>0)return a?x0(a,t,e):n.r={from:t,to:e,d:1,l:null,r:null},g3(n);Mo(t,n.from)<0&&(n.from=t,n.l=null,n.d=a?a.d+1:1),Mo(e,n.to)>0&&(n.to=e,n.r=null,n.d=n.l?n.l.d+1:1);const d=!n.r;o&&!n.l&&b1(n,o),a&&d&&b1(n,a)}function b1(n,t){eI(t)||function e(i,{from:o,to:a,l:d,r:p}){x0(i,o,a),d&&e(i,d),p&&e(i,p)}(n,t)}function tI(n){let t=eI(n)?null:{s:0,n};return{next(e){const i=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,i)for(;t.n.l&&Mo(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!i||Mo(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function g3(n){var t,e;const i=((null===(t=n.r)||void 0===t?void 0:t.d)||0)-((null===(e=n.l)||void 0===e?void 0:e.d)||0),o=i>1?"r":i<-1?"l":"";if(o){const a="r"===o?"l":"r",d={...n},p=n[o];n.from=p.from,n.to=p.to,n[o]=p[o],d[o]=p[a],n[a]=d,d.d=_3(d)}n.d=_3(n)}function _3({r:n,l:t}){return(n?t?Math.max(n.d,t.d):n.d:t?t.d:0)+1}Ug(Jl.prototype,{add(n){return b1(this,n),this},addKey(n){return x0(this,n,n),this},addKeys(n){return n.forEach(t=>x0(this,t,t)),this},[yR](){return tI(this)}});const KW={stack:"dbcore",level:0,create:n=>{const t=n.schema.name,e=new Jl(n.MIN_KEY,n.MAX_KEY);return{...n,table:i=>{const o=n.table(i),{schema:a}=o,{primaryKey:d}=a,{extractKey:p,outbound:g}=d,y={...o,mutate:S=>{const O=S.trans,V=O.mutatedParts||(O.mutatedParts={}),j=me=>{const ke=`idb://${t}/${i}/${me}`;return V[ke]||(V[ke]=new Jl)},$=j(""),G=j(":dels"),{type:Y}=S;let[X,ce]="deleteRange"===S.type?[S.range]:"delete"===S.type?[S.keys]:S.values.length<50?[[],S.values]:[];const _e=S.trans._cache;return o.mutate(S).then(me=>{if(oo(X)){"delete"!==Y&&(X=me.results),$.addKeys(X);const ke=f3(X,_e);ke||"add"===Y||G.addKeys(X),(ke||ce)&&(yt=j,Yt=ke,Yn=ce,a.indexes.forEach(function $i(di){const ni=yt(di.name||"");function id(He){return null!=He?di.extractKey(He):null}const Ve=He=>di.multiEntry&&oo(He)?He.forEach(it=>ni.addKey(it)):ni.addKey(He);(Yt||Yn).forEach((He,it)=>{const Ut=Yt&&id(Yt[it]),Si=Yn&&id(Yn[it]);0!==Mo(Ut,Si)&&(null!=Ut&&Ve(Ut),null!=Si&&Ve(Si))})}))}else if(X){const ke={from:X.lower,to:X.upper};G.add(ke),$.add(ke)}else $.add(e),G.add(e),a.indexes.forEach(ke=>j(ke.name).add(e));var yt,Yt,Yn;return me})}},w=({query:{index:S,range:O}})=>{var V,j;return[S,new Jl(null!==(V=O.lower)&&void 0!==V?V:n.MIN_KEY,null!==(j=O.upper)&&void 0!==j?j:n.MAX_KEY)]},D={get:S=>[d,new Jl(S.key)],getMany:S=>[d,(new Jl).addKeys(S.keys)],count:w,query:w,openCursor:w};return tr(D).forEach(S=>{y[S]=function(O){const{subscr:V}=vt;if(V){const j=ce=>{const _e=`idb://${t}/${i}/${ce}`;return V[_e]||(V[_e]=new Jl)},$=j(""),G=j(":dels"),[Y,X]=D[S](O);if(j(Y.name||"").add(X),!Y.isPrimaryKey){if("count"!==S){const ce="query"===S&&g&&O.values&&o.query({...O,values:!1});return o[S].apply(this,arguments).then(_e=>{if("query"===S){if(g&&O.values)return ce.then(({result:ke})=>($.addKeys(ke),_e));const me=O.values?_e.result.map(p):_e.result;O.values?$.addKeys(me):G.addKeys(me)}else if("openCursor"===S){const me=_e,ke=O.values;return me&&Object.create(me,{key:{get:()=>(G.addKey(me.primaryKey),me.key)},primaryKey:{get(){const yt=me.primaryKey;return G.addKey(yt),yt}},value:{get:()=>(ke&&$.addKey(me.primaryKey),me.value)}})}return _e})}G.add(e)}}return o[S].apply(this,arguments)}}),y}}}};class Wp{constructor(t,e){this._middlewares={},this.verno=0;const i=Wp.dependencies;this._options=e={addons:Wp.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,...e},this._deps={indexedDB:e.indexedDB,IDBKeyRange:e.IDBKeyRange};const{addons:o}=e;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Hn,dbReadyPromise:null,cancelOpen:Hn,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var d,p;a.dbReadyPromise=new Ge(p=>{a.dbReadyResolve=p}),a.openCanceller=new Ge((p,g)=>{a.cancelOpen=g}),this._state=a,this.name=t,this.on=g0(this,"populate","blocked","versionchange","close",{ready:[CR,Hn]}),this.on.ready.subscribe=PB(this.on.ready.subscribe,p=>(g,y)=>{Wp.vip(()=>{const w=this._state;if(w.openComplete)w.dbOpenError||Ge.resolve().then(g),y&&p(g);else if(w.onReadyBeingFired)w.onReadyBeingFired.push(g),y&&p(g);else{p(g);const D=this;y||p(function S(){D.on.ready.unsubscribe(g),D.on.ready.unsubscribe(S)})}})}),this.Collection=(d=this,_0(RW.prototype,function(p,g){this.db=d;let y=n3,w=null;if(g)try{y=g()}catch(V){w=V}const D=p._ctx,S=D.table,O=S.hook.reading.fire;this._ctx={table:S,index:D.index,isPrimKey:!D.index||S.schema.primKey.keyPath&&D.index===S.schema.primKey.name,range:y,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:w,or:D.or,valueMapper:O!==l0?O:null}})),this.Table=(p=this,_0(AW.prototype,function(g,y,w){this.db=p,this._tx=w,this.name=g,this.schema=y,this.hook=p._allTables[g]?p._allTables[g].hook:g0(null,{creating:[vW,Hn],reading:[_W,l0],updating:[bW,Hn],deleting:[yW,Hn]})})),this.Transaction=function(p){return _0(FW.prototype,function(g,y,w,D,S){this.db=p,this.mode=g,this.storeNames=y,this.schema=w,this.chromeTransactionDurability=D,this.idbtrans=null,this.on=g0(this,"complete","error","abort"),this.parent=S||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ge((O,V)=>{this._resolve=O,this._reject=V}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},O=>{var V=this.active;return this.active=!1,this.on.error.fire(O),this.parent?this.parent._reject(O):V&&this.idbtrans&&this.idbtrans.abort(),ur(O)})})}(this),this.Version=function(p){return _0(jW.prototype,function(g){this.db=p,this._cfg={version:g,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(p){return _0(l3.prototype,function(g,y,w){this.db=p,this._ctx={table:g,index:":id"===y?null:y,or:w};const D=p._deps.indexedDB;if(!D)throw new Tt.MissingAPI;this._cmp=this._ascending=D.cmp.bind(D),this._descending=(S,O)=>D.cmp(O,S),this._max=(S,O)=>D.cmp(S,O)>0?S:O,this._min=(S,O)=>D.cmp(S,O)<0?S:O,this._IDBKeyRange=p._deps.IDBKeyRange})}(this),this.on("versionchange",p=>{p.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",p=>{!p.newVersion||p.newVersion<p.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${p.oldVersion/10}`)}),this._maxKey=y0(e.IDBKeyRange),this._createTransaction=(p,g,y,w)=>new this.Transaction(p,g,y,this._options.chromeTransactionDurability,w),this._fireOnBlocked=p=>{this.on("blocked").fire(p),f0.filter(g=>g.name===this.name&&g!==this&&!g._state.vcFired).map(g=>g.on("versionchange").fire(p))},this.use(UW),this.use(GW),this.use(KW),this.use(WW),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(p=>p(this))}version(t){if(isNaN(t)||t<.1)throw new Tt.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new Tt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const e=this._versions;var i=e.filter(o=>o._cfg.version===t)[0];return i||(i=new this.Version(t),e.push(i),e.sort(BW),i.stores({}),this._state.autoSchema=!1,i)}_whenReady(t){return this.idbdb&&(this._state.openComplete||vt.letThrough||this._vip)?t():new Ge((e,i)=>{if(this._state.openComplete)return i(new Tt.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void i(new Tt.DatabaseClosed);this.open().catch(Hn)}this._state.dbReadyPromise.then(e,i)}).then(t)}use({stack:t,create:e,level:i,name:o}){o&&this.unuse({stack:t,name:o});const a=this._middlewares[t]||(this._middlewares[t]=[]);return a.push({stack:t,create:e,level:i??10,name:o}),a.sort((d,p)=>d.level-p.level),this}unuse({stack:t,name:e,create:i}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(o=>i?o.create!==i:!!e&&o.name!==e)),this}open(){return function zW(n){const t=n._state,{indexedDB:e}=n._deps;if(t.isBeingOpened||n.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?ur(t.dbOpenError):n);Ic&&(t.openCanceller._stackHolder=jp()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const i=t.openCanceller;function o(){if(t.openCanceller!==i)throw new Tt.DatabaseClosed("db.open() was cancelled")}let a=t.dbReadyResolve,d=null,p=!1;return Ge.race([i,(typeof navigator>"u"?Ge.resolve():HW()).then(()=>new Ge((g,y)=>{if(o(),!e)throw new Tt.MissingAPI;const w=n.name,D=t.autoSchema?e.open(w):e.open(w,Math.round(10*n.verno));if(!D)throw new Tt.MissingAPI;D.onerror=Oc(y),D.onblocked=li(n._fireOnBlocked),D.onupgradeneeded=li(S=>{if(d=D.transaction,t.autoSchema&&!n._options.allowEmptyDB){D.onerror=v0,d.abort(),D.result.close();const V=e.deleteDatabase(w);V.onsuccess=V.onerror=li(()=>{y(new Tt.NoSuchDatabase(`Database ${w} doesnt exist`))})}else{d.onerror=Oc(y);var O=S.oldVersion>Math.pow(2,62)?0:S.oldVersion;p=O<1,n._novip.idbdb=D.result,function VW(n,t,e,i){const o=n._dbSchema,a=n._createTransaction("readwrite",n._storeNames,o);a.create(e),a._completion.catch(i);const d=a._reject.bind(a),p=vt.transless||vt;ku(()=>{vt.trans=a,vt.transless=p,0===t?(tr(o).forEach(g=>{GR(e,g,o[g].primKey,o[g].indexes)}),$R(n,e),Ge.follow(()=>n.on.populate.fire(a)).catch(d)):function({_novip:g},y,w,D){const S=[],O=g._versions;let V=g._dbSchema=qR(0,g.idbdb,D),j=!1;return O.filter(G=>G._cfg.version>=y).forEach(G=>{S.push(()=>{const Y=V,X=G._cfg.dbschema;KR(g,Y,D),KR(g,X,D),V=g._dbSchema=X;const ce=p3(Y,X);ce.add.forEach(me=>{GR(D,me[0],me[1].primKey,me[1].indexes)}),ce.change.forEach(me=>{if(me.recreate)throw new Tt.Upgrade("Not yet support for changing primary key");{const ke=D.objectStore(me.name);me.add.forEach(yt=>WR(ke,yt)),me.change.forEach(yt=>{ke.deleteIndex(yt.name),WR(ke,yt)}),me.del.forEach(yt=>ke.deleteIndex(yt))}});const _e=G._cfg.contentUpgrade;if(_e&&G._cfg.version>y){$R(g,D),w._memoizedTables={},j=!0;let me=LB(X);ce.del.forEach(Yt=>{me[Yt]=Y[Yt]}),UR(g,[g.Transaction.prototype]),v1(g,[g.Transaction.prototype],tr(me),me),w.schema=me;const ke=bR(_e);let yt;ke&&Yg();const Be=Ge.follow(()=>{if(yt=_e(w),yt&&ke){var Yt=Zl.bind(null,null);yt.then(Yt,Yt)}});return yt&&"function"==typeof yt.then?Ge.resolve(yt):Be.then(()=>yt)}}),S.push(Y=>{var X,ce;(!j||!SW)&&(X=G._cfg.dbschema,[].slice.call((ce=Y).db.objectStoreNames).forEach(_e=>null==X[_e]&&ce.db.deleteObjectStore(_e))),UR(g,[g.Transaction.prototype]),v1(g,[g.Transaction.prototype],g._storeNames,g._dbSchema),w.schema=g._dbSchema})}),function $(){return S.length?Ge.resolve(S.shift()(w.idbtrans)).then($):Ge.resolve()}().then(()=>{var G,Y;Y=D,tr(G=V).forEach(X=>{Y.db.objectStoreNames.contains(X)||GR(Y,X,G[X].primKey,G[X].indexes)})})}(n,t,a,e).catch(d)})}(n,O/10,d,y)}},y),D.onsuccess=li(()=>{d=null;const S=n._novip.idbdb=D.result,O=QD(S.objectStoreNames);if(O.length>0)try{const j=S.transaction(1===(V=O).length?V[0]:V,"readonly");t.autoSchema?function({_novip:$},G,Y){$.verno=G.version/10;const X=$._dbSchema=qR(0,G,Y);$._storeNames=QD(G.objectStoreNames,0),v1($,[$._allTables],tr(X),X)}(n,S,j):(KR(n,n._dbSchema,j),function($,G){const Y=p3(qR(0,$.idbdb,G),$._dbSchema);return!(Y.add.length||Y.change.some(X=>X.add.length||X.change.length))}(n,j)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),$R(n,j)}catch{}var V;f0.push(n),S.onversionchange=li(j=>{t.vcFired=!0,n.on("versionchange").fire(j)}),S.onclose=li(j=>{n.on("close").fire(j)}),p&&function({indexedDB:j,IDBKeyRange:$},G){!XR(j)&&"__dbnames"!==G&&YR(j,$).put({name:G}).catch(Hn)}(n._deps,w),g()},y)}))]).then(()=>(o(),t.onReadyBeingFired=[],Ge.resolve(ZR(()=>n.on.ready.fire(n.vip))).then(function g(){if(t.onReadyBeingFired.length>0){let y=t.onReadyBeingFired.reduce(CR,Hn);return t.onReadyBeingFired=[],Ge.resolve(ZR(()=>y(n.vip))).then(g)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>n).catch(g=>{t.dbOpenError=g;try{d&&d.abort()}catch{}return i===t.openCanceller&&n._close(),ur(g)}).finally(()=>{t.openComplete=!0,a()})}(this)}_close(){const t=this._state,e=f0.indexOf(this);if(e>=0&&f0.splice(e,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new Ge(i=>{t.dbReadyResolve=i}),t.openCanceller=new Ge((i,o)=>{t.cancelOpen=o})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Tt.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,e=this._state;return new Ge((i,o)=>{const a=()=>{this.close();var d=this._deps.indexedDB.deleteDatabase(this.name);d.onsuccess=li(()=>{(function({indexedDB:p,IDBKeyRange:g},y){!XR(p)&&"__dbnames"!==y&&YR(p,g).delete(y).catch(Hn)})(this._deps,this.name),i()}),d.onerror=Oc(o),d.onblocked=this._fireOnBlocked};if(t)throw new Tt.InvalidArgument("Arguments not allowed in db.delete()");e.isBeingOpened?e.dbReadyPromise.then(a):a()})}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const t=this._state.dbOpenError;return t&&"DatabaseClosed"===t.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return tr(this._allTables).map(t=>this._allTables[t])}transaction(){const t=$W.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,e,i){let o=vt.trans;o&&o.db===this&&-1===t.indexOf("!")||(o=null);const a=-1!==t.indexOf("?");let d,p;t=t.replace("!","").replace("?","");try{if(p=e.map(y=>{var w=y instanceof this.Table?y.name:y;if("string"!=typeof w)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return w}),"r"==t||"readonly"===t)d="readonly";else{if("rw"!=t&&"readwrite"!=t)throw new Tt.InvalidArgument("Invalid transaction mode: "+t);d="readwrite"}if(o){if("readonly"===o.mode&&"readwrite"===d){if(!a)throw new Tt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&p.forEach(y=>{if(o&&-1===o.storeNames.indexOf(y)){if(!a)throw new Tt.SubTransaction("Table "+y+" not included in parent transaction.");o=null}}),a&&o&&!o.active&&(o=null)}}catch(y){return o?o._promise(null,(w,D)=>{D(y)}):ur(y)}const g=m3.bind(null,this,d,p,o,i);return o?o._promise(d,g,"lock"):vt.trans?Xg(vt.transless,()=>this._whenReady(g)):this._whenReady(g)}table(t){if(!fs(this._allTables,t))throw new Tt.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const YW=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class XW{constructor(t){this._subscribe=t}subscribe(t,e,i){return this._subscribe(t&&"function"!=typeof t?t:{next:t,error:e,complete:i})}[YW](){return this}}function v3(n,t){return tr(t).forEach(e=>{b1(n[e]||(n[e]=new Jl),t[e])}),n}let nI;try{nI={indexedDB:ti.indexedDB||ti.mozIndexedDB||ti.webkitIndexedDB||ti.msIndexedDB,IDBKeyRange:ti.IDBKeyRange||ti.webkitIDBKeyRange}}catch{nI={indexedDB:null,IDBKeyRange:null}}const qp=Wp;function x1(n){let t=ed;try{ed=!0,Tu.storagemutated.fire(n)}finally{ed=t}}Ug(qp,{...e1,delete:n=>new qp(n,{addons:[]}).delete(),exists:n=>new qp(n,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(n){try{return function({indexedDB:t,IDBKeyRange:e}){return XR(t)?Promise.resolve(t.databases()).then(i=>i.map(o=>o.name).filter(o=>"__dbnames"!==o)):YR(t,e).toCollection().primaryKeys()}(qp.dependencies).then(n)}catch{return ur(new Tt.MissingAPI)}},defineClass:()=>function(n){ko(this,n)},ignoreTransaction:n=>vt.trans?Xg(vt.transless,n):n(),vip:ZR,async:function(n){return function(){try{var t=QR(n.apply(this,arguments));return t&&"function"==typeof t.then?t:Ge.resolve(t)}catch(e){return ur(e)}}},spawn:function(n,t,e){try{var i=QR(n.apply(e,t||[]));return i&&"function"==typeof i.then?i:Ge.resolve(i)}catch(o){return ur(o)}},currentTransaction:{get:()=>vt.trans||null},waitFor:function(n,t){const e=Ge.resolve("function"==typeof n?qp.ignoreTransaction(n):n).timeout(t||6e4);return vt.trans?vt.trans.waitFor(e):e},Promise:Ge,debug:{get:()=>Ic,set:n=>{jB(n,"dexie"===n?()=>!0:t3)}},derive:Gg,extend:ko,props:Ug,override:PB,Events:g0,on:Tu,liveQuery:function ZW(n){return new XW(t=>{const e=bR(n);let i=!1,o={},a={};const d={get closed(){return i},unsubscribe:()=>{i=!0,Tu.storagemutated.unsubscribe(w)}};t.start&&t.start(d);let p=!1,g=!1;function y(){return tr(a).some(S=>o[S]&&function qW(n,t){const e=tI(t);let i=e.next();if(i.done)return!1;let o=i.value;const a=tI(n);let d=a.next(o.from),p=d.value;for(;!i.done&&!d.done;){if(Mo(p.from,o.to)<=0&&Mo(p.to,o.from)>=0)return!0;Mo(o.from,p.from)<0?o=(i=e.next(p.from)).value:p=(d=a.next(o.from)).value}return!1}(o[S],a[S]))}const w=S=>{v3(o,S),y()&&D()},D=()=>{if(p||i)return;o={};const S={},O=function(V){e&&Yg();const j=()=>ku(n,{subscr:V,trans:null}),$=vt.trans?Xg(vt.transless,j):j();return e&&$.then(Zl,Zl),$}(S);g||(Tu("storagemutated",w),g=!0),p=!0,Promise.resolve(O).then(V=>{p=!1,i||(y()?D():(o={},a=S,t.next&&t.next(V)))},V=>{p=!1,t.error&&t.error(V),d.unsubscribe()})};return D(),d})},extendObservabilitySet:v3,getByKeyPath:Yl,setByKeyPath:Ga,delByKeyPath:function(n,t){"string"==typeof t?Ga(n,t,void 0):"length"in t&&[].map.call(t,function(e){Ga(n,e,void 0)})},shallowClone:LB,deepClone:a0,getObjectDiff:JR,cmp:Mo,asap:FB,minKey:-1/0,addons:[],connections:f0,errnames:ER,dependencies:nI,semVer:"3.2.2",version:"3.2.2".split(".").map(n=>parseInt(n)).reduce((n,t,e)=>n+t/Math.pow(10,2*e))}),qp.maxKey=y0(qp.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Tu("storagemutated",n=>{if(!ed){let t;p1?(t=document.createEvent("CustomEvent"),t.initCustomEvent("x-storagemutated-1",!0,!0,n)):t=new CustomEvent("x-storagemutated-1",{detail:n}),ed=!0,dispatchEvent(t),ed=!1}}),addEventListener("x-storagemutated-1",({detail:n})=>{ed||x1(n)}));let ed=!1;if(typeof BroadcastChannel<"u"){const n=new BroadcastChannel("x-storagemutated-1");Tu("storagemutated",t=>{ed||n.postMessage(t)}),n.onmessage=t=>{t.data&&x1(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Tu("storagemutated",t=>{try{ed||(typeof localStorage<"u"&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:t})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(e=>e.postMessage({type:"x-storagemutated-1",changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if("x-storagemutated-1"===t.key){const e=JSON.parse(t.newValue);e&&x1(e.changedParts)}});const n=self.document&&navigator.serviceWorker;n&&n.addEventListener("message",function({data:t}){t&&"x-storagemutated-1"===t.type&&x1(t.changedParts)})}Ge.rejectionMapper=function(n,t){if(!n||n instanceof qg||n instanceof TypeError||n instanceof SyntaxError||!n.name||!UB[n.name])return n;var e=new UB[n.name](t||n.message,n);return"stack"in n&&Kl(e,"stack",{get:function(){return this.inner.stack}}),e},jB(Ic,t3);class Au extends Wp{constructor(){super("bpmn-architect-db"),this.version(1).stores({bpmnElements:"++id, parentId, name, type, hasChildren, createDate, updateDate",bpmnDiagrams:"++id, name, xml"})}clear(){var t=this;return Rn(function*(){yield t.bpmnElements.clear(),yield t.bpmnDiagrams.clear()})()}}Au.\u0275fac=function(t){return new(t||Au)},Au.\u0275prov=we({token:Au,factory:Au.\u0275fac,providedIn:"root"});class Pc{constructor(t){this.db=t}moveElement(t,e){return t.parentId=e,this.save(t)}findByType(t){var e=this;return Rn(function*(){return e.db.bpmnElements.where({type:t}).sortBy("name")})()}findByNameAndType(t,e){var i=this;return Rn(function*(){return i.db.bpmnElements.where({name:t,type:e}).first()})()}searchByNameAndType(t,e=$r.folder){var i=this;return Rn(function*(){return i.db.bpmnElements.where("name").startsWithIgnoreCase(t).and(o=>o.type===e).sortBy("name")})()}getLastChangedElement(){var t=this;return Rn(function*(){return t.db.bpmnElements.where("parentId").notEqual(0).limit(1).reverse().sortBy("updateDate")})()}deleteAll(){var t=this;return Rn(function*(){yield t.db.bpmnElements.clear()})()}count(){var t=this;return Rn(function*(){return t.db.bpmnElements.count()})()}delete(t){var e=this;return Rn(function*(){if(t){const i=yield e.db.bpmnElements.get(t);i&&(yield e.db.bpmnElements.where("parentId").equals(t).modify({parentId:i.parentId}),yield e.db.bpmnElements.delete(t))}})()}findAll(){var t=this;return Rn(function*(){return t.db.bpmnElements.orderBy("name").toArray()})()}get(t){var e=this;return Rn(function*(){return e.db.bpmnElements.get(t)})()}getOrCreate(t){var e=this;return Rn(function*(){let i=t.id?yield e.db.bpmnElements.get(t.id):void 0;return i?e._merge(t,i):i=t,i.updateDate=(new Date).getTime(),i.id=yield e.db.bpmnElements.put(i),i})()}_merge(t,e){e.name=t.name,e.type=t.type}save(t){var e=this;return Rn(function*(){return null==t.parentId?t.parentId=0:(yield e.db.bpmnElements.get(t.parentId))||(t.parentId=0),t.id=yield e.db.bpmnElements.put(t),t})()}getFolderByParent(t=0){var e=this;return Rn(function*(){return e.db.bpmnElements.where("parentId").equals(t).sortBy("name")})()}}Pc.\u0275fac=function(t){return new(t||Pc)(ne(Au))},Pc.\u0275prov=we({token:Pc,factory:Pc.\u0275fac,providedIn:"root"});class iI{}class Ru{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),a=o.toLowerCase(),d=e.slice(i+1).trim();this.maybeSetNormalizedName(o,a),this.headers.has(a)?this.headers.get(a).push(d):this.headers.set(a,[d])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const o=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(o,i),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ru?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ru;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ru?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const o=("a"===t.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const a=t.value;if(a){let d=this.headers.get(e);if(!d)return;d=d.filter(p=>-1===a.indexOf(p)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class QW{encodeKey(t){return b3(t)}encodeValue(t){return b3(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const eq=/%(\d[a-f0-9])/gi,tq={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function b3(n){return encodeURIComponent(n).replace(eq,(t,e)=>tq[e]??t)}function w1(n){return`${n}`}class Iu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new QW,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function JW(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const a=o.indexOf("="),[d,p]=-1==a?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,a)),t.decodeValue(o.slice(a+1))],g=e.get(d)||[];g.push(p),e.set(d,g)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],o=Array.isArray(i)?i.map(w1):[w1(i)];this.map.set(e,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const o=t[i];Array.isArray(o)?o.forEach(a=>{e.push({param:i,value:a,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Iu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(w1(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const o=i.indexOf(w1(t.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class nq{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function x3(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function w3(n){return typeof Blob<"u"&&n instanceof Blob}function E3(n){return typeof FormData<"u"&&n instanceof FormData}class w0{constructor(t,e,i,o){let a;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function iq(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,a=o):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Ru),this.context||(this.context=new nq),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const p=e.indexOf("?");this.urlWithParams=e+(-1===p?"?":p<e.length-1?"&":"")+d}}else this.params=new Iu,this.urlWithParams=e}serializeBody(){return null===this.body?null:x3(this.body)||w3(this.body)||E3(this.body)||function rq(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Iu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||E3(this.body)?null:w3(this.body)?this.body.type||null:x3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Iu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,o=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,p=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let g=t.headers||this.headers,y=t.params||this.params;const w=t.context??this.context;return void 0!==t.setHeaders&&(g=Object.keys(t.setHeaders).reduce((D,S)=>D.set(S,t.setHeaders[S]),g)),t.setParams&&(y=Object.keys(t.setParams).reduce((D,S)=>D.set(S,t.setParams[S]),y)),new w0(e,i,a,{params:y,headers:g,context:w,reportProgress:p,responseType:o,withCredentials:d})}}var Ur=(()=>((Ur=Ur||{})[Ur.Sent=0]="Sent",Ur[Ur.UploadProgress=1]="UploadProgress",Ur[Ur.ResponseHeader=2]="ResponseHeader",Ur[Ur.DownloadProgress=3]="DownloadProgress",Ur[Ur.Response=4]="Response",Ur[Ur.User=5]="User",Ur))();class oq{constructor(t,e=200,i="OK"){this.headers=t.headers||new Ru,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class rI extends oq{constructor(t={}){super(t),this.type=Ur.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new rI({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function oI(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let sI=(()=>{class n{constructor(e){this.handler=e}request(e,i,o={}){let a;if(e instanceof w0)a=e;else{let g,y;g=o.headers instanceof Ru?o.headers:new Ru(o.headers),o.params&&(y=o.params instanceof Iu?o.params:new Iu({fromObject:o.params})),a=new w0(e,i,void 0!==o.body?o.body:null,{headers:g,context:o.context,params:y,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const d=je(a).pipe(Eu(g=>this.handler.handle(g)));if(e instanceof w0||"events"===o.observe)return d;const p=d.pipe(Kn(g=>g instanceof rI));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return p.pipe(et(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return p.pipe(et(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return p.pipe(et(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return p.pipe(et(g=>g.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Iu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,oI(o,i))}post(e,i,o={}){return this.request("POST",e,oI(o,i))}put(e,i,o={}){return this.request("PUT",e,oI(o,i))}}return n.\u0275fac=function(e){return new(e||n)(ne(iI))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const vq=["*"];let C1;function E0(n){return function yq(){if(void 0===C1&&(C1=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(C1=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return C1}()?.createHTML(n)||n}function R3(n){return Error(`Unable to find icon with the name "${n}"`)}function I3(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function O3(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Kp{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let D1=(()=>{class n{constructor(e,i,o,a){this._httpClient=e,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(e,i,o){return this.addSvgIconInNamespace("",e,i,o)}addSvgIconLiteral(e,i,o){return this.addSvgIconLiteralInNamespace("",e,i,o)}addSvgIconInNamespace(e,i,o,a){return this._addSvgIconConfig(e,i,new Kp(o,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,o,a){const d=this._sanitizer.sanitize(pn.HTML,o);if(!d)throw O3(o);const p=E0(d);return this._addSvgIconConfig(e,i,new Kp("",p,a))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,o){return this._addSvgIconSetConfig(e,new Kp(i,null,o))}addSvgIconSetLiteralInNamespace(e,i,o){const a=this._sanitizer.sanitize(pn.HTML,i);if(!a)throw O3(i);const d=E0(a);return this._addSvgIconSetConfig(e,new Kp("",d,o))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(pn.RESOURCE_URL,e);if(!i)throw I3(e);const o=this._cachedIconsByUrl.get(i);return o?je(k1(o)):this._loadSvgIconFromConfig(new Kp(e,null)).pipe(zi(a=>this._cachedIconsByUrl.set(i,a)),et(a=>k1(a)))}getNamedSvgIcon(e,i=""){const o=P3(i,e);let a=this._svgIconConfigs.get(o);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,e),a)return this._svgIconConfigs.set(o,a),this._getSvgFromConfig(a);const d=this._iconSetConfigs.get(i);return d?this._getSvgFromIconSetConfigs(e,d):Ap(R3(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?je(k1(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(et(i=>k1(i)))}_getSvgFromIconSetConfigs(e,i){const o=this._extractIconWithNameFromAnySet(e,i);return o?je(o):aF(i.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(Gl(p=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(pn.RESOURCE_URL,d.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(y)),je(null)})))).pipe(et(()=>{const d=this._extractIconWithNameFromAnySet(e,i);if(!d)throw R3(e);return d}))}_extractIconWithNameFromAnySet(e,i){for(let o=i.length-1;o>=0;o--){const a=i[o];if(a.svgText&&a.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(a),p=this._extractSvgIconFromSet(d,e,a.options);if(p)return p}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(zi(i=>e.svgText=i),et(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?je(null):this._fetchIcon(e).pipe(zi(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,o){const a=e.querySelector(`[id="${i}"]`);if(!a)return null;const d=a.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,o);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),o);const p=this._svgElementFromString(E0("<svg></svg>"));return p.appendChild(d),this._setSvgAttributes(p,o)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const o=i.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const i=this._svgElementFromString(E0("<svg></svg>")),o=e.attributes;for(let a=0;a<o.length;a++){const{name:d,value:p}=o[a];"id"!==d&&i.setAttribute(d,p)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:o}=e,a=o?.withCredentials??!1;if(!this._httpClient)throw function bq(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const d=this._sanitizer.sanitize(pn.RESOURCE_URL,i);if(!d)throw I3(i);const p=this._inProgressUrlFetches.get(d);if(p)return p;const g=this._httpClient.get(d,{responseType:"text",withCredentials:a}).pipe(et(y=>E0(y)),dD(()=>this._inProgressUrlFetches.delete(d)),om());return this._inProgressUrlFetches.set(d,g),g}_addSvgIconConfig(e,i,o){return this._svgIconConfigs.set(P3(e,i),o),this}_addSvgIconSetConfig(e,i){const o=this._iconSetConfigs.get(e);return o?o.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let o=0;o<this._resolvers.length;o++){const a=this._resolvers[o](i,e);if(a)return wq(a)?new Kp(a.url,null,a.options):new Kp(a,null)}}}return n.\u0275fac=function(e){return new(e||n)(ne(sI,8),ne(cT),ne(Ot,8),ne(Nr))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function k1(n){return n.cloneNode(!0)}function P3(n,t){return n+":"+t}function wq(n){return!(!n.url||!n.options)}const Eq=UD(class{constructor(n){this._elementRef=n}}),Cq=new ue("MAT_ICON_DEFAULT_OPTIONS"),Dq=new ue("mat-icon-location",{providedIn:"root",factory:function kq(){const n=St(Ot),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),F3=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Mq=F3.map(n=>`[${n}]`).join(", "),Sq=/^url\(['"]?#(.*?)['"]?\)$/;let C0=(()=>{class n extends Eq{get inline(){return this._inline}set inline(e){this._inline=gn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,o,a,d,p){super(e),this._iconRegistry=i,this._location=a,this._errorHandler=d,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=qt.EMPTY,p&&(p.color&&(this.color=this.defaultColor=p.color),p.fontSet&&(this.fontSet=p.fontSet)),o||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const o=e.childNodes[i];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),i.forEach(o=>e.classList.add(o)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((o,a)=>{o.forEach(d=>{a.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(Mq),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)F3.forEach(d=>{const p=i[a],g=p.getAttribute(d),y=g?g.match(Sq):null;if(y){let w=o.get(p);w||(w=[],o.set(p,w)),w.push({name:d,value:y[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,o]=this._splitIconName(e);i&&(this._svgNamespace=i),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe(jn(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${o}! ${a.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(D1),Ts("aria-hidden"),B(Dq),B(Nr),B(Cq,8))},n.\u0275cmp=kt({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(Jt("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),lt("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[De],ngContentSelectors:vq,decls:1,vars:0,template:function(e,i){1&e&&(si(),bt(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Tq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[xn,xn]}),n})();const Aq=["matFormFieldNotchedOutline",""],Rq=["*"],Iq=["textField"],Oq=["iconPrefixContainer"],Pq=["textPrefixContainer"];function Fq(n,t){1&n&&Qe(0,"span",19)}function Nq(n,t){if(1&n){const e=Ki();he(0,"label",17),ct("cdkObserveContent",function(){return ge(e),Xn(We(2)._refreshOutlineNotchWidth())}),bt(1,1),Se(2,Fq,1,0,"span",18),fe()}if(2&n){const e=We(2);Ce("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),Jt("for",e._control.id)("aria-owns",e._control.id),xe(2),Ce("ngIf",!e.hideRequiredMarker&&e._control.required)}}function Lq(n,t){1&n&&Se(0,Nq,3,6,"label",16),2&n&&Ce("ngIf",We()._hasFloatingLabel())}function Bq(n,t){1&n&&Qe(0,"div",20)}function Vq(n,t){}function jq(n,t){1&n&&Se(0,Vq,0,0,"ng-template",22),2&n&&(We(2),Ce("ngTemplateOutlet",Tn(1)))}function Hq(n,t){if(1&n&&(he(0,"div",21),Se(1,jq,1,1,"ng-template",9),fe()),2&n){const e=We();Ce("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),xe(1),Ce("ngIf",!e._forceDisplayInfixLabel())}}function zq(n,t){1&n&&(he(0,"div",23,24),bt(2,2),fe())}function $q(n,t){1&n&&(he(0,"div",25,26),bt(2,3),fe())}function Uq(n,t){}function Gq(n,t){1&n&&Se(0,Uq,0,0,"ng-template",22),2&n&&(We(),Ce("ngTemplateOutlet",Tn(1)))}function Wq(n,t){1&n&&(he(0,"div",27),bt(1,4),fe())}function qq(n,t){1&n&&(he(0,"div",28),bt(1,5),fe())}function Kq(n,t){1&n&&Qe(0,"div",29)}function Yq(n,t){1&n&&(he(0,"div",30),bt(1,6),fe()),2&n&&Ce("@transitionMessages",We()._subscriptAnimationState)}function Xq(n,t){if(1&n&&(he(0,"mat-hint",34),gt(1),fe()),2&n){const e=We(2);Ce("id",e._hintLabelId),xe(1),bo(e.hintLabel)}}function Zq(n,t){if(1&n&&(he(0,"div",31),Se(1,Xq,2,2,"mat-hint",32),bt(2,7),Qe(3,"div",33),bt(4,8),fe()),2&n){const e=We();Ce("@transitionMessages",e._subscriptAnimationState),xe(1),Ce("ngIf",e.hintLabel)}}const Qq=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Jq=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let cI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["mat-label"]]}),n})();const eK=new ue("MatError");let tK=0,N3=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+tK++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,i){2&e&&(Rl("id",i.id),Jt("align",null),lt("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const L3=new ue("MatPrefix");let nK=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:["matTextPrefix","_isTextSelector"]},features:[Je([{provide:L3,useExisting:n}])]}),n})();const iK=new ue("MatSuffix");let B3=(()=>{class n{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function rK(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(B(qe))},n.\u0275dir=se({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,i){2&e&&lt("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const V3="mdc-line-ripple--active",M1="mdc-line-ripple--deactivating";let j3=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=o=>{const a=this._elementRef.nativeElement.classList,d=a.contains(M1);"opacity"===o.propertyName&&d&&a.remove(V3,M1)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(M1),e.add(V3)}deactivate(){this._elementRef.nativeElement.classList.add(M1)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(Ze))},n.\u0275dir=se({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),H3=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(Ze))},n.\u0275cmp=kt({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,i){2&e&&lt("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Aq,ngContentSelectors:Rq,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,i){1&e&&(si(),Qe(0,"div",0),he(1,"div",1),bt(2),fe(),Qe(3,"div",2)),2&e&&(xe(1),$o("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const oK={transitionMessages:Eg("transitionMessages",[Hl("enter",Vr({opacity:1,transform:"translateY(0%)"})),Dc("void => enter",[Vr({opacity:0,transform:"translateY(-5px)"}),Cc("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let z3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n}),n})();const $3=new ue("MatFormField"),sK=new ue("MAT_FORM_FIELD_DEFAULT_OPTIONS");let U3=0,lI=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=gn(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,o,a,d,p,g,y){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=o,this._dir=a,this._platform=d,this._defaults=p,this._animationMode=g,this._document=y,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+U3++,this._hintLabelId="mat-mdc-hint-"+U3++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Ne,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,p&&(p.appearance&&(this.appearance=p.appearance),this._hideRequiredMarker=Boolean(p?.hideRequiredMarker),p.color&&(this.color=p.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Mn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Oo(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Mn(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Mn(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,o=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,a=i?.getBoundingClientRect().width??0,d=o?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${a+d}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(io),B(Ze),B(Ua),B(ci),B(sK,8),B(Eo,8),B(Ot))},n.\u0275cmp=kt({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,o){if(1&e&&(Ln(o,cI,5),Ln(o,cI,7),Ln(o,z3,5),Ln(o,L3,5),Ln(o,iK,5),Ln(o,eK,5),Ln(o,N3,5)),2&e){let a;dt(a=ut())&&(i._labelChildNonStatic=a.first),dt(a=ut())&&(i._labelChildStatic=a.first),dt(a=ut())&&(i._formFieldControl=a.first),dt(a=ut())&&(i._prefixChildren=a),dt(a=ut())&&(i._suffixChildren=a),dt(a=ut())&&(i._errorChildren=a),dt(a=ut())&&(i._hintChildren=a)}},viewQuery:function(e,i){if(1&e&&(Nn(Iq,5),Nn(Oq,5),Nn(Pq,5),Nn(B3,5),Nn(H3,5),Nn(j3,5)),2&e){let o;dt(o=ut())&&(i._textField=o.first),dt(o=ut())&&(i._iconPrefixContainer=o.first),dt(o=ut())&&(i._textPrefixContainer=o.first),dt(o=ut())&&(i._floatingLabel=o.first),dt(o=ut())&&(i._notchedOutline=o.first),dt(o=ut())&&(i._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,i){2&e&&lt("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Je([{provide:$3,useExisting:n}])],ngContentSelectors:Jq,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,i){1&e&&(si(Qq),Se(0,Lq,1,1,"ng-template",null,0,_g),he(2,"div",1,2),ct("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),Se(4,Bq,1,0,"div",3),he(5,"div",4),Se(6,Hq,2,3,"div",5),Se(7,zq,3,0,"div",6),Se(8,$q,3,0,"div",7),he(9,"div",8),Se(10,Gq,1,1,"ng-template",9),bt(11),fe(),Se(12,Wq,2,0,"div",10),Se(13,qq,2,0,"div",11),fe(),Se(14,Kq,1,0,"div",12),fe(),he(15,"div",13),Se(16,Yq,2,1,"div",14),Se(17,Zq,5,2,"div",15),fe()),2&e&&(xe(2),lt("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),xe(2),Ce("ngIf",!i._hasOutline()&&!i._control.disabled),xe(2),Ce("ngIf",i._hasOutline()),xe(1),Ce("ngIf",i._hasIconPrefix),xe(1),Ce("ngIf",i._hasTextPrefix),xe(2),Ce("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),xe(2),Ce("ngIf",i._hasTextSuffix),xe(1),Ce("ngIf",i._hasIconSuffix),xe(1),Ce("ngIf",!i._hasOutline()),xe(1),lt("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),Ce("ngSwitch",i._getDisplayedMessages()),xe(1),Ce("ngSwitchCase","error"),xe(1),Ce("ngSwitchCase","hint"))},dependencies:[wg,wC,xC,BO,KL,N3,B3,H3,j3],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required::after,.mdc-floating-label--required[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[oK.transitionMessages]},changeDetection:0}),n})(),dI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[xn,xp,YA,xn]}),n})();const q3=Mp({passive:!0});let lK=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return lo;const i=Ul(e),o=this._monitoredElements.get(i);if(o)return o.subject;const a=new Ne,d="cdk-text-field-autofilled",p=g=>{"cdk-text-field-autofill-start"!==g.animationName||i.classList.contains(d)?"cdk-text-field-autofill-end"===g.animationName&&i.classList.contains(d)&&(i.classList.remove(d),this._ngZone.run(()=>a.next({target:g.target,isAutofilled:!1}))):(i.classList.add(d),this._ngZone.run(()=>a.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",p,q3),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",p,q3)}}),a}stopMonitoring(e){const i=Ul(e),o=this._monitoredElements.get(i);o&&(o.unlisten(),o.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(ne(ci),ne(Ze))},n.\u0275prov=we({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({}),n})();const uK=new ue("MAT_INPUT_VALUE_ACCESSOR"),hK=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let pK=0;const mK=hG(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Ne}});let uI=(()=>{class n extends mK{get disabled(){return this._disabled}set disabled(e){this._disabled=gn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Gz.required)??!1}set required(e){this._required=gn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&mN().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=gn(e)}constructor(e,i,o,a,d,p,g,y,w,D){super(p,a,d,o),this._elementRef=e,this._platform=i,this._autofillMonitor=y,this._formField=D,this._uid="mat-input-"+pK++,this.focused=!1,this.stateChanges=new Ne,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(V=>mN().has(V)),this._iOSKeyupListener=V=>{const j=V.target;!j.value&&0===j.selectionStart&&0===j.selectionEnd&&(j.setSelectionRange(1,1),j.setSelectionRange(0,0))};const S=this._elementRef.nativeElement,O=S.nodeName.toLowerCase();this._inputValueAccessor=g||S,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&w.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===O,this._isTextarea="textarea"===O,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=S.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){hK.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(ci),B($l,10),B(JC,8),B(tD,8),B(mG),B(uK,10),B(lK),B(Ze),B($3,8))},n.\u0275dir=se({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,i){1&e&&ct("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(Rl("id",i.id)("disabled",i.disabled)("required",i.required),Jt("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),lt("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Je([{provide:z3,useExisting:n}]),De,or]}),n})(),fK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[xn,dI,dI,dK,xn]}),n})();const gK=["input"],_K=["label"],vK=["*"],yK=new ue("mat-checkbox-default-options",{providedIn:"root",factory:K3});function K3(){return{color:"accent",clickAction:"check-indeterminate"}}const bK={provide:Js,useExisting:vn(()=>X3),multi:!0};class xK{}let wK=0;const Y3=K3(),EK=dB(UD(oR($D(class{constructor(n){this._elementRef=n}}))));let CK=(()=>{class n extends EK{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=gn(e)}constructor(e,i,o,a,d,p,g){super(i),this._changeDetectorRef=o,this._ngZone=a,this._animationMode=p,this._options=g,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new rn,this.indeterminateChange=new rn,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Y3,this.color=this.defaultColor=this._options.color||Y3.color,this.tabIndex=parseInt(d)||0,this.id=this._uniqueId=`${e}${++wK}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const i=gn(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=gn(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=gn(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,o=this._getAnimationTargetElement();if(i!==e&&o&&(this._currentAnimationClass&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);const a=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(a)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){hc()},n.\u0275dir=se({type:n,viewQuery:function(e,i){if(1&e&&(Nn(gK,5),Nn(_K,5),Nn(Vp,5)),2&e){let o;dt(o=ut())&&(i._inputElement=o.first),dt(o=ut())&&(i._labelElement=o.first),dt(o=ut())&&(i.ripple=o.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[De]}),n})(),X3=(()=>{class n extends CK{constructor(e,i,o,a,d,p){super("mat-mdc-checkbox-",e,i,o,a,d,p),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){const i=new xK;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(io),B(Ze),Ts("tabindex"),B(Eo,8),B(yK,8))},n.\u0275cmp=kt({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&(Rl("id",i.id),Jt("tabindex",null)("aria-label",null)("aria-labelledby",null),lt("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mdc-checkbox--disabled",i.disabled)("mat-mdc-checkbox-disabled",i.disabled)("mat-mdc-checkbox-checked",i.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[Je([bK]),De],ngContentSelectors:vK,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[3,"for"],["label",""]],template:function(e,i){if(1&e&&(si(),he(0,"div",0),ct("click",function(a){return i._preventBubblingFromLabel(a)}),he(1,"div",1,2)(3,"div",3),ct("click",function(){return i._onInputClick()}),fe(),he(4,"input",4,5),ct("blur",function(){return i._onBlur()})("click",function(){return i._onInputClick()})("change",function(a){return i._onInteractionEvent(a)}),fe(),Qe(6,"div",6),he(7,"div",7),nh(),he(8,"svg",8),Qe(9,"path",9),fe(),function _d(){!function px(){At.lFrame.currentNamespace=null}()}(),Qe(10,"div",10),fe(),Qe(11,"div",11),fe(),he(12,"label",12,13),bt(14),fe()()),2&e){const o=Tn(2);lt("mdc-form-field--align-end","before"==i.labelPosition),xe(4),lt("mdc-checkbox--selected",i.checked),Ce("checked",i.checked)("disabled",i.disabled)("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex),Jt("aria-checked",i._getAriaChecked())("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("name",i.name)("value",i.value),xe(7),Ce("matRippleTrigger",o)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),xe(1),Ce("for",i.inputId)}},dependencies:[Vp],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size, 48px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);width:var(--mdc-checkbox-state-layer-size, 48px);height:var(--mdc-checkbox-state-layer-size, 48px)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color, rgba(0, 0, 0, 0.38))}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px)}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:not([disabled])~.mdc-checkbox__ripple{opacity:.04;transform:scale(1);transition:opacity 80ms 0 cubic-bezier(0, 0, 0.2, 1),transform 80ms 0 cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:not([disabled]):focus~.mdc-checkbox__ripple{opacity:.16}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__native-control:focus:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, black)}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),Z3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({}),n})(),MK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[xn,t0,Z3,xn,Z3]}),n})();const SK=[[["caption"]],[["colgroup"],["col"]]],TK=["caption","colgroup, col"];function hI(n){return class extends n{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=gn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const t_=new ue("CDK_TABLE");let n_=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(B(Zi))},n.\u0275dir=se({type:n,selectors:[["","cdkCellDef",""]]}),n})(),i_=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(B(Zi))},n.\u0275dir=se({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),S1=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(B(Zi))},n.\u0275dir=se({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class OK{}const PK=hI(OK);let td=(()=>{class n extends PK{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=gn(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(B(t_,8))},n.\u0275dir=se({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,o){if(1&e&&(Ln(o,n_,5),Ln(o,i_,5),Ln(o,S1,5)),2&e){let a;dt(a=ut())&&(i.cell=a.first),dt(a=ut())&&(i.headerCell=a.first),dt(a=ut())&&(i.footerCell=a.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[Je([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),De]}),n})();class pI{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let mI=(()=>{class n extends pI{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(B(td),B(qe))},n.\u0275dir=se({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[De]}),n})(),fI=(()=>{class n extends pI{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const o=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===o||"treegrid"===o?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(B(td),B(qe))},n.\u0275dir=se({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[De]}),n})();class J3{constructor(){this.tasks=[],this.endTasks=[]}}const gI=new ue("_COALESCED_STYLE_SCHEDULER");let eV=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Ne}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new J3,this._getScheduleObservable().pipe(Mn(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new J3;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?In(Promise.resolve(void 0)):this._ngZone.onStable.pipe(jn(1))}}return n.\u0275fac=function(e){return new(e||n)(ne(Ze))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),_I=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof D0?e.headerCell.template:this instanceof k0?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(B(Zi),B(Ks))},n.\u0275dir=se({type:n,features:[or]}),n})();class FK extends _I{}const NK=hI(FK);let D0=(()=>{class n extends NK{constructor(e,i,o){super(e,i),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(B(Zi),B(Ks),B(t_,8))},n.\u0275dir=se({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[De,or]}),n})();class LK extends _I{}const BK=hI(LK);let k0=(()=>{class n extends BK{constructor(e,i,o){super(e,i),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(B(Zi),B(Ks),B(t_,8))},n.\u0275dir=se({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[De,or]}),n})(),T1=(()=>{class n extends _I{constructor(e,i,o){super(e,i),this._table=o}}return n.\u0275fac=function(e){return new(e||n)(B(Zi),B(Ks),B(t_,8))},n.\u0275dir=se({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[De]}),n})(),nd=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(B(ji))},n.\u0275dir=se({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),vI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=kt({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&_i(0,0)},dependencies:[nd],encapsulation:2}),n})(),bI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=kt({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&_i(0,0)},dependencies:[nd],encapsulation:2}),n})(),A1=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(B(Zi))},n.\u0275dir=se({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const tV=["top","bottom","left","right"];class VK{constructor(t,e,i,o,a=!0,d=!0,p){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=o,this._isBrowser=a,this._needsPositionStickyOnElement=d,this._positionListener=p,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const o of t)if(o.nodeType===o.ELEMENT_NODE){i.push(o);for(let a=0;a<o.children.length;a++)i.push(o.children[a])}this._coalescedStyleScheduler.schedule(()=>{for(const o of i)this._removeStickyStyle(o,e)})}updateStickyColumns(t,e,i,o=!0){if(!t.length||!this._isBrowser||!e.some(S=>S)&&!i.some(S=>S))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const a=t[0],d=a.children.length,p=this._getCellWidths(a,o),g=this._getStickyStartColumnPositions(p,e),y=this._getStickyEndColumnPositions(p,i),w=e.lastIndexOf(!0),D=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const S="rtl"===this.direction,O=S?"right":"left",V=S?"left":"right";for(const j of t)for(let $=0;$<d;$++){const G=j.children[$];e[$]&&this._addStickyStyle(G,O,g[$],$===w),i[$]&&this._addStickyStyle(G,V,y[$],$===D)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===w?[]:p.slice(0,w+1).map((j,$)=>e[$]?j:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===D?[]:p.slice(D).map((j,$)=>i[$+D]?j:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const o="bottom"===i?t.slice().reverse():t,a="bottom"===i?e.slice().reverse():e,d=[],p=[],g=[];for(let w=0,D=0;w<o.length;w++){if(!a[w])continue;d[w]=D;const S=o[w];g[w]=this._isNativeHtmlTable?Array.from(S.children):[S];const O=S.getBoundingClientRect().height;D+=O,p[w]=O}const y=a.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let w=0;w<o.length;w++){if(!a[w])continue;const D=d[w],S=w===y;for(const O of g[w])this._addStickyStyle(O,i,D,S)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:p,offsets:d,elements:g}):this._positionListener?.stickyFooterRowsUpdated({sizes:p,offsets:d,elements:g})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(o=>!o)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const o of e)t.style[o]="",t.classList.remove(this._borderCellCss[o]);tV.some(o=>-1===e.indexOf(o)&&t.style[o])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,o){t.classList.add(this._stickCellCss),o&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const o of tV)t.style[o]&&(i+=e[o]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],o=t.children;for(let a=0;a<o.length;a++)i.push(o[a].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let o=0;for(let a=0;a<t.length;a++)e[a]&&(i[a]=o,o+=t[a]);return i}_getStickyEndColumnPositions(t,e){const i=[];let o=0;for(let a=t.length;a>0;a--)e[a]&&(i[a]=o,o+=t[a]);return i}}const xI=new ue("CDK_SPL");let R1=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(B(ji),B(qe))},n.\u0275dir=se({type:n,selectors:[["","rowOutlet",""]]}),n})(),I1=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(B(ji),B(qe))},n.\u0275dir=se({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),O1=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(B(ji),B(qe))},n.\u0275dir=se({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),P1=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(B(ji),B(qe))},n.\u0275dir=se({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),F1=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=gn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=gn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,o,a,d,p,g,y,w,D,S,O){this._differs=e,this._changeDetectorRef=i,this._elementRef=o,this._dir=d,this._platform=g,this._viewRepeater=y,this._coalescedStyleScheduler=w,this._viewportRuler=D,this._stickyPositioningListener=S,this._ngZone=O,this._onDestroy=new Ne,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new rn,this.viewChange=new Hr({start:0,end:Number.MAX_VALUE}),a||this._elementRef.nativeElement.setAttribute("role","table"),this._document=p,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Mn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),KD(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(o,a,d)=>this._getEmbeddedViewArgs(o.item,d),o=>o.item.data,o=>{1===o.operation&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(o=>{i.get(o.currentIndex).context.$implicit=o.item.data}),this._updateNoDataRow(),this._ngZone&&Ze.isInAngularZone()?this._ngZone.onStable.pipe(jn(1),Mn(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),o=this._elementRef.nativeElement.querySelector("thead");o&&(o.style.display=e.length?"":"none");const a=this._headerRowDefs.map(d=>d.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,a,"top"),this._headerRowDefs.forEach(d=>d.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),o=this._elementRef.nativeElement.querySelector("tfoot");o&&(o.style.display=e.length?"":"none");const a=this._footerRowDefs.map(d=>d.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,a,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,a),this._footerRowDefs.forEach(d=>d.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((a,d)=>{this._addStickyColumnStyles([a],this._headerRowDefs[d])}),this._rowDefs.forEach(a=>{const d=[];for(let p=0;p<i.length;p++)this._renderRows[p].rowDef===a&&d.push(i[p]);this._addStickyColumnStyles(d,a)}),o.forEach((a,d)=>{this._addStickyColumnStyles([a],this._footerRowDefs[d])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let o=0;o<this._data.length;o++){let a=this._data[o];const d=this._getRenderRowsForData(a,o,i.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let p=0;p<d.length;p++){let g=d[p];const y=this._cachedRenderRowsMap.get(g.data);y.has(g.rowDef)?y.get(g.rowDef).push(g):y.set(g.rowDef,[g]),e.push(g)}}return e}_getRenderRowsForData(e,i,o){return this._getRowDefs(e,i).map(d=>{const p=o&&o.has(d)?o.get(d):[];if(p.length){const g=p.shift();return g.dataIndex=i,g}return{data:e,rowDef:d,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),N1(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=N1(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=N1(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=N1(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(d,p)=>d||!!p.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const o=this._headerRowDefs.reduce(e,!1);o&&this._forceRenderHeaderRows();const a=this._footerRowDefs.reduce(e,!1);return a&&this._forceRenderFooterRows(),i||o||a}_switchDataSource(e){this._data=[],KD(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;KD(this.dataSource)?e=this.dataSource.connect(this):function uR(n){return!!n&&(n instanceof sn||Dt(n.lift)&&Dt(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=je(this.dataSource)),this._renderChangeSubscription=e.pipe(Mn(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const o=Array.from(i.columns||[]).map(p=>this._columnDefsByName.get(p)),a=o.map(p=>p.sticky),d=o.map(p=>p.stickyEnd);this._stickyStyler.updateStickyColumns(e,a,d,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let o=0;o<e.viewContainer.length;o++){const a=e.viewContainer.get(o);i.push(a.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(a=>!a.when||a.when(i,e));else{let a=this._rowDefs.find(d=>d.when&&d.when(i,e))||this._defaultRowDef;a&&o.push(a)}return o}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,o,a={}){const d=e.viewContainer.createEmbeddedView(i.template,a,o);return this._renderCellTemplateForItem(i,a),d}_renderCellTemplateForItem(e,i){for(let o of this._getCellTemplates(e))nd.mostRecentCellOutlet&&nd.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,o=e.length;i<o;i++){const d=e.get(i).context;d.count=o,d.first=0===i,d.last=i===o-1,d.even=i%2==0,d.odd=!d.even,this.multiTemplateDataRows?(d.dataIndex=this._renderRows[i].dataIndex,d.renderIndex=i):d.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const o=this._columnDefsByName.get(i);return e.extractCellTemplate(o)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const o of i){const a=this._document.createElement(o.tag);a.setAttribute("role","rowgroup");for(const d of o.outlets)a.appendChild(d.elementRef.nativeElement);e.appendChild(a)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,o)=>i||o.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new VK(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:je()).pipe(Mn(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const o=this._noDataRowOutlet.viewContainer;if(i){const a=o.createEmbeddedView(e.templateRef),d=a.rootNodes[0];1===a.rootNodes.length&&d?.nodeType===this._document.ELEMENT_NODE&&(d.setAttribute("role","row"),d.classList.add(e._contentClassName))}else o.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(B(Ks),B(io),B(qe),Ts("role"),B(Ua,8),B(Ot),B(ci),B(n0),B(gI),B(ID),B(xI,12),B(Ze,8))},n.\u0275cmp=kt({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,o){if(1&e&&(Ln(o,A1,5),Ln(o,td,5),Ln(o,T1,5),Ln(o,D0,5),Ln(o,k0,5)),2&e){let a;dt(a=ut())&&(i._noDataRow=a.first),dt(a=ut())&&(i._contentColumnDefs=a),dt(a=ut())&&(i._contentRowDefs=a),dt(a=ut())&&(i._contentHeaderRowDefs=a),dt(a=ut())&&(i._contentFooterRowDefs=a)}},viewQuery:function(e,i){if(1&e&&(Nn(R1,7),Nn(I1,7),Nn(O1,7),Nn(P1,7)),2&e){let o;dt(o=ut())&&(i._rowOutlet=o.first),dt(o=ut())&&(i._headerRowOutlet=o.first),dt(o=ut())&&(i._footerRowOutlet=o.first),dt(o=ut())&&(i._noDataRowOutlet=o.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&lt("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[Je([{provide:t_,useExisting:n},{provide:n0,useClass:RB},{provide:gI,useClass:eV},{provide:xI,useValue:null}])],ngContentSelectors:TK,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(si(SK),bt(0),bt(1,1),_i(2,0)(3,1)(4,2)(5,3))},dependencies:[R1,I1,O1,P1],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function N1(n,t){return n.concat(Array.from(t))}let HK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[jA]}),n})();const zK=[[["caption"]],[["colgroup"],["col"]]],$K=["caption","colgroup, col"];let wI=(()=>{class n extends F1{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ft(n)))(i||n)}}(),n.\u0275cmp=kt({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,i){2&e&&lt("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[Je([{provide:F1,useExisting:n},{provide:t_,useExisting:n},{provide:gI,useClass:eV},{provide:n0,useClass:RB},{provide:xI,useValue:null}]),De],ngContentSelectors:$K,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(si(zK),bt(0),bt(1,1),_i(2,0)(3,1)(4,2)(5,3))},dependencies:[R1,I1,O1,P1],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),L1=(()=>{class n extends n_{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ft(n)))(i||n)}}(),n.\u0275dir=se({type:n,selectors:[["","matCellDef",""]],features:[Je([{provide:n_,useExisting:n}]),De]}),n})(),B1=(()=>{class n extends i_{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ft(n)))(i||n)}}(),n.\u0275dir=se({type:n,selectors:[["","matHeaderCellDef",""]],features:[Je([{provide:i_,useExisting:n}]),De]}),n})(),V1=(()=>{class n extends td{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ft(n)))(i||n)}}(),n.\u0275dir=se({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[Je([{provide:td,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),De]}),n})(),j1=(()=>{class n extends mI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ft(n)))(i||n)}}(),n.\u0275dir=se({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[De]}),n})(),H1=(()=>{class n extends fI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ft(n)))(i||n)}}(),n.\u0275dir=se({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[De]}),n})(),EI=(()=>{class n extends D0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ft(n)))(i||n)}}(),n.\u0275dir=se({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[Je([{provide:D0,useExisting:n}]),De]}),n})(),CI=(()=>{class n extends T1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ft(n)))(i||n)}}(),n.\u0275dir=se({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[Je([{provide:T1,useExisting:n}]),De]}),n})(),DI=(()=>{class n extends vI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ft(n)))(i||n)}}(),n.\u0275cmp=kt({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[Je([{provide:vI,useExisting:n}]),De],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&_i(0,0)},dependencies:[nd],encapsulation:2}),n})(),kI=(()=>{class n extends bI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ft(n)))(i||n)}}(),n.\u0275cmp=kt({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[Je([{provide:bI,useExisting:n}]),De],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&_i(0,0)},dependencies:[nd],encapsulation:2}),n})(),iV=(()=>{class n extends A1{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ft(n)))(i||n)}}(),n.\u0275dir=se({type:n,selectors:[["ng-template","matNoDataRow",""]],features:[Je([{provide:A1,useExisting:n}]),De]}),n})(),QK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[xn,HK,xn]}),n})();class r_{getIcon(){return this.element?.type==$r.diagram?"account_tree":"folder"}}function eY(n,t){1&n&&Qe(0,"th",19)}function tY(n,t){if(1&n){const e=Ki();he(0,"td",20)(1,"mat-checkbox",21),ct("click",function(o){return o.stopPropagation()})("change",function(o){const d=ge(e).$implicit,p=We();return Xn(o?p.selection.toggle(d):null)}),fe()()}if(2&n){const e=t.$implicit,i=We();xe(1),Ce("checked",i.selection.isSelected(e))}}function nY(n,t){1&n&&(he(0,"th",19),gt(1," Type "),fe())}function iY(n,t){if(1&n&&(he(0,"td",20),Qe(1,"app-bpmn-element-icon",22),fe()),2&n){const e=t.$implicit;xe(1),Ce("element",e)}}function rY(n,t){1&n&&(he(0,"th",19),gt(1," Name "),fe())}function oY(n,t){if(1&n&&(he(0,"td",20),gt(1),fe()),2&n){const e=t.$implicit;xe(1),vi(" ",e.name," ")}}function sY(n,t){1&n&&Qe(0,"tr",23)}function aY(n,t){if(1&n){const e=Ki();he(0,"tr",24),ct("click",function(){const a=ge(e).$implicit;return Xn(We().selection.toggle(a))}),fe()}}function cY(n,t){if(1&n&&(he(0,"tr",25)(1,"td",26),gt(2),fe()()),2&n){We();const e=Tn(9);xe(2),vi('No data matching the filter "',e.value,'"')}}r_.\u0275fac=function(t){return new(t||r_)},r_.\u0275cmp=kt({type:r_,selectors:[["app-bpmn-element-icon"]],inputs:{element:"element"},decls:2,vars:1,template:function(t,e){1&t&&(he(0,"mat-icon"),gt(1),fe()),2&t&&(xe(1),bo(e.getIcon()))},dependencies:[C0]});class M0{constructor(t,e,i){this.elementService=t,this.dialogRef=e,this.data=i,this.displayedColumns=["select","type","name"],this.dataSource=[],this.selection=new YD(!1),this.doFilter()}doFilter(t){var e=this;return Rn(function*(){let i=[];i=t&&t.length>0?yield e.elementService.searchByNameAndType(t,$r.folder):e.dataSource=yield e.elementService.findByType($r.folder),i.length>10&&(i=i.slice(0,10)),e.dataSource=i})()}doSelect(){this.dialogRef.close(this.selection.selected.pop())}doDismiss(){this.dialogRef.close()}onChangeEvent(t){this.doFilter(t.target.value)}doSelectRow(t){console.info("select",t)}}M0.\u0275fac=function(t){return new(t||M0)(B(Pc),B(WD),B(cR))},M0.\u0275cmp=kt({type:M0,selectors:[["app-move-element-dialog"]],decls:29,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"app-full-width"],["matPrefix",""],["type","text","matInput","",3,"input"],["input",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","name"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-dialog-actions",""],[1,"app-spacer"],["mat-button","","aria-label","no",3,"click"],["mat-raised-button","","color","primary","aria-label","yes",3,"disabled","click"],["mat-header-cell",""],["mat-cell",""],[3,"checked","click","change"],[3,"element"],["mat-header-row",""],["mat-row","",3,"click"],[1,"mat-row"],["colspan","2",1,"mat-cell"]],template:function(t,e){1&t&&(he(0,"h1",0),gt(1),fe(),he(2,"div",1)(3,"mat-form-field",2)(4,"mat-label"),gt(5,"Search"),fe(),he(6,"mat-icon",3),gt(7,"search"),fe(),he(8,"input",4,5),ct("input",function(o){return e.onChangeEvent(o)}),fe()(),he(10,"table",6),Qr(11,7),Se(12,eY,1,0,"th",8),Se(13,tY,2,1,"td",9),Jr(),Qr(14,10),Se(15,nY,2,0,"th",8),Se(16,iY,2,1,"td",9),Jr(),Qr(17,11),Se(18,rY,2,0,"th",8),Se(19,oY,2,1,"td",9),Jr(),Se(20,sY,1,0,"tr",12),Se(21,aY,1,0,"tr",13),Se(22,cY,3,1,"tr",14),fe()(),he(23,"div",15),Qe(24,"div",16),he(25,"button",17),ct("click",function(){return e.doDismiss()}),gt(26,"Cancel"),fe(),he(27,"button",18),ct("click",function(){return e.doSelect()}),gt(28,"Move"),fe()()),2&t&&(xe(1),vi("Move ",null==e.data.element?null:e.data.element.name,""),xe(9),Ce("dataSource",e.dataSource),xe(10),Ce("matHeaderRowDef",e.displayedColumns),xe(1),Ce("matRowDefColumns",e.displayedColumns),xe(6),Ce("disabled",e.selection.isEmpty()))},dependencies:[qD,C0,lI,cI,nK,uI,X3,wI,B1,EI,V1,L1,CI,j1,H1,DI,kI,iV,xB,wB,EB,r_],styles:["table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:100%}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{cursor:pointer}"]});class Yp{constructor(t,e){this.elementService=t,this.db=e}findIdByName(t){var e=this;return Rn(function*(){let i=Promise.resolve(void 0);if(t){const o=yield e.elementService.findByNameAndType(t,$r.diagram);o&&(i=Promise.resolve(o.id))}return i})()}delete(t){var e=this;return Rn(function*(){t&&(yield e.elementService.delete(t),yield e.db.bpmnElements.delete(t))})()}get(t){var e=this;return Rn(function*(){const i=yield e.db.bpmnDiagrams.get(t);return i&&(i.element=(yield e.elementService.get(i.id))||Yb("",$r.diagram)),i})()}newDiagram(t,e,i){var o=this;return Rn(function*(){const a=yield o.elementService.save(Yb(t,$r.diagram,i)),d={id:a.id,xml:e};if(d.id=yield o.db.bpmnDiagrams.put(d),d.element=a,d.id!=a.id)throw`Element Id ${a.id} is but diagram has ${d.id}`;return d})()}save(t){var e=this;return Rn(function*(){const i=yield e.elementService.getOrCreate(t.element);t.id=i.id;const o=yield e.db.bpmnDiagrams.put(t);if(o!=i.id)throw`Element Id ${i.id} is but diagram has ${o}`;return t})()}}Yp.\u0275fac=function(t){return new(t||Yp)(ne(Pc),ne(Au))},Yp.\u0275prov=we({token:Yp,factory:Yp.\u0275fac,providedIn:"root"});const lY=["*",[["mat-toolbar-row"]]],dY=["*","mat-toolbar-row"],uY=UD(class{constructor(n){this._elementRef=n}});let hY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),rV=(()=>{class n extends uY{constructor(e,i,o){super(e),this._platform=i,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(ci),B(Ot))},n.\u0275cmp=kt({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,o){if(1&e&&Ln(o,hY,5),2&e){let a;dt(a=ut())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&lt("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[De],ngContentSelectors:dY,decls:2,vars:0,template:function(e,i){1&e&&(si(lY),bt(0),bt(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),pY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[xn,xn]}),n})(),mY=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=gn(e)}get inset(){return this._inset}set inset(e){this._inset=gn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=kt({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(Jt("aria-orientation",i.vertical?"vertical":"horizontal"),lt("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),oV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[xn,xn]}),n})();const fY=["tooltip"],sV=new ue("mat-tooltip-scroll-strategy"),vY={provide:sV,deps:[Ac],useFactory:function _Y(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},bY=new ue("mat-tooltip-default-options",{providedIn:"root",factory:function yY(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),aV="tooltip-panel",cV=Mp({passive:!0});let kY=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=gn(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=gn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Mc(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Mc(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,o,a,d,p,g,y,w,D,S,O){this._overlay=e,this._elementRef=i,this._scrollDispatcher=o,this._viewContainerRef=a,this._ngZone=d,this._platform=p,this._ariaDescriber=g,this._focusMonitor=y,this._dir=D,this._defaultOptions=S,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Ne,this._scrollStrategy=w,this._document=O,S&&(S.position&&(this.position=S.position),S.positionAtOrigin&&(this.positionAtOrigin=S.positionAtOrigin),S.touchGestures&&(this.touchGestures=S.touchGestures)),D.change.pipe(Mn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Mn(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,o])=>{e.removeEventListener(i,o,cV)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const o=this._createOverlay(i);this._detach(),this._portal=this._portal||new OD(this._tooltipComponent,this._viewContainerRef);const a=this._tooltipInstance=o.attach(this._portal).instance;a._triggerElement=this._elementRef.nativeElement,a._mouseLeaveHideDelay=this._hideDelay,a.afterHidden().pipe(Mn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),a.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const a=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&a._origin instanceof qe)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return o.positionChanges.pipe(Mn(this._destroyed)).subscribe(a=>{this._updateCurrentPositionClass(a.connectionPair),this._tooltipInstance&&a.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${aV}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Mn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Mn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Mn(this._destroyed)).subscribe(a=>{this._isTooltipVisible()&&27===a.keyCode&&!jg(a)&&(a.preventDefault(),a.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,o=this._getOrigin(),a=this._getOverlayPosition();i.withPositions([this._addOffset({...o.main,...a.main}),this._addOffset({...o.fallback,...a.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let o;"above"==i||"below"==i?o={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?o={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(o={originX:"end",originY:"center"});const{x:a,y:d}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:a,originY:d}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let o;"above"==i?o={overlayX:"center",overlayY:"bottom"}:"below"==i?o={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?o={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(o={overlayX:"start",overlayY:"center"});const{x:a,y:d}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:a,overlayY:d}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(jn(1),Mn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:o,originY:a}=e;let d;if(d="center"===i?this._dir&&"rtl"===this._dir.value?"end"===o?"left":"right":"start"===o?"left":"right":"bottom"===i&&"top"===a?"above":"below",d!==this._currentPosition){const p=this._overlayRef;if(p){const g=`${this._cssClassPrefix}-${aV}-`;p.removePanelClass(g+this._currentPosition),p.addPanelClass(g+d)}this._currentPosition=d}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],o=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,o),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const o=i.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,o])=>{this._elementRef.nativeElement.addEventListener(i,o,cV)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),o=this._elementRef.nativeElement;i!==o&&!o.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,o=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),("on"===e||!i.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){hc()},n.\u0275dir=se({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),lV=(()=>{class n extends kY{constructor(e,i,o,a,d,p,g,y,w,D,S,O){super(e,i,o,a,d,p,g,y,w,D,S,O),this._tooltipComponent=SY,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const o=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=o?-8:8:"end"===e.originX&&(e.offsetX=o?8:-8),e}}return n.\u0275fac=function(e){return new(e||n)(B(Ac),B(qe),B(Qb),B(ji),B(Ze),B(ci),B(V7),B(Bp),B(sV),B(Ua,8),B(bY,8),B(Ot))},n.\u0275dir=se({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[De]}),n})(),MY=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Ne,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,o=this._showAnimation,a=this._hideAnimation;if(i.classList.remove(e?a:o),i.classList.add(e?o:a),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const d=getComputedStyle(i);("0s"===d.getPropertyValue("animation-duration")||"none"===d.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(B(io),B(Eo,8))},n.\u0275dir=se({type:n}),n})(),SY=(()=>{class n extends MY{constructor(e,i,o){super(e,o),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}}return n.\u0275fac=function(e){return new(e||n)(B(io),B(qe),B(Eo,8))},n.\u0275cmp=kt({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&Nn(fY,7),2&e){let o;dt(o=ut())&&(i._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&ct("mouseleave",function(a){return i._handleMouseLeave(a)}),2&e&&$o("zoom",i.isVisible()?1:null)},features:[De],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(e,i){1&e&&(he(0,"div",0,1),ct("animationend",function(a){return i._handleAnimationEnd(a)}),he(2,"div",2),gt(3),fe()()),2&e&&(lt("mdc-tooltip--multiline",i._isMultiline),Ce("ngClass",i.tooltipClass),xe(3),bo(i.message))},dependencies:[KS],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:-8px;right:-8px;bottom:-8px;left:-8px;z-index:-1;position:absolute}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),TY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({providers:[vY],imports:[nR,xp,ND,xn,xn,Vg]}),n})();function dV(n,t){return t?e=>kg(t.pipe(jn(1),function AY(){return an((n,t)=>{n.subscribe(Bn(t,on))})}()),e.pipe(dV(n))):Ri((e,i)=>n(e,i).pipe(jn(1),xN(e)))}function MI(n,t=rD){const e=RL(n,t);return dV(()=>e)}const RY=["mat-menu-item",""];function IY(n,t){1&n&&(nh(),he(0,"svg",3),Qe(1,"polygon",4),fe())}const OY=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],PY=["mat-icon, [matMenuItemIcon]","*"];function FY(n,t){if(1&n){const e=Ki();he(0,"div",0),ct("keydown",function(o){return ge(e),Xn(We()._handleKeydown(o))})("click",function(){return ge(e),Xn(We().closed.emit("click"))})("@transformMenu.start",function(o){return ge(e),Xn(We()._onAnimationStart(o))})("@transformMenu.done",function(o){return ge(e),Xn(We()._onAnimationDone(o))}),he(1,"div",1),bt(2),fe()()}if(2&n){const e=We();Ce("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),Jt("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const NY=["*"],SI=new ue("MAT_MENU_PANEL"),LY=oR($D(class{}));let o_=(()=>{class n extends LY{constructor(e,i,o,a,d){super(),this._elementRef=e,this._document=i,this._focusMonitor=o,this._parentMenu=a,this._changeDetectorRef=d,this.role="menuitem",this._hovered=new Ne,this._focused=new Ne,this._highlighted=!1,this._triggersSubmenu=!1,a?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<i.length;o++)i[o].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(Ot),B(Bp),B(SI,8),B(io))},n.\u0275cmp=kt({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(e,i){1&e&&ct("click",function(a){return i._checkDisabled(a)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(Jt("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),lt("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[De],attrs:RY,ngContentSelectors:PY,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(si(OY),bt(0),he(1,"span",0),bt(2,1),fe(),Qe(3,"div",1),Se(4,IY,2,0,"svg",2)),2&e&&(xe(3),Ce("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),xe(1),Ce("ngIf",i._triggersSubmenu))},dependencies:[wg,Vp],encapsulation:2,changeDetection:0}),n})();const BY=new ue("MatMenuContent"),z1={transformMenu:Eg("transformMenu",[Hl("void",Vr({opacity:0,transform:"scale(0.8)"})),Dc("void => enter",Cc("120ms cubic-bezier(0, 0, 0.2, 1)",Vr({opacity:1,transform:"scale(1)"}))),Dc("* => void",Cc("100ms 25ms linear",Vr({opacity:0})))]),fadeInItems:Eg("fadeInItems",[Hl("showing",Vr({opacity:1})),Dc("void => *",[Vr({opacity:0}),Cc("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let VY=0;const uV=new ue("mat-menu-default-options",{providedIn:"root",factory:function jY(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let S0=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=gn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=gn(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(o=>{this._classList[o]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(o=>{this._classList[o]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,i,o,a){this._elementRef=e,this._ngZone=i,this._defaultOptions=o,this._changeDetectorRef=a,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new gg,this._classList={},this._panelAnimationState="void",this._animationDone=new Ne,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new rn,this.close=this.closed,this.panelId="mat-menu-panel-"+VY++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new QL(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(bu(this._directDescendantItems),ro(e=>Oo(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const o=e.toArray(),a=Math.max(0,Math.min(o.length-1,i.activeItemIndex||0));o[a]&&!o[a].disabled?i.setActiveItem(a):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(bu(this._directDescendantItems),ro(i=>Oo(...i.map(o=>o._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,o=this._keyManager;switch(i){case 27:jg(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&o.setFocusOrigin("keyboard"),void o.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(jn(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const o=this._keyManager;o.setFocusOrigin(e).setFirstItemActive(),!o.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),o=`${this._elevationPrefix}${i}`,a=Object.keys(this._classList).find(d=>d.startsWith(this._elevationPrefix));(!a||a===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[o]=!0,this._previousElevation=o)}setPositionClasses(e=this.xPosition,i=this.yPosition){const o=this._classList;o["mat-menu-before"]="before"===e,o["mat-menu-after"]="after"===e,o["mat-menu-above"]="above"===i,o["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(bu(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(Ze),B(uV),B(io))},n.\u0275dir=se({type:n,contentQueries:function(e,i,o){if(1&e&&(Ln(o,BY,5),Ln(o,o_,5),Ln(o,o_,4)),2&e){let a;dt(a=ut())&&(i.lazyContent=a.first),dt(a=ut())&&(i._allItems=a),dt(a=ut())&&(i.items=a)}},viewQuery:function(e,i){if(1&e&&Nn(Zi,5),2&e){let o;dt(o=ut())&&(i.templateRef=o.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),hV=(()=>{class n extends S0{constructor(e,i,o,a){super(e,i,o,a),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(e){return new(e||n)(B(qe),B(Ze),B(uV),B(io))},n.\u0275cmp=kt({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&Jt("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Je([{provide:SI,useExisting:n}]),De],ngContentSelectors:NY,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(e,i){1&e&&(si(),Se(0,FY,3,6,"ng-template"))},dependencies:[KS],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[z1.transformMenu,z1.fadeInItems]},changeDetection:0}),n})();const pV=new ue("mat-menu-scroll-strategy"),zY={provide:pV,deps:[Ac],useFactory:function HY(n){return()=>n.scrollStrategies.reposition()}},mV=Mp({passive:!0});let $Y=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,i,o,a,d,p,g,y,w){this._overlay=e,this._element=i,this._viewContainerRef=o,this._menuItemInstance=p,this._dir=g,this._focusMonitor=y,this._ngZone=w,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=qt.EMPTY,this._hoverSubscription=qt.EMPTY,this._menuCloseSubscription=qt.EMPTY,this._changeDetectorRef=St(io),this._handleTouchStart=D=>{eR(D)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new rn,this.onMenuOpen=this.menuOpened,this.menuClosed=new rn,this.onMenuClose=this.menuClosed,this._scrollStrategy=a,this._parentMaterialMenu=d instanceof S0?d:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,mV)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,mV),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),o=i.getConfig(),a=o.positionStrategy;this._setPosition(e,a),o.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof S0&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Mn(e.close)).subscribe(()=>{a.withLockedPosition(!1).reapplyLastPosition(),a.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof S0?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Kn(o=>"void"===o.toState),jn(1),Mn(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,o=e.parentMenu;for(;o;)i++,o=o.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new WA({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(o=>{const a="start"===o.connectionPair.overlayX?"after":"before",d="top"===o.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(a,d)):e.setPositionClasses(a,d)})}_setPosition(e,i){let[o,a]="before"===e.xPosition?["end","start"]:["start","end"],[d,p]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[g,y]=[d,p],[w,D]=[o,a],S=0;if(this.triggersSubmenu()){if(D=o="before"===e.xPosition?"start":"end",a=w="end"===o?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const O=this._parentMaterialMenu.items.first;this._parentInnerPadding=O?O._getHostElement().offsetTop:0}S="bottom"===d?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(g="top"===d?"bottom":"top",y="top"===p?"bottom":"top");i.withPositions([{originX:o,originY:g,overlayX:w,overlayY:d,offsetY:S},{originX:a,originY:g,overlayX:D,overlayY:d,offsetY:S},{originX:o,originY:y,overlayX:w,overlayY:p,offsetY:-S},{originX:a,originY:y,overlayX:D,overlayY:p,offsetY:-S}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments();return Oo(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:je(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Kn(d=>d!==this._menuItemInstance),Kn(()=>this._menuOpen)):je(),i)}_handleMousedown(e){JA(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Kn(e=>e===this._menuItemInstance&&!e.disabled),MI(0,BA)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof S0&&this.menu._isAnimating?this.menu._animationDone.pipe(jn(1),MI(0,BA),Mn(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new zA(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(B(Ac),B(qe),B(ji),B(pV),B(SI,8),B(o_,10),B(Ua,8),B(Bp),B(Ze))},n.\u0275dir=se({type:n,hostVars:3,hostBindings:function(e,i){1&e&&ct("click",function(a){return i._handleClick(a)})("mousedown",function(a){return i._handleMousedown(a)})("keydown",function(a){return i._handleKeydown(a)}),2&e&&Jt("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),fV=(()=>{class n extends $Y{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ft(n)))(i||n)}}(),n.\u0275dir=se({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[De]}),n})(),UY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({providers:[zY],imports:[xp,t0,xn,ND,Vg,xn]}),n})();const GY=["inputName"];function WY(n,t){if(1&n){const e=Ki();he(0,"button",21),ct("click",function(){ge(e);const o=We().node;return Xn(We().doEditNode(o))}),Qe(1,"mat-icon",22),fe()}if(2&n){const e=We().node,i=We();Jh("aria-label","edit  ",e.name,""),ip("matTooltip","Edit '",e.name,"'"),Ce("disabled",i.editElement)}}function qY(n,t){1&n&&(he(0,"button",23),Qe(1,"mat-icon",24),fe()),2&n&&Ce("disabled",We(2).editElement)}function KY(n,t){if(1&n&&(he(0,"button",25),Qe(1,"mat-icon",24),gt(2),fe()),2&n){const e=We().node;Ce("queryParams",We().toQueryParams(e)),xe(2),vi(" Add diagram to '",e.name,"' ")}}function YY(n,t){if(1&n){const e=Ki();he(0,"button",18),ct("click",function(){ge(e);const o=We().node;return Xn(We().doMoveElement(o))}),Qe(1,"mat-icon",26),gt(2),fe()}if(2&n){const e=We().node;xe(2),vi(" ","Move '"+e.name+"'"," ")}}function XY(n,t){if(1&n){const e=Ki();he(0,"button",18),ct("click",function(){ge(e);const o=We().node;return Xn(We().doDelete(o))}),Qe(1,"mat-icon",27),gt(2),fe()}if(2&n){const e=We().node;Jt("aria-label","Delete "+e.name),xe(2),vi(" Delete '",e.name,"' ")}}function ZY(n,t){if(1&n){const e=Ki();he(0,"button",18),ct("click",function(){return ge(e),Xn(We(2).doClear())}),he(1,"mat-icon",28),gt(2,"delete_forever"),fe(),gt(3," Delete everything "),fe()}}function QY(n,t){if(1&n){const e=Ki();he(0,"div"),Se(1,WY,2,3,"button",13),Se(2,qY,2,1,"button",14),he(3,"button",15)(4,"mat-icon"),gt(5,"more_vert"),fe()(),he(6,"mat-menu",null,16),Se(8,KY,3,2,"button",17),he(9,"button",18),ct("click",function(){const a=ge(e).node;return Xn(We().doAddFolder(a))}),Qe(10,"mat-icon",19),gt(11),fe(),Se(12,YY,3,1,"button",20),Qe(13,"mat-divider"),Se(14,XY,3,2,"button",20),Se(15,ZY,4,0,"button",20),fe()()}if(2&n){const e=t.node,i=Tn(7),o=We();xe(1),Ce("ngIf",e),xe(1),Ce("ngIf",!e),xe(1),Ce("disabled",o.editElement)("matMenuTriggerFor",i),xe(5),Ce("ngIf",e),xe(3),vi(" ",e?"Add folder to '"+e.name+"'":"Add folder"," "),xe(1),Ce("ngIf",e),xe(2),Ce("ngIf",e&&(null==e.source?null:e.source.id)),xe(1),Ce("ngIf",!e)}}function JY(n,t){1&n&&(he(0,"th",29)(1,"span"),gt(2," Name "),fe()()),2&n&&(xe(1),$o("padding-left",48,"px"))}function eX(n,t){if(1&n){const e=Ki();Qr(0),he(1,"button",33),ct("click",function(){ge(e);const o=We().$implicit;return Xn(We().ds.treeControl.toggle(o))}),he(2,"mat-icon",34),gt(3),fe()(),Qe(4,"app-bpmn-element-icon",35),gt(5),Jr()}if(2&n){const e=We().$implicit,i=We();xe(1),$o("visibility",e.expandable?"":"hidden")("margin-left",32*e.level,"px"),xe(2),vi(" ",i.ds.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),xe(1),Ce("element",e),xe(1),vi(" ",e.name," ")}}function tX(n,t){if(1&n){const e=Ki();he(0,"mat-form-field")(1,"input",41,42),ct("keydown.enter",function(){return ge(e),Xn(We(3).doSaveElement())})("ngModelChange",function(o){return ge(e),Xn(We(3).editElement.name=o)}),fe()()}if(2&n){const e=We(3);xe(1),Ce("ngModel",e.editElement.name)}}function nX(n,t){if(1&n){const e=Ki();Qr(0),Qe(1,"button",36),Se(2,tX,3,1,"mat-form-field",32),he(3,"div",37)(4,"button",38),ct("click",function(){return ge(e),Xn(We(2).doSaveElement())}),Qe(5,"mat-icon",39),gt(6),fe(),he(7,"button",40),ct("click",function(){return ge(e),Xn(We(2).cancelEdit())}),gt(8," Cancel "),fe()(),Jr()}if(2&n){const e=We(2);xe(2),Ce("ngIf",e.editElement),xe(2),Ce("disabled",""==(null==e.editElement?null:e.editElement.name)),xe(2),vi(" ",null!=e.editElement&&e.editElement.id?"Save":"Create"," ")}}function iX(n,t){if(1&n&&(he(0,"td",30)(1,"div",31),Se(2,eX,6,7,"ng-container",32),Se(3,nX,9,3,"ng-container",32),fe()()),2&n){const e=t.$implicit,i=We();xe(2),Ce("ngIf",!i.isEditNode(0,e)),xe(1),Ce("ngIf",i.isEditNode(0,e))}}function rX(n,t){1&n&&(he(0,"th",29),gt(1," Last update "),fe())}function oX(n,t){if(1&n&&(he(0,"td",30),gt(1),function f2(n,t){const e=Pe();let i;const o=n+22;e.firstCreatePass?(i=function PV(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[o]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(o,i.onDestroy)):i=e.data[o];const a=i.factory||(i.factory=Yc(i.type)),d=Po(B);try{const p=lh(!1),g=a();return lh(p),function Zr(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,le(),o,g),g}finally{Po(d)}}(2,"date"),fe()),2&n){const e=t.$implicit;xe(1),vi(" ",function g2(n,t,e,i){const o=n+22,a=le(),d=Zc(a,o);return function ab(n,t){return n[1].data[t].pure}(a,o)?rb(a,br(),t,d.transform,e,i,d):d.transform(e,i)}(2,1,e.updateDate,"short")," ")}}function sX(n,t){if(1&n&&(he(0,"th",43),_i(1,44),fe()),2&n){We();const e=Tn(4);xe(1),Ce("ngTemplateOutlet",e)}}const aX=function(n){return{node:n}};function cX(n,t){if(1&n&&(he(0,"td",45),_i(1,46),fe()),2&n){const e=t.$implicit;We();const i=Tn(4);xe(1),Ce("ngTemplateOutlet",i)("ngTemplateOutletContext",xc(2,aX,e))}}function lX(n,t){1&n&&Qe(0,"tr",47)}function dX(n,t){1&n&&Qe(0,"tr",48)}class T0{constructor(t,e,i,o,a){this.dialog=t,this.router=e,this.elementService=i,this.diagramService=o,this.db=a,this.displayedColumns=["name","date","actions"],this.cancelEdit=()=>{this.editElement&&this.parent&&void 0===this.editElement.id&&this.parent.children.indexOf(this.editElement)>=0&&this.parent.children.splice(this.parent.children.indexOf(this.editElement),1),this.parent=void 0,this.editElement=void 0,this.ds.removeElementsWithoutId()},this.isEditNode=(d,p)=>null!=this.editElement&&p&&p.source&&(this.editElement==p.source||null!=p.source.id&&null!=this.editElement.id&&p.source.id==this.editElement.id),this.hasChild=(d,p)=>p.expandable,this.isEmptyFolder=(d,p)=>!p.expandable&&p.source&&p.source.type===$r.folder,this.ds=new sW(i)}ngOnInit(){this.ds.doReload()}toQueryParams(t){return{parent:t?.source?.id||0}}doEditNode(t){t.type==$r.diagram?this.router.navigate(["/diagrams",t.source.id||"new"]):this._doEditFolderNode(t)}_doEditFolderNode(t){this.editElement=t.source,this.ds.rerenderAllElements(),this._focusInput()}doAddFolder(t){const e=this.editElement=Yb("",$r.folder,t?.source.id);t&&t.source.id?(this.parent=t.source,this.parent.children.push(e),t.expandable=!0,this.ds.dataSource.data=this.ds.dataSource.data,this.ds.treeControl.expand(t)):this.ds.dataSource.data=new Array(e).concat(this.ds.dataSource.data),this._focusInput()}_focusInput(){setTimeout(()=>{this.inputName&&this.inputName.nativeElement.focus()},1)}doMoveElement(t){var e=this;this.dialog.open(M0,{data:{element:t.source},width:"80%"}).afterClosed().subscribe(function(){var o=Rn(function*(a){a&&(yield e.elementService.moveElement(t.source,a.id),yield e.ds.doReload())});return function(a){return o.apply(this,arguments)}}())}doDelete(t){this.dialog.open($g,{data:new AB(`Should '${t.name}' be deleted?`,"Confirm delete")}).afterClosed().subscribe(e=>e?this._deleteElement(t.source):null)}_deleteElement(t){var e=this;return Rn(function*(){yield e.diagramService.delete(t.id),yield e.elementService.delete(t.id),e.ds.flatTreeNodeCache.delete(t),yield e.ds.doReload()})()}doSaveElement(){var t=this;return Rn(function*(){t.editElement&&t.editElement.name&&t.editElement.name.length>0&&(yield t.elementService.save(t.editElement),t.editElement=void 0,yield t.ds.doReload())})()}doClear(){var t=this;return Rn(function*(){t.dialog.open($g,{data:new AB("Do your really want to delete all data? Everything will be removed.","Confirm clear data")}).afterClosed().subscribe(function(){var e=Rn(function*(i){i&&(yield t.db.clear(),yield t.ds.doReload())});return function(i){return e.apply(this,arguments)}}())})()}}T0.\u0275fac=function(t){return new(t||T0)(B(lR),B(Do),B(Pc),B(Yp),B(Au))},T0.\u0275cmp=kt({type:T0,selectors:[["app-browse-digram-page"]],viewQuery:function(t,e){if(1&t&&Nn(GY,5),2&t){let i;dt(i=ut())&&(e.inputName=i.first)}},decls:17,vars:3,consts:[["color","primary"],[1,"app-spacer"],["defaultButtons",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","actions"],["mat-header-cell","","style","text-align: right;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: right;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-icon-button","",3,"matTooltip","disabled","click",4,"ngIf"],["mat-icon-button","","routerLink","/diagrams/new","matTooltip","New Diagram",3,"disabled",4,"ngIf"],["mat-icon-button","","aria-label","Open menu",3,"disabled","matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","routerLink","/diagrams/new",3,"queryParams",4,"ngIf"],["mat-menu-item","",3,"click"],["fontIcon","create_new_folder"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-icon-button","",3,"matTooltip","disabled","click"],["fontIcon","edit"],["mat-icon-button","","routerLink","/diagrams/new","matTooltip","New Diagram",3,"disabled"],["fontIcon","account_tree"],["mat-menu-item","","routerLink","/diagrams/new",3,"queryParams"],["fontIcon","move_down"],["color","warn","fontIcon","delete"],["color","warn"],["mat-header-cell",""],["mat-cell",""],[1,"app-flex"],[4,"ngIf"],["mat-icon-button","",3,"click"],[1,"mat-icon-rtl-mirror"],[1,"mr-2",3,"element"],["mat-icon-button","","disabled",""],[1,"app-action-bar"],["aria-label","save folder name","mat-raised-button","","color","primary",3,"disabled","click"],["fontIcon","save"],["aria-label","cancel folder name change","mat-raised-button","",3,"click"],["aria-label","enter folder name","matInput","",3,"ngModel","keydown.enter","ngModelChange"],["inputName",""],["mat-header-cell","",2,"text-align","right"],[3,"ngTemplateOutlet"],["mat-cell","",2,"text-align","right"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(he(0,"mat-toolbar",0),gt(1," BPMN Architect "),Qe(2,"div",1),fe(),Se(3,QY,16,9,"ng-template",null,2,_g),he(5,"table",3),Qr(6,4),Se(7,JY,3,2,"th",5),Se(8,iX,4,2,"td",6),Jr(),Qr(9,7),Se(10,rX,2,0,"th",5),Se(11,oX,3,4,"td",6),Jr(),Qr(12,8),Se(13,sX,2,1,"th",9),Se(14,cX,2,4,"td",10),Jr(),Se(15,lX,1,0,"tr",11),Se(16,dX,1,0,"tr",12),fe()),2&t&&(xe(5),Ce("dataSource",e.ds.dataSource),xe(10),Ce("matHeaderRowDef",e.displayedColumns),xe(1),Ce("matRowDefColumns",e.displayedColumns))},dependencies:[wg,wC,Eb,VT,eD,qb,rV,qD,TB,C0,mY,lI,uI,wI,B1,EI,V1,L1,CI,j1,H1,DI,kI,lV,hV,o_,fV,r_,jO],styles:[".type-icon[_ngcontent-%COMP%]{color:#757575;margin-right:5px}.mat-tree-node[_ngcontent-%COMP%]{border-bottom:rgba(0,0,0,.12) 1px solid}tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#0000000a}"]});var uX=Ko(327);const A0=Object.prototype.toString,hX=Object.prototype.hasOwnProperty;function fX(n,t){return hX.call(n,t)}function Wo(n,t){let e,i;if(function R0(n){return void 0===n}(n))return;const o=function TI(n){return"[object Array]"===A0.call(n)}(n)?EX:wX;for(let a in n)if(fX(n,a)&&(e=n[a],i=t(e,o(a)),!1===i))return e}function yX(n,t){return!!function gX(n,t){let e;return t=function OI(n){return function _V(n){const t=A0.call(n);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t||"[object Proxy]"===t}(n)?n:t=>t===n}(t),Wo(n,function(i,o){if(t(i,o))return e=i,!1}),e}(n,t)}function wX(n){return n}function EX(n){return Number(n)}var SX=Ko(538),TX=Ko.n(SX);function s_(n,t){var e=this;n.on(["render.shape","render.connection"],t=t||1e3,function(i,o){var a=i.type,d=o.element,p=o.gfx,g=o.attrs;if(e.canRender(d))return"render.shape"===a?e.drawShape(p,d,g):e.drawConnection(p,d,g)}),n.on(["render.getShapePath","render.getConnectionPath"],t,function(i,o){if(e.canRender(o))return"render.getShapePath"===i.type?e.getShapePath(o):e.getConnectionPath(o)})}s_.prototype.canRender=function(){},s_.prototype.drawShape=function(){},s_.prototype.drawConnection=function(){},s_.prototype.getShapePath=function(){},s_.prototype.getConnectionPath=function(){};var yV={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":2,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":2,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function bV(n,t,e){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=yV[i];o?(2===o&&"number"==typeof e&&(e=String(e)+"px"),n.style[i]=e):n.setAttributeNS(null,t,e)}function $1(n,t,e){if("string"==typeof t){if(void 0===e)return function IX(n,t){return yV[t]?n.style[t]:n.getAttributeNS(null,t)}(n,t);bV(n,t,e)}else!function OX(n,t){var i,o,e=Object.keys(t);for(i=0;o=e[i];i++)bV(n,o,t[o])}(n,t);return n}const PX=Object.prototype.toString;function Ou(n){if(!n||!n.nodeType)throw new Error("A DOM element reference is required");this.el=n,this.list=n.classList}Ou.prototype.add=function(n){return this.list.add(n),this},Ou.prototype.remove=function(n){return"[object RegExp]"==PX.call(n)?this.removeMatching(n):(this.list.remove(n),this)},Ou.prototype.removeMatching=function(n){const t=this.array();for(let e=0;e<t.length;e++)n.test(t[e])&&this.remove(t[e]);return this},Ou.prototype.toggle=function(n,t){return typeof t<"u"?t!==this.list.toggle(n,t)&&this.list.toggle(n):this.list.toggle(n),this},Ou.prototype.array=function(){return Array.from(this.list)},Ou.prototype.has=Ou.prototype.contains=function(n){return this.list.contains(n)};var NI_svg="http://www.w3.org/2000/svg",xV='<svg xmlns="'+NI_svg+'"';function a_(n,t){var e;return"<"===n.charAt(0)?(e=function wV(n){var t=!1;"<svg"===n.substring(0,4)?-1===n.indexOf(NI_svg)&&(n=xV+n.substring(4)):(n=xV+">"+n+"</svg>",t=!0);var e=function LX(n){var t;return(t=new DOMParser).async=!1,t.parseFromString(n,"text/xml")}(n);if(!t)return e;for(var i=document.createDocumentFragment(),o=e.firstChild;o.firstChild;)i.appendChild(o.firstChild);return i}(n).firstChild,e=document.importNode(e,!0)):e=document.createElementNS(NI_svg,n),t&&$1(e,t),e}const qX=["diagram"],G1="__showing_diagram_id__";class c_{constructor(t,e,i){this._zone=t,this._router=e,this._elementService=i,this._diagramNameToIdMap=new Map,this._diagramNameToIdMap.set(G1,0),this._modeler=new(TX())({keyboard:{bindTo:document},additionalModules:[{__init__:["myRenderer"],myRenderer:["type",KX]},{router:["value",e]},{diagramNameToIdMap:["value",this._diagramNameToIdMap]}]})}ngAfterContentInit(){var t=this;return Rn(function*(){if(!t._diagram)throw"diagram element not found in DOM";(yield t._elementService.findByType($r.diagram)).forEach(i=>t._diagramNameToIdMap.set(i.name,i.id)),t._modeler.attachTo(t._diagram.nativeElement),t._zone.run(()=>t._modeler.createDiagram())})()}ngOnDestroy(){this._modeler.destroy()}doOpen(t){return this._diagramNameToIdMap.set(G1,t.element.id??0),this._modeler.importXML(t.xml)}doSave(){return this._modeler.saveXML({format:!0})}}c_.\u0275fac=function(t){return new(t||c_)(B(Ze),B(Do),B(Pc))},c_.\u0275cmp=kt({type:c_,selectors:[["app-bpmn-modeler"]],viewQuery:function(t,e){if(1&t&&Nn(qX,7),2&t){let i;dt(i=ut())&&(e._diagram=i.first)}},decls:2,vars:0,consts:[[1,"bpmn-diagram"],["diagram",""]],template:function(t,e){1&t&&Qe(0,"div",0,1)},styles:[".bpmn-diagram[_ngcontent-%COMP%]{width:100%;height:100%}"]});let KX=(()=>{class n extends s_{constructor(e,i,o,a){super(e,1500),this.eventBus=e,this.bpmnRenderer=i,this.diagramNameToIdMap=o,this.router=a,this.bpmnRenderer=i}canRender(e){return function kX(n,t){return yX(t,function(e){return function DX(n,t){var e=function MX(n){return n&&n.businessObject||n}(n);return e&&"function"==typeof e.$instanceOf&&e.$instanceOf(t)}(n,e)})}(e,["bpmn:Task"])&&!e.labelTarget}drawShape(e,i){const o=this.bpmnRenderer.drawShape(e,i),a=i.businessObject.name;return a&&this.addLinkIcon(a,e),o}addLinkIcon(e,i){const o=this.diagramNameToIdMap.get(e);if(o&&o!==this.diagramNameToIdMap.get(G1)){const a=this.newLink(o);$1(a,{transform:"translate(2, -25)"}),function RX(n,t){(function vV(n,t){return t.appendChild(function PI(n,t){if(n.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(n,!0)}catch{}return n}(n,t))})(t,n)}(i,a)}}newLink(e){const i=a_("g");i.setAttribute("class","diagram-link"),$1(i,{width:"24",height:"24"});const o=a_("svg");i.appendChild(o);const a=a_("a");o.appendChild(a);const d=a_("rect");$1(d,{width:"24",height:"24"}),a.appendChild(d);const p=a_("path");return p.setAttribute("d","M 5 3 C 3.9069372 3 3 3.9069372 3 5 L 3 19 C 3 20.093063 3.9069372 21 5 21 L 19 21 C 20.093063 21 21 20.093063 21 19 L 21 12 L 19 12 L 19 19 L 5 19 L 5 5 L 12 5 L 12 3 L 5 3 z M 14 3 L 14 5 L 17.585938 5 L 8.2929688 14.292969 L 9.7070312 15.707031 L 19 6.4140625 L 19 10 L 21 10 L 21 3 L 14 3 z"),a.appendChild(p),a.addEventListener("click",g=>{console.info("SVG click to diagram "+e,g),this.router.navigate(["/diagrams",e],{queryParams:{navigationSource:this.diagramNameToIdMap.get(G1)}})}),i}}return n.$inject=["eventBus","bpmnRenderer","diagramNameToIdMap","router"],n})();class I0{constructor(){this.importDone=new rn}onFileSelected(t){const e=t.target.files[0];if(e){const i=new FileReader;i.addEventListener("load",()=>{this.importDone.emit({file:e,value:i.result})},!1),i.readAsText(e)}}}I0.\u0275fac=function(t){return new(t||I0)},I0.\u0275cmp=kt({type:I0,selectors:[["app-upload-button"]],outputs:{importDone:"importDone"},decls:5,vars:0,consts:[["type","file","accept",".bpmn",1,"file-input",2,"display","none",3,"change"],["fileUpload",""],["mat-menu-item","",3,"click"],["fontIcon","upload"]],template:function(t,e){if(1&t){const i=Ki();he(0,"input",0,1),ct("change",function(a){return e.onFileSelected(a)}),fe(),he(2,"button",2),ct("click",function(){return ge(i),Xn(Tn(1).click())}),Qe(3,"mat-icon",3),gt(4," Upload File\n"),fe()}},dependencies:[C0,o_]});const YX=function(n){return["/diagrams",n]};function XX(n,t){if(1&n&&(he(0,"div")(1,"a",15),gt(2),fe(),he(3,"small"),gt(4,"/"),fe()()),2&n){const e=We();xe(1),Ce("routerLink",xc(2,YX,e.navigationSource.id)),xe(1),bo(e.navigationSource.name)}}class O0{constructor(t,e,i){this.bmmnElementService=t,this.bpmnService=e,this.route=i,this.diagram={xml:"",element:Yb("",$r.diagram)},this._subs=new Array}ngOnDestroy(){for(const t of this._subs)try{t.unsubscribe()}catch{}this._subs=[]}ngOnInit(){var t=this;this._subs.push(this.route.params.subscribe(e=>{const i=e.id;if(i&&"new"!=i)this.diagram.id=parseInt(i),this.doUndo();else{const o=parseInt(this.route.snapshot.queryParams.parent||"0");this.diagram.element.parentId=o}})),this._subs.push(this.route.queryParams.subscribe(function(){var e=Rn(function*(i){t.navigationSource=i.navigationSource?yield t.bmmnElementService.get(parseInt(i.navigationSource)):void 0});return function(i){return e.apply(this,arguments)}}()))}doUndo(){var t=this;return Rn(function*(){const e=yield t.bpmnService.get(t.diagram.id);e?(t.diagram=e,t.modeler.doOpen(t.diagram)):t.diagram.id=void 0})()}doSave(){var t=this;this.modeler.doSave().then(function(){var e=Rn(function*(i){t.diagram.xml=i.xml,t.diagram=t.diagram.id?yield t.bpmnService.save(t.diagram):yield t.bpmnService.newDiagram(t.diagram.element.name,t.diagram.xml,t.diagram.element.parentId)});return function(i){return e.apply(this,arguments)}}())}doDownload(){this.modeler.doSave().then(t=>{console.info("EditDiagramPageComponent.doSave",t),uX.saveAs(new Blob([t.xml],{type:"application/xml"}),`${this.diagram.element.name}.bpmn`)})}onUpload(t){this.modeler.doOpen({xml:t.value,element:Yb("",$r.diagram)}).then(({warnings:e})=>console.info("success",e)).catch(e=>console.error("upload failed",e))}}O0.\u0275fac=function(t){return new(t||O0)(B(Pc),B(Yp),B(Fp))},O0.\u0275cmp=kt({type:O0,selectors:[["app-edit-diagram-page"]],viewQuery:function(t,e){if(1&t&&Nn(c_,7),2&t){let i;dt(i=ut())&&(e.modeler=i.first)}},decls:23,vars:5,consts:[["mat-icon-button","","routerLink","/diagrams","matTooltip","Back"],["fontIcon","arrow_back"],[4,"ngIf"],["color","primary"],["placeholder","Diagram name","matInput","",3,"ngModel","ngModelChange"],[1,"app-spacer"],["color","primary","mat-button","",3,"disabled","click"],["fontIcon","save"],["mat-icon-button","","aria-label","Open menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"disabled","click"],["fontIcon","undo"],["mat-menu-item","",3,"click"],["fontIcon","download"],[3,"importDone"],["mat-button","",3,"routerLink"]],template:function(t,e){if(1&t&&(he(0,"mat-toolbar")(1,"button",0),Qe(2,"mat-icon",1),fe(),Se(3,XX,5,4,"div",2),he(4,"mat-form-field",3)(5,"input",4),ct("ngModelChange",function(o){return e.diagram.element.name=o}),fe()(),Qe(6,"div",5),he(7,"button",6),ct("click",function(){return e.doSave()}),Qe(8,"mat-icon",7),gt(9," Save "),fe(),he(10,"button",8)(11,"mat-icon"),gt(12,"more_vert"),fe()(),he(13,"mat-menu",null,9)(15,"button",10),ct("click",function(){return e.doUndo()}),Qe(16,"mat-icon",11),gt(17," Undo "),fe(),he(18,"button",12),ct("click",function(){return e.doDownload()}),Qe(19,"mat-icon",13),gt(20," Download "),fe(),he(21,"app-upload-button",14),ct("importDone",function(o){return e.onUpload(o)}),fe()()(),Qe(22,"app-bpmn-modeler")),2&t){const i=Tn(14);xe(3),Ce("ngIf",e.navigationSource),xe(2),Ce("ngModel",e.diagram.element.name),xe(2),Ce("disabled",""==e.diagram.element.name),xe(3),Ce("matMenuTriggerFor",i),xe(5),Ce("disabled",!e.diagram.id)}},dependencies:[wg,Eb,VT,eD,qb,rV,HG,qD,TB,C0,lI,uI,lV,hV,o_,fV,c_,I0]});const ZX=[{path:"diagrams/:id",title:"Edit Diagram",component:O0},{path:"diagrams",title:"Edit Diagram",component:T0},{path:"",redirectTo:"/diagrams",pathMatch:"full"}];class l_{}l_.\u0275fac=function(t){return new(t||l_)},l_.\u0275mod=ot({type:l_}),l_.\u0275inj=It({imports:[kL.forRoot(ZX),kL]});class P0{constructor(){this.title="bpmn-architect"}}P0.\u0275fac=function(t){return new(t||P0)},P0.\u0275cmp=kt({type:P0,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&Qe(0,"router-outlet")},dependencies:[DA]});let JX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[xp,xn,Vg,Vg,xn]}),n})(),TZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[YA,xp,xn,t0,yG,oV]}),n})(),AZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[nR,xn,xn]}),n})(),ZZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({imports:[xn,xp,xn]}),n})();const Pu=new sn(on),JZ={connector:()=>new Ne};function TV(n,t=JZ){const{connector:e}=t;return an((i,o)=>{const a=e();fr(n(function QZ(n){return new sn(t=>n.subscribe(t))}(a))).subscribe(o),o.add(i.subscribe(a))})}const F0="Service workers are disabled or not supported by this browser";class W1{constructor(t){if(this.serviceWorker=t,t){const i=Bg(t,"controllerchange").pipe(et(()=>t.controller)),a=kg(Tg(()=>je(t.controller)),i);this.worker=a.pipe(Kn(w=>!!w)),this.registration=this.worker.pipe(ro(()=>t.getRegistration()));const y=Bg(t,"message").pipe(et(w=>w.data)).pipe(Kn(w=>w&&w.type)).pipe(function tQ(n){return n?t=>TV(n)(t):t=>function eQ(n,t){const e=Dt(n)?n:()=>n;return Dt(t)?TV(t,{connector:e}):i=>new cD(i,e)}(new Ne)(t)}());y.connect(),this.events=y}else this.worker=this.events=this.registration=function nQ(n){return Tg(()=>Ap(new Error(n)))}(F0)}postMessage(t,e){return this.worker.pipe(jn(1),zi(i=>{i.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,i){const o=this.waitForOperationCompleted(i),a=this.postMessage(t,e);return Promise.all([a,o]).then(([,d])=>d)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?i=>i.type===t:i=>t.includes(i.type),this.events.pipe(Kn(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(jn(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(Kn(e=>e.nonce===t),jn(1),et(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let iQ=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.subscriptionChanges=new Ne,!e.isEnabled)return this.messages=Pu,this.notificationClicks=Pu,void(this.subscription=Pu);this.messages=this.sw.eventsOfType("PUSH").pipe(et(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(et(o=>o.data)),this.pushManager=this.sw.registration.pipe(et(o=>o.pushManager));const i=this.pushManager.pipe(ro(o=>o.getSubscription()));this.subscription=Oo(i,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(F0));const i={userVisibleOnly:!0};let o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(o.length));for(let d=0;d<o.length;d++)a[d]=o.charCodeAt(d);return i.applicationServerKey=a,this.pushManager.pipe(ro(d=>d.subscribe(i)),jn(1)).toPromise().then(d=>(this.subscriptionChanges.next(d),d))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(jn(1),ro(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(F0))}decodeBase64(e){return atob(e)}}return n.\u0275fac=function(e){return new(e||n)(ne(W1))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),rQ=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=Pu,this.available=Pu,this.activated=Pu,void(this.unrecoverable=Pu);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Kn(i=>"VERSION_READY"===i.type),et(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(F0));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(F0));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return n.\u0275fac=function(e){return new(e||n)(ne(W1))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class HI{}const AV=new ue("NGSW_REGISTER_SCRIPT");function oQ(n,t,e,i){return()=>{if(!QS(i)||!("serviceWorker"in navigator)||!1===e.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)o=e.registrationStrategy();else{const[d,...p]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(d){case"registerImmediately":o=je(null);break;case"registerWithDelay":o=RV(+p[0]||0);break;case"registerWhenStable":o=p[0]?Oo(IV(n),RV(+p[0])):IV(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.get(Ze).runOutsideAngular(()=>o.pipe(jn(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(d=>console.error("Service worker registration failed with:",d))))}}function RV(n){return je(null).pipe(MI(n))}function IV(n){return n.get(yp).isStable.pipe(Kn(e=>e))}function sQ(n,t){return new W1(QS(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let aQ=(()=>{class n{static register(e,i={}){return{ngModule:n,providers:[{provide:AV,useValue:e},{provide:HI,useValue:i},{provide:W1,useFactory:sQ,deps:[HI,db]},{provide:lb,useFactory:oQ,deps:[gi,AV,HI,db],multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=It({providers:[iQ,rQ]}),n})();class d_{constructor(){OO(n6,"de"),OO(r6,"en")}}d_.\u0275fac=function(t){return new(t||d_)},d_.\u0275mod=ot({type:d_,bootstrap:[P0]}),d_.\u0275inj=It({providers:[Location,{provide:mu,useClass:EO},{provide:ja,useValue:navigator.language??"en"}],imports:[dP,H$,l_,Rz,X$,t0,pY,JX,$G,Tq,TZ,dI,fK,MK,QK,AZ,TY,ZZ,OG,UY,oV,aQ.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]}),w8().bootstrapModule(d_).catch(n=>console.error(n))},538:function(qo,rd,Ko){var Dt=Ko(156).default;qo.exports=function(){"use strict";function Me(r,s){s&&(r.super_=s,r.prototype=Object.create(s.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}var r,s,So=(r=function(r){var s=r.exports=function(c,l){if(l||(l=16),void 0===c&&(c=128),c<=0)return"0";for(var u=Math.log(Math.pow(2,c))/Math.log(l),h=2;u===1/0;h*=2)u=Math.log(Math.pow(2,c/h))/Math.log(l)*h;var m=u-Math.floor(u),f="";for(h=0;h<Math.floor(u);h++)f=Math.floor(Math.random()*l).toString(l)+f;if(m){var _=Math.pow(l,m);f=Math.floor(Math.random()*_).toString(l)+f}var v=parseInt(f,l);return v!==1/0&&v>=Math.pow(2,c)?s(c,l):f};s.rack=function(c,l,u){var h=function(f){var _=0;do{if(_++>10){if(!u)throw new Error("too many ID collisions, use more bits");c+=u}var v=s(c,l)}while(Object.hasOwnProperty.call(m,v));return m[v]=f,v},m=h.hats={};return h.get=function(f){return h.hats[f]},h.set=function(f,_){return h.hats[f]=_,h},h.bits=c||128,h.base=l||16,h}},r(s={exports:{}}),s.exports);function zn(r){if(!(this instanceof zn))return new zn(r);this._seed=(r=r||[128,36,1]).length?So.rack(r[0],r[1],r[2]):r}function qt(r){return Array.prototype.concat.apply([],r)}zn.prototype.next=function(r){return this._seed(r||!0)},zn.prototype.nextPrefixed=function(r,s){var c;do{c=r+this.next(!0)}while(this.assigned(c));return this.claim(c,s),c},zn.prototype.claim=function(r,s){this._seed.set(r,s||!0)},zn.prototype.assigned=function(r){return this._seed.get(r)||!1},zn.prototype.unclaim=function(r){delete this._seed.hats[r]},zn.prototype.clear=function(){var r,s=this._seed.hats;for(r in s)this.unclaim(r)};const hr=Object.prototype.toString,Ti=Object.prototype.hasOwnProperty;function pr(r){return void 0===r}function _n(r){return void 0!==r}function Ht(r){return null==r}function Ae(r){return"[object Array]"===hr.call(r)}function on(r){return"[object Object]"===hr.call(r)}function Re(r){return"[object Number]"===hr.call(r)}function mn(r){const s=hr.call(r);return"[object Function]"===s||"[object AsyncFunction]"===s||"[object GeneratorFunction]"===s||"[object AsyncGeneratorFunction]"===s||"[object Proxy]"===s}function Mr(r){return"[object String]"===hr.call(r)}function Sr(r,s){return Ti.call(r,s)}function wt(r,s){let c;return s=Jp(s),q(r,function(l,u){if(s(l,u))return c=l,!1}),c}function Wa(r,s){s=Jp(s);let c=Ae(r)?-1:void 0;return q(r,function(l,u){if(s(l,u))return c=u,!1}),c}function pt(r,s){let c=[];return q(r,function(l,u){s(l,u)&&c.push(l)}),c}function q(r,s){let c,l;if(pr(r))return;const u=Ae(r)?X1:Y1;for(let h in r)if(Sr(r,h)&&(c=r[h],l=s(c,u(h)),!1===l))return c}function mr(r,s,c){return q(r,function(l,u){c=s(c,l,u)}),c}function qa(r,s){return!!mr(r,function(c,l,u){return c&&s(l,u)},!0)}function To(r,s){return!!wt(r,s)}function ii(r,s){let c=[];return q(r,function(l,u){c.push(s(l,u))}),c}function Zp(r){return r&&Object.keys(r)||[]}function Nu(r){return ii(r,s=>s)}function od(r,s,c={}){return s=sn(s),q(r,function(l){let u=s(l)||"_",h=c[u];h||(h=c[u]=[]),h.push(l)}),c}function Qp(r,...s){r=sn(r);let c={};return q(s,l=>od(l,r,c)),ii(c,function(l,u){return l[0]})}const Ka=Qp;function Yo(r,s){s=sn(s);let c=[];return q(r,function(l,u){let h=s(l,u),m={d:h,v:l};for(var f=0;f<c.length;f++){let{d:_}=c[f];if(h<_)return void c.splice(f,0,m)}c.push(m)}),ii(c,l=>l.v)}function Ao(r){return function(s){return qa(r,function(c,l){return s[l]===c})}}function sn(r){return mn(r)?r:s=>s[r]}function Jp(r){return mn(r)?r:s=>s===r}function Y1(r){return r}function X1(r){return Number(r)}function N0(r,s){let c,l,u,h;function m(b){let x=Date.now(),E=b?0:h+s-x;if(E>0)return f(E);r.apply(u,l),_()}function f(b){c=setTimeout(m,b)}function _(){c&&clearTimeout(c),c=h=l=u=void 0}function v(...b){h=Date.now(),l=b,u=this,c||f(s)}return v.flush=function(){c&&m(!0),_()},v.cancel=_,v}function Ne(r,s){return r.bind(s)}function ee(r,...s){return Object.assign(r,...s)}function Ro(r,s){let c={},l=Object(r);return q(s,function(u){u in l&&(c[u]=r[u])}),c}function an(r,s){let c={};return q(Object(r),function(l,u){-1===s.indexOf(u)&&(c[u]=l)}),c}const Z1=Object.prototype.toString,et=Object.prototype.hasOwnProperty;function u_(r,s){return et.call(r,s)}function Q1(r,s){let c,l;if(void 0===r)return;const u="[object Array]"===Z1.call(r)?$I:L0;for(let h in r)if(u_(r,h)&&(c=r[h],l=s(c,u(h)),!1===l))return c}function L0(r){return r}function $I(r){return Number(r)}function nr(r,...s){const c=r.style;return Q1(s,function(l){l&&Q1(l,function(u,h){c[h]=u})}),r}function Tr(r,s,c){return 2==arguments.length?r.getAttribute(s):null===c?r.removeAttribute(s):(r.setAttribute(s,c),r)}const UI=Object.prototype.toString;function Ai(r){return new Nc(r)}function Nc(r){if(!r||!r.nodeType)throw new Error("A DOM element reference is required");this.el=r,this.list=r.classList}function Lu(r){for(;r.childNodes.length;)r.removeChild(r.childNodes[0]);return r}function em(r,s){return r&&"function"==typeof r.matches&&r.matches(s)}function vs(r,s,c){for(var l=c?r:r.parentNode;l&&l.nodeType!==document.DOCUMENT_NODE&&l.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(em(l,s))return l;l=l.parentNode}return em(l,s)?l:null}Nc.prototype.add=function(r){return this.list.add(r),this},Nc.prototype.remove=function(r){return"[object RegExp]"==UI.call(r)?this.removeMatching(r):(this.list.remove(r),this)},Nc.prototype.removeMatching=function(r){const s=this.array();for(let c=0;c<s.length;c++)r.test(s[c])&&this.remove(s[c]);return this},Nc.prototype.toggle=function(r,s){return void 0!==s?s!==this.list.toggle(r,s)&&this.list.toggle(r):this.list.toggle(r),this},Nc.prototype.array=function(){return Array.from(this.list)},Nc.prototype.has=Nc.prototype.contains=function(r){return this.list.contains(r)};var V0,tm={},J1=window.addEventListener?"addEventListener":"attachEvent",GI=window.removeEventListener?"removeEventListener":"detachEvent",ek="addEventListener"!==J1?"on":"",Ke=function Bn(r,s){return s.forEach(function(c){c&&"string"!=typeof c&&!Array.isArray(c)&&Object.keys(c).forEach(function(l){if("default"!==l&&!(l in r)){var u=Object.getOwnPropertyDescriptor(c,l);Object.defineProperty(r,l,u.get?u:{enumerable:!0,get:function(){return c[l]}})}})}),Object.freeze(r)}({__proto__:null,bind:tm.bind=function(r,s,c,l){return r[J1](ek+s,c,l||!1),c},unbind:tm.unbind=function(r,s,c,l){return r[GI](ek+s,c,l||!1),c},default:tm},[tm]),B0=["focus","blur"],Io_bind=function(r,s,c,l,u){return-1!==B0.indexOf(c)&&(u=!0),Ke.bind(r,c,function(h){h.delegateTarget=vs(h.target||h.srcElement,s,!0),h.delegateTarget&&l.call(r,h)},u)},Io_unbind=function(r,s,c,l){return-1!==B0.indexOf(s)&&(l=!0),Ke.unbind(r,s,c,l)},j0=!1;typeof document<"u"&&((V0=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',j0=!V0.getElementsByTagName("link").length,V0=void 0);var wi={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:j0?[1,"X<div>","</div>"]:[0,"",""]};wi.td=wi.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],wi.option=wi.optgroup=[1,'<select multiple="multiple">',"</select>"],wi.thead=wi.tbody=wi.colgroup=wi.caption=wi.tfoot=[1,"<table>","</table>"],wi.polyline=wi.ellipse=wi.polygon=wi.circle=wi.text=wi.line=wi.path=wi.rect=wi.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var Sn=function(r,s){if("string"!=typeof r)throw new TypeError("String expected");s||(s=document);var c=/<([\w:]+)/.exec(r);if(!c)return s.createTextNode(r);r=r.replace(/^\s+|\s+$/g,"");var l=c[1];if("body"==l)return(u=s.createElement("html")).innerHTML=r,u.removeChild(u.lastChild);var u,h=Object.prototype.hasOwnProperty.call(wi,l)?wi[l]:wi._default,m=h[0],f=h[1],_=h[2];for((u=s.createElement("div")).innerHTML=f+r+_;m--;)u=u.lastChild;if(u.firstChild==u.lastChild)return u.removeChild(u.firstChild);for(var v=s.createDocumentFragment();u.firstChild;)v.appendChild(u.removeChild(u.firstChild));return v};function Cn(r,s){return(s=s||document).querySelector(r)}function H0(r,s){return(s=s||document).querySelectorAll(r)}function na(r){r.parentNode&&r.parentNode.removeChild(r)}function nm(r,s){return s.appendChild(function(c,l){if(c.ownerDocument!==l.ownerDocument)try{return l.ownerDocument.importNode(c,!0)}catch{}return c}(r,s))}function rt(r,s){return nm(s,r),r}var h_={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":2,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":2,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function p_(r,s,c){var l=s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),u=h_[l];u?(2===u&&"number"==typeof c&&(c=String(c)+"px"),r.style[l]=c):r.setAttributeNS(null,s,c)}function ve(r,s,c){if("string"==typeof s){if(void 0===c)return l=r,h_[u=s]?l.style[u]:l.getAttributeNS(null,u);p_(r,s,c)}else!function(l,u){var h,m,f=Object.keys(u);for(h=0;m=f[h];h++)p_(l,m,u[m])}(r,s);var l,u;return r}const tk=Object.prototype.toString;function Nt(r){return new ia(r)}function ia(r){if(!r||!r.nodeType)throw new Error("A DOM element reference is required");this.el=r,this.list=r.classList}function $n(r){var s=r.parentNode;return s&&s.removeChild(r),r}function Bu(r){for(var s;s=r.firstChild;)$n(s);return r}function fr(r){return r.cloneNode(!0)}ia.prototype.add=function(r){return this.list.add(r),this},ia.prototype.remove=function(r){return"[object RegExp]"==tk.call(r)?this.removeMatching(r):(this.list.remove(r),this)},ia.prototype.removeMatching=function(r){const s=this.array();for(let c=0;c<s.length;c++)r.test(s[c])&&this.remove(s[c]);return this},ia.prototype.toggle=function(r,s){return void 0!==s?s!==this.list.toggle(r,s)&&this.list.toggle(r):this.list.toggle(r),this},ia.prototype.array=function(){return Array.from(this.list)},ia.prototype.has=ia.prototype.contains=function(r){return this.list.contains(r)};var m_="http://www.w3.org/2000/svg",z0='<svg xmlns="'+m_+'"';function $0(r){var s=!1;"<svg"===r.substring(0,4)?-1===r.indexOf(m_)&&(r=z0+r.substring(4)):(r=z0+">"+r+"</svg>",s=!0);var h,m,c=(h=r,(m=new DOMParser).async=!1,m.parseFromString(h,"text/xml"));if(!s)return c;for(var l=document.createDocumentFragment(),u=c.firstChild;u.firstChild;)l.appendChild(u.firstChild);return l}function Ye(r,s){var c;return"<"===r.charAt(0)?(c=$0(r).firstChild,c=document.importNode(c,!0)):c=document.createElementNS(m_,r),s&&ve(c,s),c}var im=null;function f_(){return null===im&&(im=Ye("svg")),im}function U0(r,s){var c,l,u=Object.keys(s);for(c=0;l=u[c];c++)r[l]=s[l];return r}function co(r){return r?f_().createSVGTransformFromMatrix(r):f_().createSVGTransform()}var G0=/([&<>]{1})/g,Ri=/([\n\r"]{1})/g,sd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function lo(r,s){return r.replace(s,function(c,l){return sd[l]||l})}function nk(r,s){var c,l,u,h,m;switch(r.nodeType){case 3:s.push(lo(r.textContent,G0));break;case 1:if(s.push("<",r.tagName),r.hasAttributes())for(c=0,l=(u=r.attributes).length;c<l;++c)h=u.item(c),s.push(" ",h.name,'="',lo(h.value,Ri),'"');if(r.hasChildNodes()){for(s.push(">"),c=0,l=(m=r.childNodes).length;c<l;++c)nk(m.item(c),s);s.push("</",r.tagName,">")}else s.push("/>");break;case 8:s.push("\x3c!--",lo(r.nodeValue,G0),"--\x3e");break;case 4:s.push("<![CDATA[",r.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+r.nodeType)}return s}function g_(r,s){if(void 0!==s){try{!function ik(r,s){var c=$0(s);if(Bu(r),s){"#document-fragment"===c.nodeName||(c=c.documentElement);for(var u=Array.prototype.slice.call(c.childNodes),h=0;h<u.length;h++)nm(u[h],r)}}(r,s)}catch(c){throw new Error("error parsing SVG: "+c.message)}return r}return function(c){for(var l=c.firstChild,u=[];l;)nk(l,u),l=l.nextSibling;return u.join("")}(r)}function __(r,s){return s instanceof SVGMatrix?r.createSVGTransformFromMatrix(s):s}function ad(r,s){var c=r.transform.baseVal;return s&&(Array.isArray(s)||(s=[s]),function(l,u){var h,m;for(l.clear(),h=0;m=u[h];h++)l.appendItem(__(l,m))}(c,s)),c.consolidate()}const Vu=/^class[ {]/;function v_(r){return Array.isArray(r)}function rm(r,s){return Object.prototype.hasOwnProperty.call(r,s)}function ju(...r){1===r.length&&v_(r[0])&&(r=r[0]);const s=(r=[...r]).pop();return s.$inject=r,s}const rk=/constructor\s*[^(]*\(\s*([^)]*)\)/m,ok=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,sk=/\/\*([^*]*)\*\//m;function ak(r){if("function"!=typeof r)throw new Error(`Cannot annotate "${r}". Expected a function!`);const s=r.toString().match(Vu.test(r.toString())?rk:ok);if(!s)return[];const c=s[1]||s[2];return c&&c.split(",").map(l=>{const u=l.match(sk);return(u&&u[1]||l).trim()})||[]}function y_(r,s){s=s||{get:function(M,R){if(c.push(M),!1===R)return null;throw m(`No provider for "${M}"!`)}};const c=[],l=this._providers=Object.create(s._providers||null),u=this._instances=Object.create(null),h=u.injector=this,m=function(M){const R=c.join(" -> ");return c.length=0,new Error(R?`${M} (Resolving: ${R})`:M)};function f(M,R){if(!l[M]&&-1!==M.indexOf(".")){const F=M.split(".");let N=f(F.shift());for(;F.length;)N=N[F.shift()];return N}if(rm(u,M))return u[M];if(rm(l,M)){if(-1!==c.indexOf(M))throw c.push(M),m("Cannot resolve circular dependency!");return c.push(M),u[M]=l[M][0](l[M][1]),c.pop(),u[M]}return s.get(M,R)}function _(M,R){if(void 0===R&&(R={}),"function"!=typeof M){if(!v_(M))throw m(`Cannot invoke "${M}". Expected a function!`);M=ju(M.slice())}return{fn:M,dependencies:(M.$inject||ak(M)).map(F=>rm(R,F)?R[F]:f(F))}}function v(M){const{fn:R,dependencies:F}=_(M);return new(Function.prototype.bind.apply(R,[null].concat(F)))}function b(M,R,F){const{fn:N,dependencies:z}=_(M,F);return N.apply(R,z)}function x(M){return ju(R=>M.get(R))}function E(M,R){if(R&&R.length){const F=Object.create(null),N=Object.create(null),z=[],Z=[],Q=[];let K,ie,ye,Oe;for(let oe in l)K=l[oe],-1!==R.indexOf(oe)&&("private"===K[2]?(ie=z.indexOf(K[3]),-1===ie?(ye=K[3].createChild([],R),Oe=x(ye),z.push(K[3]),Z.push(ye),Q.push(Oe),F[oe]=[Oe,oe,"private",ye]):F[oe]=[Q[ie],oe,"private",Z[ie]]):F[oe]=[K[2],K[1]],N[oe]=!0),"factory"!==K[2]&&"type"!==K[2]||!K[1].$scope||R.forEach(de=>{-1!==K[1].$scope.indexOf(de)&&(F[oe]=[K[2],K[1]],N[de]=!0)});R.forEach(oe=>{if(!N[oe])throw new Error('No provider for "'+oe+'". Cannot use provider from the parent!')}),M.unshift(F)}return new y_(M,h)}const C={factory:b,type:v,value:function(M){return M}};function k(M,R){const F=M.__init__||[];return function(){F.forEach(N=>{"string"==typeof N?R.get(N):R.invoke(N)})}}function T(M){const R=M.__exports__;if(R){const F=M.__modules__,N=Object.keys(M).reduce((K,ie)=>("__exports__"!==ie&&"__modules__"!==ie&&"__init__"!==ie&&"__depends__"!==ie&&(K[ie]=M[ie]),K),Object.create(null)),z=E((F||[]).concat(N)),Z=ju(function(K){return z.get(K)});R.forEach(function(K){l[K]=[Z,K,"private",z]});const Q=(M.__init__||[]).slice();return Q.unshift(function(){z.init()}),k(M=Object.assign({},M,{__init__:Q}),z)}return Object.keys(M).forEach(function(F){if("__init__"===F||"__depends__"===F)return;if("private"===M[F][2])return void(l[F]=M[F]);const N=M[F][0];l[F]=[C[N],ck(N,M[F][1]),N]}),k(M,h)}function I(M,R){return-1!==M.indexOf(R)||-1!==(M=(R.__depends__||[]).reduce(I,M)).indexOf(R)?M:M.concat(R)}this.get=f,this.invoke=b,this.instantiate=v,this.createChild=E,this.init=function(M){const R=M.reduce(I,[]).map(T);let F=!1;return function(){F||(F=!0,R.forEach(N=>N()))}}(r)}function ck(r,s){return"value"!==r&&v_(s)&&(s=ju(s.slice())),s}function ra(r,s){var c=this;r.on(["render.shape","render.connection"],s=s||1e3,function(l,u){var h=l.type,m=u.element,f=u.gfx,_=u.attrs;if(c.canRender(m))return"render.shape"===h?c.drawShape(f,m,_):c.drawConnection(f,m,_)}),r.on(["render.getShapePath","render.getConnectionPath"],s,function(l,u){if(c.canRender(u))return"render.getShapePath"===l.type?c.getShapePath(u):c.getConnectionPath(u)})}function In(r){return r.join(",").replace(/,?([A-z]),?/g,"$1")}function Oo(r){for(var s,c="",l=0;s=r[l];l++)c+=s.x+","+s.y+" ";return c}function om(r,s){var c=Ye("polyline");return ve(c,{points:Oo(r)}),s&&ve(c,s),c}function cd(r){return pt(r,function(s){return!wt(r,function(c){return c!==s&&Dn(s,c)})})}function Dn(r,s){if(s){if(r===s)return s;if(r.parent)return Dn(r.parent,s)}}function sm(r,s,c){var l=!c||-1===r.indexOf(s);return l&&r.push(s),l}function Xt(r,s,c){c=c||0,Ae(r)||(r=[r]),q(r,function(l,u){var h=s(l,u,c);Ae(h)&&h.length&&Xt(h,s,c+1)})}function Lc(r,s){return l=!s,-1,h=[],m=[],Xt(r,function(f,_,v){sm(h,f,l);var b=f.children;if(b&&sm(m,b,l))return b}),h;var l,h,m}function ri(r,s){var c,l,u,h;return s=!!s,Ae(r)||(r=[r]),q(r,function(m){var f=m;m.waypoints&&!s&&(f=ri(m.waypoints,!0));var _=f.x,v=f.y,b=f.height||0,x=f.width||0;(_<c||void 0===c)&&(c=_),(v<l||void 0===l)&&(l=v),(_+x>u||void 0===u)&&(u=_+x),(v+b>h||void 0===h)&&(h=v+b)}),{x:c,y:l,height:h-l,width:u-c}}function vn(r){return"waypoints"in r?"connection":"x"in r?"shape":"root"}function mt(r){return!(!r||!r.isFrame)}function Bc(r,s){return ee({},r||{},s||{})}function ys(r,s){ra.call(this,r,1),this.CONNECTION_STYLE=s.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=s.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=s.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}ra.prototype.canRender=function(){},ra.prototype.drawShape=function(){},ra.prototype.drawConnection=function(){},ra.prototype.getShapePath=function(){},ra.prototype.getConnectionPath=function(){},Me(ys,ra),ys.prototype.canRender=function(){return!0},ys.prototype.drawShape=function(r,s,c){var l=Ye("rect");return ve(l,{x:0,y:0,width:s.width||0,height:s.height||0}),mt(s)?ve(l,ee({},this.FRAME_STYLE,c||{})):ve(l,ee({},this.SHAPE_STYLE,c||{})),rt(r,l),l},ys.prototype.drawConnection=function(r,s,c){var l=om(s.waypoints,ee({},this.CONNECTION_STYLE,c||{}));return rt(r,l),l},ys.prototype.getShapePath=function(r){var l=r.width;return In([["M",r.x,r.y],["l",l,0],["l",0,r.height],["l",-l,0],["z"]])},ys.prototype.getConnectionPath=function(r){var s,c,l=r.waypoints,u=[];for(s=0;c=l[s];s++)u.push([0===s?"M":"L",(c=c.original||c).x,c.y]);return In(u)},ys.$inject=["eventBus","styles"];var qI={__init__:["defaultRenderer"],defaultRenderer:["type",ys],styles:["type",function(){var r={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},s=this;this.cls=function(c,l,u){return ee(this.style(l,u),{class:c})},this.style=function(c,l){Ae(c)||l||(l=c,c=[]);var u=mr(c,function(h,m){return ee(h,r[m]||{})},{});return l?ee(u,l):u},this.computeStyle=function(c,l,u){return Ae(l)||(u=l,l=[]),s.style(l||[],ee({},u,c||{}))}}]};function Vn(r,s){if(!r||!s)return-1;var c=r.indexOf(s);return-1!==c&&r.splice(c,1),c}function re(r,s,c){if(r&&s){"number"!=typeof c&&(c=-1);var l=r.indexOf(s);if(-1!==l){if(l===c||-1===c)return;r.splice(l,1)}-1!==c?r.splice(c,0,s):r.push(s)}}function ld(r,s){return r&&s?r.indexOf(s):-1}function Et(r,s){return r&&s?Math.sqrt(Math.pow(r.x-s.x,2)+Math.pow(r.y-s.y,2)):-1}function cn(r,s,c,l){if(void 0===l&&(l=5),!r||!s||!c)return!1;var u=(s.x-r.x)*(c.y-r.y)-(s.y-r.y)*(c.x-r.x),h=Et(r,s);return Math.abs(u/h)<=l}function oa(r,s){var c,l,h,m;return l=c=Ae(r)?r:[r,s],m=(h=Ae(l)?l:[l,undefined]).slice().shift(),qa(h,function(f){return Math.abs(m.y-f.y)<=2})?"h":!!function(l,u){var h,m=(h=Ae(l)?l:[l,void 0]).slice().shift();return qa(h,function(f){return Math.abs(m.x-f.x)<=2})}(c)&&"v"}function lk(r,s,c){return r.x>s.x-(c=c||0)&&r.y>s.y-c&&r.x<s.x+s.width+c&&r.y<s.y+s.height+c}function b_(r,s){return{x:Math.round(r.x+(s.x-r.x)/2),y:Math.round(r.y+(s.y-r.y)/2)}}var am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var KI=/,?([a-z]),?/gi,W0=parseFloat,ui=Math,Ar=ui.PI,sa=ui.min,aa=ui.max,dk=ui.pow,Vc=ui.abs,uk=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,YI=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,cm=Array.isArray||function(r){return r instanceof Array};function q0(r,s){return Object.prototype.hasOwnProperty.call(r,s)}function gr(r){if("function"==typeof r||Object(r)!==r)return r;var s=new r.constructor;for(var c in r)q0(r,c)&&(s[c]=gr(r[c]));return s}function yn(r,s){for(var c=0,l=r.length;c<l;c++)if(r[c]===s)return r.push(r.splice(c,1)[0])}function Hu(r){var s=Hu.ps=Hu.ps||{};return s[r]?s[r].sleep=100:s[r]={sleep:100},setTimeout(function(){for(var c in s)q0(s,c)&&c!=r&&(s[c].sleep--,!s[c].sleep&&delete s[c])}),s[r]}function K0(r,s,c,l){return 1===arguments.length&&(s=r.y,c=r.width,l=r.height,r=r.x),{x:r,y:s,width:c,height:l,x2:r+c,y2:s+l}}function hk(){return this.join(",").replace(KI,"$1")}function we(r){var s=gr(r);return s.toString=hk,s}function pk(r,s,c,l,u,h,m,f,_){var v=1-_,b=dk(v,3),x=dk(v,2),E=_*_*_,C=b*s+3*x*_*l+3*v*_*_*h+E*f;return{x:lm(b*r+3*x*_*c+3*v*_*_*u+E*m),y:lm(C)}}function It(r){var s=w_.apply(null,r);return K0(s.x0,s.y0,s.x1-s.x0,s.y1-s.y0)}function Xo(r,s,c){return s>=r.x&&s<=r.x+r.width&&c>=r.y&&c<=r.y+r.height}function Y0(r,s,c,l,u){return r*(r*(-3*s+9*c-9*l+3*u)+6*s-12*c+6*l)-3*s+3*c}function x_(r,s,c,l,u,h,m,f,_){null==_&&(_=1);for(var v=(_=_>1?1:_<0?0:_)/2,b=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],x=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],E=0,C=0;C<12;C++){var k=v*b[C]+v,T=Y0(k,r,c,u,m),I=Y0(k,s,l,h,f);E+=x[C]*ui.sqrt(T*T+I*I)}return v*E}function mk(r,s,c,l,u,h,m,f){if(!(aa(r,c)<sa(u,m)||sa(r,c)>aa(u,m)||aa(s,l)<sa(h,f)||sa(s,l)>aa(h,f))){var _=(r*l-s*c)*(h-f)-(s-l)*(u*f-h*m),v=(r-c)*(h-f)-(s-l)*(u-m);if(v){var b=lm(((r*l-s*c)*(u-m)-(r-c)*(u*f-h*m))/v),x=lm(_/v),E=+b.toFixed(2),C=+x.toFixed(2);if(!(E<+sa(r,c).toFixed(2)||E>+aa(r,c).toFixed(2)||E<+sa(u,m).toFixed(2)||E>+aa(u,m).toFixed(2)||C<+sa(s,l).toFixed(2)||C>+aa(s,l).toFixed(2)||C<+sa(h,f).toFixed(2)||C>+aa(h,f).toFixed(2)))return{x:b,y:x}}}}function lm(r){return Math.round(1e11*r)/1e11}function X0(r,s,c){if(K=It(r),ie=It(s),K=K0(K),!(Xo(ie=K0(ie),K.x,K.y)||Xo(ie,K.x2,K.y)||Xo(ie,K.x,K.y2)||Xo(ie,K.x2,K.y2)||Xo(K,ie.x,ie.y)||Xo(K,ie.x2,ie.y)||Xo(K,ie.x,ie.y2)||Xo(K,ie.x2,ie.y2)||(K.x<ie.x2&&K.x>ie.x||ie.x<K.x2&&ie.x>K.x)&&(K.y<ie.y2&&K.y>ie.y||ie.y<K.y2&&ie.y>K.y)))return c?0:[];for(var K,ie,l=x_.apply(0,r),u=x_.apply(0,s),h=um(r)?1:~~(l/5)||1,m=um(s)?1:~~(u/5)||1,f=[],_=[],v={},b=c?0:[],x=0;x<h+1;x++){var E=pk.apply(0,r.concat(x/h));f.push({x:E.x,y:E.y,t:x/h})}for(x=0;x<m+1;x++)E=pk.apply(0,s.concat(x/m)),_.push({x:E.x,y:E.y,t:x/m});for(x=0;x<h;x++)for(var C=0;C<m;C++){var k,T=f[x],I=f[x+1],M=_[C],R=_[C+1],F=Vc(I.x-T.x)<.01?"y":"x",N=Vc(R.x-M.x)<.01?"y":"x",z=mk(T.x,T.y,I.x,I.y,M.x,M.y,R.x,R.y);if(z){if(v[k=z.x.toFixed(9)+"#"+z.y.toFixed(9)])continue;v[k]=!0;var Z=T.t+Vc((z[F]-T[F])/(I[F]-T[F]))*(I.t-T.t),Q=M.t+Vc((z[N]-M[N])/(R[N]-M[N]))*(R.t-M.t);Z>=0&&Z<=1&&Q>=0&&Q<=1&&(c?b++:b.push({x:z.x,y:z.y,t1:Z,t2:Q}))}}return b}function um(r){return r[0]===r[2]&&r[1]===r[3]&&r[4]===r[6]&&r[5]===r[7]}function zu(r,s,c,l){return[r,s,c,l,c,l]}function Z0(r,s,c,l,u,h){var m=.3333333333333333,f=2/3;return[m*r+f*c,m*s+f*l,m*u+f*c,m*h+f*l,u,h]}function ft(r,s,c,l,u,h,m,f,_,v){var b,to,x=120*Ar/180,E=Ar/180*(+u||0),C=[],k=(to=function(to,kn,Wn){return{x:to*ui.cos(Wn)-kn*ui.sin(Wn),y:to*ui.sin(Wn)+kn*ui.cos(Wn)}},function kn(){var Wn=Array.prototype.slice.call(arguments,0),tn=Wn.join("\u2400"),Vi=kn.cache=kn.cache||{},Mi=kn.count=kn.count||[];return q0(Vi,tn)?(yn(Mi,tn),Vi[tn]):(Mi.length>=1e3&&delete Vi[Mi.shift()],Mi.push(tn),Vi[tn]=to.apply(0,Wn),Vi[tn])});if(v)Q=v[0],K=v[1],z=v[2],Z=v[3];else{r=(b=k(r,s,-E)).x,s=b.y;var T=(r-(f=(b=k(f,_,-E)).x))/2,I=(s-(_=b.y))/2,M=T*T/(c*c)+I*I/(l*l);M>1&&(c*=M=ui.sqrt(M),l*=M);var R=c*c,F=l*l,N=(h==m?-1:1)*ui.sqrt(Vc((R*F-R*I*I-F*T*T)/(R*I*I+F*T*T))),z=N*c*I/l+(r+f)/2,Z=N*-l*T/c+(s+_)/2,Q=ui.asin(((s-Z)/l).toFixed(9)),K=ui.asin(((_-Z)/l).toFixed(9));(Q=r<z?Ar-Q:Q)<0&&(Q=2*Ar+Q),(K=f<z?Ar-K:K)<0&&(K=2*Ar+K),m&&Q>K&&(Q-=2*Ar),!m&&K>Q&&(K-=2*Ar)}var ie=K-Q;if(Vc(ie)>x){var ye=K,Oe=f,oe=_;C=ft(f=z+c*ui.cos(K=Q+x*(m&&K>Q?1:-1)),_=Z+l*ui.sin(K),c,l,u,0,m,Oe,oe,[K,ye,z,Z])}ie=K-Q;var de=ui.cos(Q),H=ui.sin(Q),A=ui.cos(K),W=ui.sin(K),te=ui.tan(ie/4),pe=4/3*c*te,Ue=4/3*l*te,ze=[r,s],$e=[r+pe*H,s-Ue*de],_t=[f+pe*W,_-Ue*A],Le=[f,_];if($e[0]=2*ze[0]-$e[0],$e[1]=2*ze[1]-$e[1],v)return[$e,_t,Le].concat(C);for(var en=[],ei=0,eo=(C=[$e,_t,Le].concat(C).join().split(",")).length;ei<eo;ei++)en[ei]=ei%2?k(C[ei-1],C[ei],E).y:k(C[ei],C[ei+1],E).x;return en}function w_(r,s,c,l,u,h,m,f){for(var _,v,b,x,E,C,k,T,I=[],M=[[],[]],R=0;R<2;++R)if(0==R?(v=6*r-12*c+6*u,_=-3*r+9*c-9*u+3*m,b=3*c-3*r):(v=6*s-12*l+6*h,_=-3*s+9*l-9*h+3*f,b=3*l-3*s),Vc(_)<1e-12){if(Vc(v)<1e-12)continue;0<(x=-b/v)&&x<1&&I.push(x)}else T=ui.sqrt(k=v*v-4*b*_),k<0||(0<(E=(-v+T)/(2*_))&&E<1&&I.push(E),0<(C=(-v-T)/(2*_))&&C<1&&I.push(C));for(var F,N=I.length,z=N;N--;)F=1-(x=I[N]),M[0][N]=F*F*F*r+3*F*F*x*c+3*F*x*x*u+x*x*x*m,M[1][N]=F*F*F*s+3*F*F*x*l+3*F*x*x*h+x*x*x*f;return M[0][z]=r,M[1][z]=s,M[0][z+1]=m,M[1][z+1]=f,M[0].length=M[1].length=z+2,{x0:sa.apply(0,M[0]),y0:sa.apply(0,M[1]),x1:aa.apply(0,M[0]),y1:aa.apply(0,M[1])}}function Q0(r){var s=Hu(r);if(s.curve)return we(s.curve);for(var c=function dm(r){var s=Hu(r);if(s.abs)return we(s.abs);if(cm(r)&&cm(r&&r[0])||(r=function(M){if(!M)return null;var R=Hu(M);if(R.arr)return gr(R.arr);var F={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},N=[];return cm(M)&&cm(M[0])&&(N=gr(M)),N.length||String(M).replace(uk,function(z,Z,Q){var K=[],ie=Z.toLowerCase();for(Q.replace(YI,function(ye,Oe){Oe&&K.push(+Oe)}),"m"==ie&&K.length>2&&(N.push([Z].concat(K.splice(0,2))),ie="l",Z="m"==Z?"l":"L");K.length>=F[ie]&&(N.push([Z].concat(K.splice(0,F[ie]))),F[ie]););}),N.toString=Hu.toString,R.arr=gr(N),N}(r)),!r||!r.length)return[["M",0,0]];var c,l=[],u=0,h=0,m=0,f=0,_=0;"M"==r[0][0]&&(m=u=+r[0][1],f=h=+r[0][2],_++,l[0]=["M",u,h]);for(var v,b,x=_,E=r.length;x<E;x++){if(l.push(v=[]),(c=(b=r[x])[0])!=c.toUpperCase())switch(v[0]=c.toUpperCase(),v[0]){case"A":v[1]=b[1],v[2]=b[2],v[3]=b[3],v[4]=b[4],v[5]=b[5],v[6]=+b[6]+u,v[7]=+b[7]+h;break;case"V":v[1]=+b[1]+h;break;case"H":v[1]=+b[1]+u;break;case"M":m=+b[1]+u,f=+b[2]+h;default:for(var C=1,k=b.length;C<k;C++)v[C]=+b[C]+(C%2?u:h)}else for(var T=0,I=b.length;T<I;T++)v[T]=b[T];switch(c=c.toUpperCase(),v[0]){case"Z":u=+m,h=+f;break;case"H":u=v[1];break;case"V":h=v[1];break;case"M":m=v[v.length-2],f=v[v.length-1];default:u=v[v.length-2],h=v[v.length-1]}}return l.toString=hk,s.abs=we(l),l}(r),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=function(C,k,T){var I,M;if(!C)return["C",k.x,k.y,k.x,k.y,k.x,k.y];switch(!(C[0]in{T:1,Q:1})&&(k.qx=k.qy=null),C[0]){case"M":k.X=C[1],k.Y=C[2];break;case"A":C=["C"].concat(ft.apply(0,[k.x,k.y].concat(C.slice(1))));break;case"S":"C"==T||"S"==T?(I=2*k.x-k.bx,M=2*k.y-k.by):(I=k.x,M=k.y),C=["C",I,M].concat(C.slice(1));break;case"T":"Q"==T||"T"==T?(k.qx=2*k.x-k.qx,k.qy=2*k.y-k.qy):(k.qx=k.x,k.qy=k.y),C=["C"].concat(Z0(k.x,k.y,k.qx,k.qy,C[1],C[2]));break;case"Q":k.qx=C[1],k.qy=C[2],C=["C"].concat(Z0(k.x,k.y,C[1],C[2],C[3],C[4]));break;case"L":C=["C"].concat(zu(k.x,k.y,C[1],C[2]));break;case"H":C=["C"].concat(zu(k.x,k.y,C[1],k.y));break;case"V":C=["C"].concat(zu(k.x,k.y,k.x,C[1]));break;case"Z":C=["C"].concat(zu(k.x,k.y,k.X,k.Y))}return C},h=function(C,k){if(C[k].length>7){C[k].shift();for(var T=C[k];T.length;)m[k]="A",C.splice(k++,0,["C"].concat(T.splice(0,6)));C.splice(k,1),b=c.length}},m=[],f="",_="",v=0,b=c.length;v<b;v++){c[v]&&(f=c[v][0]),"C"!=f&&(m[v]=f,v&&(_=m[v-1])),c[v]=u(c[v],l,_),"A"!=m[v]&&"C"==f&&(m[v]="C"),h(c,v);var x=c[v],E=x.length;l.x=x[E-2],l.y=x[E-1],l.bx=W0(x[E-4])||l.x,l.by=W0(x[E-3])||l.y}return s.curve=we(c),c}var E_=function(r,s,c){r=Q0(r),s=Q0(s);for(var l,u,h,m,f,_,v,b,x,E,C=c?0:[],k=0,T=r.length;k<T;k++){var I=r[k];if("M"==I[0])l=f=I[1],u=_=I[2];else{"C"==I[0]?(x=[l,u].concat(I.slice(1)),l=x[6],u=x[7]):(x=[l,u,l,u,f,_,f,_],l=f,u=_);for(var M=0,R=s.length;M<R;M++){var F=s[M];if("M"==F[0])h=v=F[1],m=b=F[2];else{"C"==F[0]?(E=[h,m].concat(F.slice(1)),h=E[6],m=E[7]):(E=[h,m,h,m,v,b,v,b],h=v,m=b);var N=X0(x,E,c);if(c)C+=N;else{for(var z=0,Z=N.length;z<Z;z++)N[z].segment1=k,N[z].segment2=M,N[z].bez1=x,N[z].bez2=E;C=C.concat(N)}}}}}return C};function fk(r){return{x:Math.round(r.x),y:Math.round(r.y),width:Math.round(r.width),height:Math.round(r.height)}}function Zt(r){return{x:Math.round(r.x),y:Math.round(r.y)}}function Xe(r){return{top:r.y,right:r.x+(r.width||0),bottom:r.y+(r.height||0),left:r.x}}function C_(r){return{x:r.left,y:r.top,width:r.right-r.left,height:r.bottom-r.top}}function tt(r){return r.waypoints?function XI(r){for(var s=r.waypoints,c=s.reduce(function(_,v,b){var T,I,x=s[b-1];if(x){var E=_[_.length-1],C=E&&E.endLength||0,k=(T=x,I=v,Math.sqrt(Math.pow(T.x-I.x,2)+Math.pow(T.y-I.y,2)));_.push({start:x,end:v,startLength:C,endLength:C+k,length:k})}return _},[]),u=c.reduce(function(_,v){return _+v.length},0)/2,h=0,m=c[h];m.endLength<u;)m=c[++h];var f=(u-m.startLength)/m.length;return{x:m.start.x+(m.end.x-m.start.x)*f,y:m.start.y+(m.end.y-m.start.y)*f}}(r):Zt({x:(s=r).x+(s.width||0)/2,y:s.y+(s.height||0)/2});var s}function Ii(r,s,c){on(c=c||0)||(c={x:c,y:c});var l=Xe(r),u=Xe(s),_=l.bottom+c.y<=u.top?"top":l.top-c.y>=u.bottom?"bottom":null,v=l.right+c.x<=u.left?"left":l.left-c.x>=u.right?"right":null;return v&&_?_+"-"+v:v||_||"intersect"}function dd(r,s,c){var l=E_(r,s);return 1===l.length||2===l.length&&Et(l[0],l[1])<1?Zt(l[0]):l.length>1?Zt((l=Yo(l,function(u){var h=Math.floor(100*u.t2)||1;return h=((h=100-h)<10?"0":"")+h,u.segment2+"#"+h}))[c?0:l.length-1]):null}function hm(r,s){return Math.round(r*s)/s}function J0(r){return Re(r)?r+"px":r}function ex(r,s,c){const l=Ye("g");return Nt(l).add(s),r.insertBefore(l,r.childNodes[void 0!==c?c:r.childNodes.length-1]||null),l}const tx={shape:["x","y","width","height"],connection:["waypoints"]};function at(r,s,c,l){this._eventBus=s,this._elementRegistry=l,this._graphicsFactory=c,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._init(r||{})}function jc(r,s){r.setAttribute("transform","matrix("+s.a+","+s.b+","+s.c+","+s.d+","+s.e+","+s.f+")")}at.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],at.prototype._init=function(r){const s=this._eventBus,c=this._container=function(h){const m=(h=ee({},{width:"100%",height:"100%"},h)).container||document.body,f=document.createElement("div");return f.setAttribute("class","djs-container djs-parent"),nr(f,{position:"relative",overflow:"hidden",width:J0(h.width),height:J0(h.height)}),m.appendChild(f),f}(r),l=this._svg=Ye("svg");ve(l,{width:"100%",height:"100%"}),rt(c,l);const u=this._viewport=ex(l,"viewport");!1!==r.deferUpdate&&(this._viewboxChanged=N0(Ne(this._viewboxChanged,this),300)),s.on("diagram.init",function(){s.fire("canvas.init",{svg:l,viewport:u})},this),s.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],function(){delete this._cachedViewbox},this),s.on("diagram.destroy",500,this._destroy,this),s.on("diagram.clear",500,this._clear,this)},at.prototype._destroy=function(r){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const s=this._container.parentNode;s&&s.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport},at.prototype._clear=function(){this._elementRegistry.getAll().forEach(r=>{const s=vn(r);"root"===s?this.removeRootElement(r):this._removeElement(r,s)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox},at.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},at.prototype.getLayer=function(r,s){if(!r)throw new Error("must specify a name");let c=this._layers[r];if(c||(c=this._layers[r]=this._createLayer(r,s)),void 0!==s&&c.index!==s)throw new Error("layer <"+r+"> already created at index <"+s+">");return c.group},at.prototype._getChildIndex=function(r){return mr(this._layers,function(s,c){return c.visible&&r>=c.index&&s++,s},0)},at.prototype._createLayer=function(r,s){void 0===s&&(s=1);const c=this._getChildIndex(s);return{group:ex(this._viewport,"layer-"+r,c),index:s,visible:!0}},at.prototype.showLayer=function(r){if(!r)throw new Error("must specify a name");const s=this._layers[r];if(!s)throw new Error("layer <"+r+"> does not exist");const c=this._viewport,l=s.group;if(s.visible)return l;const h=this._getChildIndex(s.index);return c.insertBefore(l,c.childNodes[h]||null),s.visible=!0,l},at.prototype.hideLayer=function(r){if(!r)throw new Error("must specify a name");const s=this._layers[r];if(!s)throw new Error("layer <"+r+"> does not exist");const c=s.group;return s.visible&&($n(c),s.visible=!1),c},at.prototype._removeLayer=function(r){const s=this._layers[r];s&&(delete this._layers[r],$n(s.group))},at.prototype.getActiveLayer=function(){const r=this._findPlaneForRoot(this.getRootElement());return r?r.layer:null},at.prototype.findRoot=function(r){return"string"==typeof r&&(r=this._elementRegistry.get(r)),r?(this._findPlaneForRoot(function(c){for(;c.parent;)c=c.parent;return c}(r))||{}).rootElement:void 0},at.prototype.getRootElements=function(){return this._planes.map(function(r){return r.rootElement})},at.prototype._findPlaneForRoot=function(r){return wt(this._planes,function(s){return s.rootElement===r})},at.prototype.getContainer=function(){return this._container},at.prototype._updateMarker=function(r,s,c){let l;r.id||(r=this._elementRegistry.get(r)),l=this._elementRegistry._elements[r.id],l&&(q([l.gfx,l.secondaryGfx],function(u){u&&(c?Nt(u).add(s):Nt(u).remove(s))}),this._eventBus.fire("element.marker.update",{element:r,gfx:l.gfx,marker:s,add:!!c}))},at.prototype.addMarker=function(r,s){this._updateMarker(r,s,!0)},at.prototype.removeMarker=function(r,s){this._updateMarker(r,s,!1)},at.prototype.hasMarker=function(r,s){return r.id||(r=this._elementRegistry.get(r)),Nt(this.getGraphics(r)).has(s)},at.prototype.toggleMarker=function(r,s){this.hasMarker(r,s)?this.removeMarker(r,s):this.addMarker(r,s)},at.prototype.getRootElement=function(){const r=this._rootElement;return r||this._planes.length?r:this.setRootElement(this.addRootElement(null))},at.prototype.addRootElement=function(r){const s=this._rootsIdx++;r||(r={id:"__implicitroot_"+s,children:[],isImplicit:!0});const c=r.layer="root-"+s;this._ensureValid("root",r);const l=this.getLayer(c,0);return this.hideLayer(c),this._addRoot(r,l),this._planes.push({rootElement:r,layer:l}),r},at.prototype.removeRootElement=function(r){if("string"==typeof r&&(r=this._elementRegistry.get(r)),this._findPlaneForRoot(r))return this._removeRoot(r),this._removeLayer(r.layer),this._planes=this._planes.filter(function(s){return s.rootElement!==r}),this._rootElement===r&&(this._rootElement=null),r},at.prototype.setRootElement=function(r,s){if(_n(s))throw new Error("override not supported");if(r===this._rootElement)return;let c;if(!r)throw new Error("rootElement required");return c=this._findPlaneForRoot(r),c||(r=this.addRootElement(r)),this._setRoot(r),r},at.prototype._removeRoot=function(r){const s=this._elementRegistry,c=this._eventBus;c.fire("root.remove",{element:r}),c.fire("root.removed",{element:r}),s.remove(r)},at.prototype._addRoot=function(r,s){const c=this._elementRegistry,l=this._eventBus;l.fire("root.add",{element:r}),c.add(r,s),l.fire("root.added",{element:r,gfx:s})},at.prototype._setRoot=function(r,s){const c=this._rootElement;c&&(this._elementRegistry.updateGraphics(c,null,!0),this.hideLayer(c.layer)),r&&(s||(s=this._findPlaneForRoot(r).layer),this._elementRegistry.updateGraphics(r,this._svg,!0),this.showLayer(r.layer)),this._rootElement=r,this._eventBus.fire("root.set",{element:r})},at.prototype._ensureValid=function(r,s){if(!s.id)throw new Error("element must have an id");if(this._elementRegistry.get(s.id))throw new Error("element <"+s.id+"> already exists");const c=tx[r];if(!qa(c,function(u){return void 0!==s[u]}))throw new Error("must supply { "+c.join(", ")+" } with "+r)},at.prototype._setParent=function(r,s,c){re(s.children,r,c),r.parent=s},at.prototype._addElement=function(r,s,c,l){c=c||this.getRootElement();const u=this._eventBus,h=this._graphicsFactory;this._ensureValid(r,s),u.fire(r+".add",{element:s,parent:c}),this._setParent(s,c,l);const m=h.create(r,s,l);return this._elementRegistry.add(s,m),h.update(r,s,m),u.fire(r+".added",{element:s,gfx:m}),s},at.prototype.addShape=function(r,s,c){return this._addElement("shape",r,s,c)},at.prototype.addConnection=function(r,s,c){return this._addElement("connection",r,s,c)},at.prototype._removeElement=function(r,s){const c=this._elementRegistry,l=this._graphicsFactory,u=this._eventBus;if(r=c.get(r.id||r))return u.fire(s+".remove",{element:r}),l.remove(r),Vn(r.parent&&r.parent.children,r),r.parent=null,u.fire(s+".removed",{element:r}),c.remove(r),r},at.prototype.removeShape=function(r){return this._removeElement(r,"shape")},at.prototype.removeConnection=function(r){return this._removeElement(r,"connection")},at.prototype.getGraphics=function(r,s){return this._elementRegistry.getGraphics(r,s)},at.prototype._changeViewbox=function(r){this._eventBus.fire("canvas.viewbox.changing"),r.apply(this),this._cachedViewbox=null,this._viewboxChanged()},at.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},at.prototype.viewbox=function(r){if(void 0===r&&this._cachedViewbox)return this._cachedViewbox;const s=this._viewport,c=this.getSize();let l,u,h,m,f,_,v;return r?(this._changeViewbox(function(){f=Math.min(c.width/r.width,c.height/r.height);const b=this._svg.createSVGMatrix().scale(f).translate(-r.x,-r.y);ad(s,b)}),r):(h=this._rootElement?this.getActiveLayer():null,l=h&&h.getBBox()||{},m=ad(s),u=m?m.matrix:function(b,x,E,C,k,T){var I=f_().createSVGMatrix();switch(arguments.length){case 0:return I;case 1:return U0(I,b);case 6:return U0(I,{a:b,b:x,c:E,d:C,e:k,f:T})}}(),f=hm(u.a,1e3),_=hm(-u.e||0,1e3),v=hm(-u.f||0,1e3),r=this._cachedViewbox={x:_?_/f:0,y:v?v/f:0,width:c.width/f,height:c.height/f,scale:f,inner:{width:l.width||0,height:l.height||0,x:l.x||0,y:l.y||0},outer:c})},at.prototype.scroll=function(r){const s=this._viewport;let c=s.getCTM();return r&&this._changeViewbox(function(){r=ee({dx:0,dy:0},r||{}),c=this._svg.createSVGMatrix().translate(r.dx,r.dy).multiply(c),jc(s,c)}),{x:c.e,y:c.f}},at.prototype.scrollToElement=function(r,s){let c=100;"string"==typeof r&&(r=this._elementRegistry.get(r));const l=this.findRoot(r);l!==this.getRootElement()&&this.setRootElement(l),s||(s={}),"number"==typeof s&&(c=s),s={top:s.top||c,right:s.right||c,bottom:s.bottom||c,left:s.left||c};const u=ri(r),h=Xe(u),m=this.viewbox(),f=this.zoom();let _,v;m.y+=s.top/f,m.x+=s.left/f,m.width-=(s.right+s.left)/f,m.height-=(s.bottom+s.top)/f;const b=Xe(m);if(u.width<m.width&&u.height<m.height){const x=Math.max(0,h.right-b.right),E=Math.min(0,h.left-b.left),C=Math.max(0,h.bottom-b.bottom),k=Math.min(0,h.top-b.top);_=x||E,v=C||k}else _=u.x-m.x,v=u.y-m.y;this.scroll({dx:-_*f,dy:-v*f})},at.prototype.zoom=function(r,s){if(!r)return this.viewbox(r).scale;if("fit-viewport"===r)return this._fitViewport(s);let c,l;return this._changeViewbox(function(){"object"!=typeof s&&(c=this.viewbox().outer,s={x:c.width/2,y:c.height/2}),l=this._setZoom(r,s)}),hm(l.a,1e3)},at.prototype._fitViewport=function(r){const s=this.viewbox(),c=s.outer,l=s.inner;let u,h;return l.x>=0&&l.y>=0&&l.x+l.width<=c.width&&l.y+l.height<=c.height&&!r?h={x:0,y:0,width:Math.max(l.width+l.x,c.width),height:Math.max(l.height+l.y,c.height)}:(u=Math.min(1,c.width/l.width,c.height/l.height),h={x:l.x+(r?l.width/2-c.width/u/2:0),y:l.y+(r?l.height/2-c.height/u/2:0),width:c.width/u,height:c.height/u}),this.viewbox(h),this.viewbox(!1).scale},at.prototype._setZoom=function(r,s){const c=this._svg,l=this._viewport,u=c.createSVGMatrix(),h=c.createSVGPoint();let m,f,_,v,b;_=l.getCTM();const x=_.a;return s?(m=ee(h,s),f=m.matrixTransform(_.inverse()),v=u.translate(f.x,f.y).scale(1/x*r).translate(-f.x,-f.y),b=_.multiply(v)):b=u.scale(r),jc(this._viewport,b),b},at.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},at.prototype.getAbsoluteBBox=function(r){const s=this.viewbox();let c;return c=r.waypoints?this.getGraphics(r).getBBox():r,{x:c.x*s.scale-s.x*s.scale,y:c.y*s.scale-s.y*s.scale,width:c.width*s.scale,height:c.height*s.scale}},at.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var ud="data-element-id";function ne(r){this._elements={},this._eventBus=r}ne.$inject=["eventBus"],ne.prototype.add=function(r,s,c){var l=r.id;this._validateId(l),ve(s,ud,l),c&&ve(c,ud,l),this._elements[l]={element:r,gfx:s,secondaryGfx:c}},ne.prototype.remove=function(r){var s=this._elements,c=r.id||r,l=c&&s[c];l&&(ve(l.gfx,ud,""),l.secondaryGfx&&ve(l.secondaryGfx,ud,""),delete s[c])},ne.prototype.updateId=function(r,s){this._validateId(s),"string"==typeof r&&(r=this.get(r)),this._eventBus.fire("element.updateId",{element:r,newId:s});var c=this.getGraphics(r),l=this.getGraphics(r,!0);this.remove(r),r.id=s,this.add(r,c,l)},ne.prototype.updateGraphics=function(r,s,c){var l=r.id||r,u=this._elements[l];return c?u.secondaryGfx=s:u.gfx=s,s&&ve(s,ud,l),s},ne.prototype.get=function(r){var s;s="string"==typeof r?r:r&&ve(r,ud);var c=this._elements[s];return c&&c.element},ne.prototype.filter=function(r){var s=[];return this.forEach(function(c,l){r(c,l)&&s.push(c)}),s},ne.prototype.find=function(r){for(var s=this._elements,c=Object.keys(s),l=0;l<c.length;l++){var u=s[c[l]],h=u.element;if(r(h,u.gfx))return h}},ne.prototype.getAll=function(){return this.filter(function(r){return r})},ne.prototype.forEach=function(r){var s=this._elements;Object.keys(s).forEach(function(c){var l=s[c];return r(l.element,l.gfx)})},ne.prototype.getGraphics=function(r,s){var l=this._elements[r.id||r];return l&&(s?l.secondaryGfx:l.gfx)},ne.prototype._validateId=function(r){if(!r)throw new Error("element must have an id");if(this._elements[r])throw new Error("element with id "+r+" already added")};var D_={exports:{}},St={extend:function(r,s,c,l){var u=c.inverse;return Object.defineProperty(r,"remove",{value:function(h){var m=this.indexOf(h);return-1!==m&&(this.splice(m,1),s.unset(h,u,l)),h}}),Object.defineProperty(r,"contains",{value:function(h){return-1!==this.indexOf(h)}}),Object.defineProperty(r,"add",{value:function(h,m){var f=this.indexOf(h);if(void 0===m){if(-1!==f)return;m=this.length}-1!==f&&this.splice(f,1),this.splice(m,0,h),-1===f&&s.set(h,u,l)}}),Object.defineProperty(r,"__refs_collection",{value:!0}),r},isExtended:function(r){return!0===r.__refs_collection}},$u=St;function pm(r,s,c){var l=$u.extend(c[s.name]||[],r,s,c);Object.defineProperty(c,s.name,{enumerable:s.enumerable,value:l}),l.length&&l.forEach(function(u){r.set(u,s.inverse,c)})}function Fo(r,s){if(!(this instanceof Fo))return new Fo(r,s);r.inverse=s,s.inverse=r,this.props={},this.props[r.name]=r,this.props[s.name]=s}Fo.prototype.bind=function(r,s){if("string"==typeof s){if(!this.props[s])throw new Error("no property <"+s+"> in ref");s=this.props[s]}var c,l,u,h,m;s.collection?pm(this,s,r):(c=this,h=(l=s).inverse,m=(u=r)[l.name],Object.defineProperty(u,l.name,{configurable:l.configurable,enumerable:l.enumerable,get:function(){return m},set:function(f){if(f!==m){var _=m;m=null,_&&c.unset(_,h,u),c.set(m=f,h,u)}}}))},Fo.prototype.ensureRefsCollection=function(r,s){var c=r[s.name];return $u.isExtended(c)||pm(this,s,r),c},Fo.prototype.ensureBound=function(r,s){var l;l=s,Object.prototype.hasOwnProperty.call(r,l.name||l)||this.bind(r,s)},Fo.prototype.unset=function(r,s,c){r&&(this.ensureBound(r,s),s.collection?this.ensureRefsCollection(r,s).remove(c):r[s.name]=void 0)},Fo.prototype.set=function(r,s,c){r&&(this.ensureBound(r,s),s.collection?this.ensureRefsCollection(r,s).add(c):r[s.name]=c)};var gk=Fo;!function(r){r.exports=gk,r.exports.Collection=St}(D_);var Uu=function uo(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}(D_.exports),nx=new Uu({name:"children",enumerable:!0,collection:!0},{name:"parent"}),ca=new Uu({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),No=new Uu({name:"attachers",collection:!0},{name:"host"}),_k=new Uu({name:"outgoing",collection:!0},{name:"source"}),vk=new Uu({name:"incoming",collection:!0},{name:"target"});function Rr(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(r){var s=this.label,c=this.labels;!r&&s?c.remove(s):c.add(r,0)}}),nx.bind(this,"parent"),ca.bind(this,"labels"),_k.bind(this,"outgoing"),vk.bind(this,"incoming")}function Gr(){Rr.call(this),nx.bind(this,"children"),No.bind(this,"host"),No.bind(this,"attachers")}function ln(){Gr.call(this)}function Hc(){Gr.call(this),ca.bind(this,"labelTarget")}function mm(){Rr.call(this),_k.bind(this,"source"),vk.bind(this,"target")}Me(Gr,Rr),Me(ln,Gr),Me(Hc,Gr),Me(mm,Rr);var k_={connection:mm,shape:Gr,label:Hc,root:ln};function bs(){this._uid=12}bs.prototype.createRoot=function(r){return this.create("root",r)},bs.prototype.createLabel=function(r){return this.create("label",r)},bs.prototype.createShape=function(r){return this.create("shape",r)},bs.prototype.createConnection=function(r){return this.create("connection",r)},bs.prototype.create=function(r,s){return(s=ee({},s||{})).id||(s.id=r+"_"+this._uid++),function(c,l){var u=k_[c];if(!u)throw new Error("unknown type: <"+c+">");return ee(new u,l)}(r,s)};var la=Array.prototype.slice;function Ui(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function Gu(){}function kt(r){return r.childNodes[0]}function M_(r,s,c,l,u){var h=co();h.setTranslate(s,c);var m=co();m.setRotate(l||0,0,0);var f=co();f.setScale(u||1,u||1),ad(r,[h,m,f])}function Ir(r,s,c){var l=co();l.setTranslate(s,c),ad(r,l)}function S_(r,s){var c=co();c.setRotate(s,0,0),ad(r,c)}function ot(r,s){this._eventBus=r,this._elementRegistry=s}function ix(r,s,c){var l=c||s.firstChild;r!==l&&s.insertBefore(r,l)}Ui.prototype.on=function(r,s,c,l){if(r=Ae(r)?r:[r],mn(s)&&(l=c,c=s,s=1e3),!Re(s))throw new Error("priority must be a number");var u=c;l&&((u=Ne(c,l)).__fn=c.__fn||c);var h=this;r.forEach(function(m){h._addListener(m,{priority:s,callback:u,next:null})})},Ui.prototype.once=function(r,s,c,l){var u=this;if(mn(s)&&(l=c,c=s,s=1e3),!Re(s))throw new Error("priority must be a number");function h(){h.__isTomb=!0;var m=c.apply(l,arguments);return u.off(r,h),m}h.__fn=c,this.on(r,s,h)},Ui.prototype.off=function(r,s){r=Ae(r)?r:[r];var c=this;r.forEach(function(l){c._removeListener(l,s)})},Ui.prototype.createEvent=function(r){var s=new Gu;return s.init(r),s},Ui.prototype.fire=function(r,s){var c,l,u,h;if(h=la.call(arguments),"object"==typeof r&&(r=(s=r).type),!r)throw new Error("no event type specified");if(l=this._listeners[r]){c=s instanceof Gu?s:this.createEvent(s),h[0]=c;var m=c.type;r!==m&&(c.type=r);try{u=this._invokeListeners(c,h,l)}finally{r!==m&&(c.type=m)}return void 0===u&&c.defaultPrevented&&(u=!1),u}},Ui.prototype.handleError=function(r){return!1===this.fire("error",{error:r})},Ui.prototype._destroy=function(){this._listeners={}},Ui.prototype._invokeListeners=function(r,s,c){for(var l;c&&!r.cancelBubble;)l=this._invokeListener(r,s,c),c=c.next;return l},Ui.prototype._invokeListener=function(r,s,c){var l,u;if(c.callback.__isTomb)return l;try{void 0!==(l=(u=c.callback).apply(null,s))&&(r.returnValue=l,r.stopPropagation()),!1===l&&r.preventDefault()}catch(u){if(!this.handleError(u))throw console.error("unhandled error in event listener",u),u}return l},Ui.prototype._addListener=function(r,s){var c,l=this._getListeners(r);if(l){for(;l;){if(l.priority<s.priority)return s.next=l,void(c?c.next=s:this._setListeners(r,s));c=l,l=l.next}c.next=s}else this._setListeners(r,s)},Ui.prototype._getListeners=function(r){return this._listeners[r]},Ui.prototype._setListeners=function(r,s){this._listeners[r]=s},Ui.prototype._removeListener=function(r,s){var c,l,u,h=this._getListeners(r);if(s)for(;h;)c=h.next,(u=h.callback)!==s&&u.__fn!==s||(l?l.next=c:this._setListeners(r,c)),l=h,h=c;else this._setListeners(r,null)},Gu.prototype.stopPropagation=function(){this.cancelBubble=!0},Gu.prototype.preventDefault=function(){this.defaultPrevented=!0},Gu.prototype.init=function(r){ee(this,r||{})},ot.$inject=["eventBus","elementRegistry"],ot.prototype._getChildrenContainer=function(r){var s,c=this._elementRegistry.getGraphics(r);return r.parent?(s=c.parentNode.childNodes[1])||(Nt(s=Ye("g")).add("djs-children"),rt(c.parentNode,s)):s=c,s},ot.prototype._clear=function(r){var s=kt(r);return Lu(s),s},ot.prototype._createContainer=function(r,s,c,l){var u=Ye("g");Nt(u).add("djs-group"),void 0!==c?ix(u,s,s.childNodes[c]):rt(s,u);var h=Ye("g");Nt(h).add("djs-element"),Nt(h).add("djs-"+r),l&&Nt(h).add("djs-frame"),rt(u,h);var m=Ye("g");return Nt(m).add("djs-visual"),rt(h,m),h},ot.prototype.create=function(r,s,c){var l=this._getChildrenContainer(s.parent);return this._createContainer(r,l,c,mt(s))},ot.prototype.updateContainments=function(r){var c=this,l=this._elementRegistry;q(mr(r,function(u,h){return h.parent&&(u[h.parent.id]=h.parent),u},{}),function(u){var h=u.children;if(h){var m=c._getChildrenContainer(u);q(h.slice().reverse(),function(f){ix(l.getGraphics(f).parentNode,m)})}})},ot.prototype.drawShape=function(r,s){return this._eventBus.fire("render.shape",{gfx:r,element:s})},ot.prototype.getShapePath=function(r){return this._eventBus.fire("render.getShapePath",r)},ot.prototype.drawConnection=function(r,s){return this._eventBus.fire("render.connection",{gfx:r,element:s})},ot.prototype.getConnectionPath=function(r){return this._eventBus.fire("render.getConnectionPath",r)},ot.prototype.update=function(r,s,c){if(s.parent){var l=this._clear(c);if("shape"===r)this.drawShape(l,s),Ir(c,s.x,s.y);else{if("connection"!==r)throw new Error("unknown type: "+r);this.drawConnection(l,s)}ve(c,"display",s.hidden?"none":"block")}},ot.prototype.remove=function(r){$n(this._elementRegistry.getGraphics(r).parentNode)};var rx={__depends__:[qI],__init__:["canvas"],canvas:["type",at],elementRegistry:["type",ne],elementFactory:["type",bs],eventBus:["type",Ui],graphicsFactory:["type",ot]};function Oi(r,s){this.injector=s=s||function se(r){return function(s){var c=new y_(s);return c.init(),c}([{config:["value",r=r||{}]},rx].concat(r.modules||[]))}(r),this.get=s.get,this.invoke=s.invoke,this.get("eventBus").fire("diagram.init")}function dn(){}function ir(r,s){this.model=r,this.properties=s}Oi.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},Oi.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")},dn.prototype.get=function(r){return this.$model.properties.get(this,r)},dn.prototype.set=function(r,s){this.$model.properties.set(this,r,s)},ir.prototype.createType=function(r){var s=this.model,c=this.properties,l=Object.create(dn.prototype);q(r.properties,function(m){m.isMany||void 0===m.default||(l[m.name]=m.default)}),c.defineModel(l,s),c.defineDescriptor(l,r);var u=r.ns.name;function h(m){c.define(this,"$type",{value:u,enumerable:!0}),c.define(this,"$attrs",{value:{}}),c.define(this,"$parent",{writable:!0}),q(m,Ne(function(f,_){this.set(_,f)},this))}return h.prototype=l,h.hasType=l.$instanceOf=this.model.hasType,c.defineModel(h,s),c.defineDescriptor(h,r),h};var Or={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},zc={String:function(r){return r},Boolean:function(r){return"true"===r},Integer:function(r){return parseInt(r,10)},Real:function(r){return parseFloat(r)}};function Pr(r,s){var c=zc[r];return c?c(s):s}function Zo(r){return!!Or[r]}function Fe(r){return!!zc[r]}function nt(r,s){var c,l,u=r.split(/:/);if(1===u.length)c=r,l=s;else{if(2!==u.length)throw new Error("expected <prefix:localName> or <localName>, got "+r);c=u[1],l=u[0]}return{name:r=(l?l+":":"")+c,prefix:l,localName:c}}function Qt(r){this.ns=r,this.name=r.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function Gi(r,s){this.packageMap={},this.typeMap={},this.packages=[],this.properties=s,q(r,Ne(this.registerPackage,this))}function Ya(r,s,c){var l=s[c];if(l in r)throw new Error("package with "+c+" <"+l+"> already defined")}function hi(r){this.model=r}function $c(r,s,c){Object.defineProperty(r,s.name,{enumerable:!s.isReference,writable:!0,value:c,configurable:!0})}function un(r){this.properties=new hi(this),this.factory=new ir(this,this.properties),this.registry=new Gi(r,this.properties),this.typeCache={}}Qt.prototype.build=function(){return Ro(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},Qt.prototype.addProperty=function(r,s,c){"boolean"==typeof s&&(c=s,s=void 0),this.addNamedProperty(r,!1!==c);var l=this.properties;void 0!==s?l.splice(s,0,r):l.push(r)},Qt.prototype.replaceProperty=function(r,s,c){var l=r.ns,u=this.properties,h=this.propertiesByName,m=r.name!==s.name;if(r.isId){if(!s.isId)throw new Error("property <"+s.ns.name+"> must be id property to refine <"+r.ns.name+">");this.setIdProperty(s,!1)}if(r.isBody){if(!s.isBody)throw new Error("property <"+s.ns.name+"> must be body property to refine <"+r.ns.name+">");this.setBodyProperty(s,!1)}var f=u.indexOf(r);if(-1===f)throw new Error("property <"+l.name+"> not found in property list");u.splice(f,1),this.addProperty(s,c?void 0:f,m),h[l.name]=h[l.localName]=s},Qt.prototype.redefineProperty=function(r,s,c){var l=r.ns.prefix,u=s.split("#"),h=nt(u[0],l),m=nt(u[1],h.prefix).name,f=this.propertiesByName[m];if(!f)throw new Error("refined property <"+m+"> not found");this.replaceProperty(f,r,c),delete r.redefines},Qt.prototype.addNamedProperty=function(r,s){var c=r.ns,l=this.propertiesByName;s&&(this.assertNotDefined(r,c.name),this.assertNotDefined(r,c.localName)),l[c.name]=l[c.localName]=r},Qt.prototype.removeNamedProperty=function(r){var s=r.ns,c=this.propertiesByName;delete c[s.name],delete c[s.localName]},Qt.prototype.setBodyProperty=function(r,s){if(s&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+r.ns.name+">)");this.bodyProperty=r},Qt.prototype.setIdProperty=function(r,s){if(s&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+r.ns.name+">)");this.idProperty=r},Qt.prototype.assertNotDefined=function(r,s){var c=r.name,l=this.propertiesByName[c];if(l)throw new Error("property <"+c+"> already defined; override of <"+l.definedBy.ns.name+"#"+l.ns.name+"> by <"+r.definedBy.ns.name+"#"+r.ns.name+"> not allowed without redefines")},Qt.prototype.hasProperty=function(r){return this.propertiesByName[r]},Qt.prototype.addTrait=function(r,s){var c=this.allTypesByName,l=this.allTypes,u=r.name;u in c||(q(r.properties,Ne(function(h){h=ee({},h,{name:h.ns.localName,inherited:s}),Object.defineProperty(h,"definedBy",{value:r});var m=h.replaces,f=h.redefines;m||f?this.redefineProperty(h,m||f,m):(h.isBody&&this.setBodyProperty(h),h.isId&&this.setIdProperty(h),this.addProperty(h))},this)),l.push(r),c[u]=r)},Gi.prototype.getPackage=function(r){return this.packageMap[r]},Gi.prototype.getPackages=function(){return this.packages},Gi.prototype.registerPackage=function(r){r=ee({},r);var s=this.packageMap;Ya(s,r,"prefix"),Ya(s,r,"uri"),q(r.types,Ne(function(c){this.registerType(c,r)},this)),s[r.uri]=s[r.prefix]=r,this.packages.push(r)},Gi.prototype.registerType=function(r,s){var c=nt((r=ee({},r,{superClass:(r.superClass||[]).slice(),extends:(r.extends||[]).slice(),properties:(r.properties||[]).slice(),meta:ee(r.meta||{})})).name,s.prefix),l=c.name,u={};q(r.properties,Ne(function(h){var m=nt(h.name,c.prefix),f=m.name;Zo(h.type)||(h.type=nt(h.type,m.prefix).name),ee(h,{ns:m,name:f}),u[f]=h},this)),ee(r,{ns:c,name:l,propertiesByName:u}),q(r.extends,Ne(function(h){var m=this.typeMap[h];m.traits=m.traits||[],m.traits.push(l)},this)),this.definePackage(r,s),this.typeMap[l]=r},Gi.prototype.mapTypes=function(r,s,c){var l=Zo(r.name)?{name:r.name}:this.typeMap[r.name],u=this;function h(f){return m(f,!0)}function m(f,_){var v=nt(f,Zo(f)?"":r.prefix);u.mapTypes(v,s,_)}if(!l)throw new Error("unknown type <"+r.name+">");q(l.superClass,c?h:m),s(l,!c),q(l.traits,h)},Gi.prototype.getEffectiveDescriptor=function(r){var s=nt(r),c=new Qt(s);this.mapTypes(s,function(u,h){c.addTrait(u,h)});var l=c.build();return this.definePackage(l,l.allTypes[l.allTypes.length-1].$pkg),l},Gi.prototype.definePackage=function(r,s){this.properties.define(r,"$pkg",{value:s})},hi.prototype.set=function(r,s,c){if(!Mr(s)||!s.length)throw new TypeError("property name must be a non-empty string");var l=this.model.getPropertyDescriptor(r,s),u=l&&l.name;void 0===c?l?delete r[u]:delete r.$attrs[s]:l?u in r?r[u]=c:$c(r,l,c):r.$attrs[s]=c},hi.prototype.get=function(r,s){var c=this.model.getPropertyDescriptor(r,s);if(!c)return r.$attrs[s];var l=c.name;return!r[l]&&c.isMany&&$c(r,c,[]),r[l]},hi.prototype.define=function(r,s,c){if(!c.writable){var l=c.value;delete(c=ee({},c,{get:function(){return l}})).value}Object.defineProperty(r,s,c)},hi.prototype.defineDescriptor=function(r,s){this.define(r,"$descriptor",{value:s})},hi.prototype.defineModel=function(r,s){this.define(r,"$model",{value:s})},un.prototype.create=function(r,s){var c=this.getType(r);if(!c)throw new Error("unknown type <"+r+">");return new c(s)},un.prototype.getType=function(r){var s=this.typeCache,c=Mr(r)?r:r.ns.name,l=s[c];return l||(r=this.registry.getEffectiveDescriptor(c),l=s[c]=this.factory.createType(r)),l},un.prototype.createAny=function(r,s,c){var l=nt(r),u={$type:r,$instanceOf:function(m){return m===this.$type}};return this.properties.defineDescriptor(u,{name:r,isGeneric:!0,ns:{prefix:l.prefix,localName:l.localName,uri:s}}),this.properties.defineModel(u,this),this.properties.define(u,"$parent",{enumerable:!1,writable:!0}),this.properties.define(u,"$instanceOf",{enumerable:!1,writable:!0}),q(c,function(m,f){on(m)&&void 0!==m.value?u[m.name]=m.value:u[f]=m}),u},un.prototype.getPackage=function(r){return this.registry.getPackage(r)},un.prototype.getPackages=function(){return this.registry.getPackages()},un.prototype.getElementDescriptor=function(r){return r.$descriptor},un.prototype.hasType=function(r,s){return void 0===s&&(s=r,r=this),s in r.$model.getElementDescriptor(r).allTypesByName},un.prototype.getPropertyDescriptor=function(r,s){return this.getElementDescriptor(r).propertiesByName[s]},un.prototype.getTypeDescriptor=function(r){return this.registry.typeMap[r]};var fm=String.fromCharCode,gm=Object.prototype.hasOwnProperty,Lt=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,Uc={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function Wu(r,s,c,l){return l?gm.call(Uc,l)?Uc[l]:"&"+l+";":fm(s||parseInt(c,16))}function Xa(r){return r.length>3&&-1!==r.indexOf("&")?r.replace(Lt,Wu):r}Object.keys(Uc).forEach(function(r){Uc[r.toUpperCase()]=Uc[r]});var Gc="xsi:type",rr="non-whitespace outside of root node";function xs(r){return new Error(r)}function Wc(r){return"missing namespace for prefix <"+r+">"}function ho(r){return{get:r,enumerable:!0}}function qu(r){var s,c={};for(s in r)c[s]=r[s];return c}function _m(r){return r+"$uri"}function On(){return{line:0,column:0}}function ZI(r){throw r}function vm(r){if(!this)return new vm(r);var s,c,l,u,h,m,f,_,v,b=r&&r.proxy,x=ZI,E=On,C=!1,k=!1,T=null,I=!1;function M(F){F instanceof Error||(F=xs(F)),T=F,x(F,E)}function R(F){h&&(F instanceof Error||(F=xs(F)),h(F,E))}this.on=function(F,N){if("function"!=typeof N)throw xs("required args <name, cb>");switch(F){case"openTag":c=N;break;case"text":s=N;break;case"closeTag":l=N;break;case"error":x=N;break;case"warn":h=N;break;case"cdata":u=N;break;case"attention":_=N;break;case"question":f=N;break;case"comment":m=N;break;default:throw xs("unsupported event: "+F)}return this},this.ns=function(F){if(void 0===F&&(F={}),"object"!=typeof F)throw xs("required args <nsMap={}>");var N,z={};for(N in F)z[N]=F[N];return z["http://www.w3.org/2001/XMLSchema-instance"]="xsi",k=!0,v=z,this},this.parse=function(F){if("string"!=typeof F)throw xs("required args <xml=string>");return T=null,function(N){var z,Z,Q,K,ie,ye,Oe,oe,de,H,A,W=k?[]:null,te=k?function(kn){var Wn,tn,Vi={};for(Wn in kn)Vi[tn=kn[Wn]]=tn,Vi[_m(tn)]=Wn;return Vi}(v):null,pe=[],Ue=0,ze=!1,$e=!1,_t=0,Le=0,en="",ei=0;function eo(){if(null!==A)return A;var kn,Wn,tn,Vi,Mi,An,Dr,nn,xo,Ct,wn,Gs=k&&te.xmlns,yc=k&&C?[]:null,ai=ei,no=en,Na=no.length,La={},lg={};e:for(;ai<Na;ai++)if(xo=!1,!(32===(Ct=no.charCodeAt(ai))||Ct<14&&Ct>8)){for((Ct<65||Ct>122||Ct>90&&Ct<97)&&95!==Ct&&58!==Ct&&(R("illegal first char attribute name"),xo=!0),wn=ai+1;wn<Na;wn++)if(!((Ct=no.charCodeAt(wn))>96&&Ct<123||Ct>64&&Ct<91||Ct>47&&Ct<59||46===Ct||45===Ct||95===Ct)){if(32===Ct||Ct<14&&Ct>8){R("missing attribute value"),ai=wn;continue e}if(61===Ct)break;R("illegal attribute name char"),xo=!0}if("xmlns:xmlns"===(nn=no.substring(ai,wn))&&(R("illegal declaration of xmlns"),xo=!0),34===(Ct=no.charCodeAt(wn+1)))-1===(wn=no.indexOf('"',ai=wn+2))&&-1!==(wn=no.indexOf("'",ai))&&(R("attribute value quote missmatch"),xo=!0);else if(39===Ct)-1===(wn=no.indexOf("'",ai=wn+2))&&-1!==(wn=no.indexOf('"',ai))&&(R("attribute value quote missmatch"),xo=!0);else for(R("missing attribute value quotes"),xo=!0,wn+=1;wn<Na&&!(32===(Ct=no.charCodeAt(wn+1))||Ct<14&&Ct>8);wn++);for(-1===wn&&(R("missing closing quotes"),wn=Na,xo=!0),xo||(An=no.substring(ai,wn)),ai=wn;wn+1<Na&&!(32===(Ct=no.charCodeAt(wn+1))||Ct<14&&Ct>8);wn++)ai===wn&&(R("illegal character after attribute end"),xo=!0);if(ai=wn+1,!xo)if(nn in lg)R("attribute <"+nn+"> already defined");else if(lg[nn]=!0,k)if(C){if(null!==(Mi="xmlns"===nn?"xmlns":120===nn.charCodeAt(0)&&"xmlns:"===nn.substr(0,6)?nn.substr(6):null)){if(kn=Xa(An),Wn=_m(Mi),!(Dr=v[kn])){if("xmlns"===Mi||Wn in te&&te[Wn]!==kn)do{Dr="ns"+Ue++}while(void 0!==te[Dr]);else Dr=Mi;v[kn]=Dr}te[Mi]!==Dr&&(Vi||(te=qu(te),Vi=!0),te[Mi]=Dr,"xmlns"===Mi&&(te[_m(Dr)]=kn,Gs=Dr),te[Wn]=kn),La[nn]=An;continue}yc.push(nn,An)}else-1!==(Ct=nn.indexOf(":"))?(tn=te[nn.substring(0,Ct)])?((nn=Gs===tn?nn.substr(Ct+1):tn+nn.substr(Ct))===Gc&&(-1!==(Ct=An.indexOf(":"))?(tn=An.substring(0,Ct),An=(tn=te[tn]||tn)+An.substring(Ct)):An=Gs+":"+An),La[nn]=An):R(Wc(nn.substring(0,Ct))):La[nn]=An;else La[nn]=An}if(C)for(ai=0,Na=yc.length;ai<Na;ai++){if(nn=yc[ai++],An=yc[ai],-1!==(Ct=nn.indexOf(":"))){if(!(tn=te[nn.substring(0,Ct)])){R(Wc(nn.substring(0,Ct)));continue}(nn=Gs===tn?nn.substr(Ct+1):tn+nn.substr(Ct))===Gc&&(-1!==(Ct=An.indexOf(":"))?(tn=An.substring(0,Ct),An=(tn=te[tn]||tn)+An.substring(Ct)):An=Gs+":"+An)}La[nn]=An}return A=La}for(E=function to(){for(var kn,Wn,tn=/(\r\n|\r|\n)/g,Vi=0,Mi=0,An=0,Dr=Le;_t>=An&&(kn=tn.exec(N))&&!((Dr=kn[0].length+kn.index)>_t);)Vi+=1,An=Dr;return-1==_t?(Mi=Dr,Wn=N.substring(Le)):0===Le?Wn=N.substring(Le,_t):(Mi=_t-An,Wn=-1==Le?N.substring(_t):N.substring(_t,Le+1)),{data:Wn,line:Vi,column:Mi}},b&&(H=Object.create({},{name:ho(function(){return oe}),originalName:ho(function(){return de}),attrs:ho(eo),ns:ho(function(){return te})}));-1!==Le;){if(-1===(_t=60===N.charCodeAt(Le)?Le:N.indexOf("<",Le)))return pe.length?M("unexpected end of file"):0===Le?M("missing start tag"):void(Le<N.length&&N.substring(Le).trim()&&R(rr));if(Le!==_t)if(pe.length){if(s&&(s(N.substring(Le,_t),Xa,E),I))return}else if(N.substring(Le,_t).trim()&&(R(rr),I))return;if(33===(ie=N.charCodeAt(_t+1))){if(91===(K=N.charCodeAt(_t+2))&&"CDATA["===N.substr(_t+3,6)){if(-1===(Le=N.indexOf("]]>",_t)))return M("unclosed cdata");if(u&&(u(N.substring(_t+9,Le),E),I))return;Le+=3;continue}if(45===K&&45===N.charCodeAt(_t+3)){if(-1===(Le=N.indexOf("--\x3e",_t)))return M("unclosed comment");if(m&&(m(N.substring(_t+4,Le),Xa,E),I))return;Le+=3;continue}}if(63!==ie){for(Z=_t+1;;Z++){if(ye=N.charCodeAt(Z),isNaN(ye))return Le=-1,M("unclosed tag");if(34===ye)Z=-1!==(K=N.indexOf('"',Z+1))?K:Z;else if(39===ye)Z=-1!==(K=N.indexOf("'",Z+1))?K:Z;else if(62===ye){Le=Z;break}}if(33!==ie){if(A={},47===ie){if(ze=!1,$e=!0,!pe.length)return M("missing open tag");if(Z=oe=pe.pop(),N.substring(_t+2,K=_t+2+Z.length)!==Z)return M("closing tag mismatch");for(;K<Le;K++)if(!(32===(ie=N.charCodeAt(K))||ie>8&&ie<14))return M("close tag")}else{if(47===N.charCodeAt(Le-1)?(Z=oe=N.substring(_t+1,Le-1),ze=!0,$e=!0):(Z=oe=N.substring(_t+1,Le),ze=!0,$e=!1),!(ie>96&&ie<123||ie>64&&ie<91||95===ie||58===ie))return M("illegal first char nodeName");for(K=1,Q=Z.length;K<Q;K++)if(!((ie=Z.charCodeAt(K))>96&&ie<123||ie>64&&ie<91||ie>47&&ie<59||45===ie||95===ie||46==ie)){if(32===ie||ie<14&&ie>8){oe=Z.substring(0,K),A=null;break}return M("invalid nodeName")}$e||pe.push(oe)}if(k){if(z=te,ze&&($e||W.push(z),null===A&&(C=-1!==Z.indexOf("xmlns",K))&&(ei=K,en=Z,eo(),C=!1)),de=oe,-1!==(ie=oe.indexOf(":"))){if(!(Oe=te[oe.substring(0,ie)]))return M("missing namespace on <"+de+">");oe=oe.substr(ie+1)}else Oe=te.xmlns;Oe&&(oe=Oe+":"+oe)}if(ze&&(ei=K,en=Z,c&&(b?c(H,Xa,$e,E):c(oe,eo,Xa,$e,E),I)))return;if($e){if(l&&(l(b?H:oe,Xa,ze,E),I))return;k&&(te=ze?z:W.pop())}Le+=1}else{if(_&&(_(N.substring(_t,Le+1),Xa,E),I))return;Le+=1}}else{if(-1===(Le=N.indexOf("?>",_t)))return M("unclosed question");if(f&&(f(N.substring(_t,Le+2),E),I))return;Le+=2}}}(F),E=On,I=!1,T},this.stop=function(){I=!0}}function T_(r){return r.xml&&"lowerCase"===r.xml.tagAlias}var ym={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},qc="xsi:type";function Kc(r){return r.xml&&r.xml.serialize}function _r(r){return Kc(r)===qc}function yk(r,s){return T_(s)?r.prefix+":"+((c=r.localName).charAt(0).toUpperCase()+c.slice(1)):r.name;var c}function Ei(r){return new Error(r)}function Pi(r){return r.$descriptor}function A_(r){ee(this,r),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(s){this.references.push(s)},this.addElement=function(s){if(!s)throw Ei("expected element");var c,l=this.elementsById,u=Pi(s).idProperty;if(u&&(c=s.get(u.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(c))throw new Error("illegal ID <"+c+">");if(l[c])throw Ei("duplicate ID <"+c+">");l[c]=s}},this.addWarning=function(s){this.warnings.push(s)}}function da(){}function hd(){}function vr(){}function Ku(r,s){this.property=r,this.context=s}function ox(r,s){this.element=s,this.propertyDesc=r}function bm(){}function yr(r,s,c){this.model=r,this.type=r.getType(s),this.context=c}function sx(r,s,c){yr.call(this,r,s,c)}function Yu(r,s,c){this.model=r,this.context=c}function ax(r){r instanceof un&&(r={model:r}),ee(this,{lax:!1},r)}da.prototype.handleEnd=function(){},da.prototype.handleText=function(){},da.prototype.handleNode=function(){},(hd.prototype=Object.create(da.prototype)).handleNode=function(){return this},(vr.prototype=Object.create(da.prototype)).handleText=function(r){this.body=(this.body||"")+r},(Ku.prototype=Object.create(vr.prototype)).handleNode=function(r){if(this.element)throw Ei("expected no sub nodes");return this.element=this.createReference(r),this},Ku.prototype.handleEnd=function(){this.element.id=this.body},Ku.prototype.createReference=function(r){return{property:this.property.ns.name,id:""}},(ox.prototype=Object.create(vr.prototype)).handleEnd=function(){var r=this.body||"",s=this.element,c=this.propertyDesc;r=Pr(c.type,r),c.isMany?s.get(c.name).push(r):s.set(c.name,r)},(bm.prototype=Object.create(vr.prototype)).handleNode=function(r){var s=this,c=this.element;return c?s=this.handleChild(r):(c=this.element=this.createElement(r),this.context.addElement(c)),s},(yr.prototype=Object.create(bm.prototype)).addReference=function(r){this.context.addReference(r)},yr.prototype.handleText=function(r){if(!Pi(this.element).bodyProperty)throw Ei("unexpected body text <"+r+">");vr.prototype.handleText.call(this,r)},yr.prototype.handleEnd=function(){var r=this.body,s=this.element,c=Pi(s).bodyProperty;c&&void 0!==r&&(r=Pr(c.type,r),s.set(c.name,r))},yr.prototype.createElement=function(r){var s,c=r.attributes,l=this.type,u=Pi(l),h=this.context,m=new l({}),f=this.model;return q(c,function(_,v){var b=u.propertiesByName[v];b&&b.isReference?b.isMany?q(_.split(" "),function(x){h.addReference({element:m,property:b.ns.name,id:x})}):h.addReference({element:m,property:b.ns.name,id:_}):(b?_=Pr(b.type,_):"xmlns"!==v&&(s=nt(v,u.ns.prefix),f.getPackage(s.prefix)&&h.addWarning({message:"unknown attribute <"+v+">",element:m,property:v,value:_})),m.set(v,_))}),m},yr.prototype.getPropertyForNode=function(r){var s,c,x,C,k,T,I,M,E,l=nt(r.name),h=this.model,m=Pi(this.type),_=m.propertiesByName[l.name];if(_&&!_.isAttr)return _r(_)&&(s=r.attributes[qc])?(x=h,C=E=nt(s),k=x.getPackage(E.prefix),T=C.name,I=C.localName,s=(M=k.xml&&k.xml.typePrefix)&&0===I.indexOf(M)?C.prefix+":"+I.slice(M.length):T,ee({},_,{effectiveType:Pi(c=h.getType(s)).name})):_;var v=h.getPackage(l.prefix);if(v){if(s=yk(l,v),c=h.getType(s),_=wt(m.properties,function(b){return!b.isVirtual&&!b.isReference&&!b.isAttribute&&c.hasType(b.type)}))return ee({},_,{effectiveType:Pi(c).name})}else if(_=wt(m.properties,function(b){return!b.isReference&&!b.isAttribute&&"Element"===b.type}))return _;throw Ei("unrecognized element <"+l.name+">")},yr.prototype.toString=function(){return"ElementDescriptor["+Pi(this.type).name+"]"},yr.prototype.valueHandler=function(r,s){return new ox(r,s)},yr.prototype.referenceHandler=function(r){return new Ku(r,this.context)},yr.prototype.handler=function(r){return"Element"===r?new Yu(this.model,r,this.context):new yr(this.model,r,this.context)},yr.prototype.handleChild=function(r){var s,c,l,u;if(s=this.getPropertyForNode(r),l=this.element,Fe(c=s.effectiveType||s.type))return this.valueHandler(s,l);var h=(u=s.isReference?this.referenceHandler(s).handleNode(r):this.handler(c).handleNode(r)).element;return void 0!==h&&(s.isMany?l.get(s.name).push(h):l.set(s.name,h),s.isReference?(ee(h,{element:l}),this.context.addReference(h)):h.$parent=l),u},(sx.prototype=Object.create(yr.prototype)).createElement=function(r){var s=r.name,c=nt(s),u=this.type,h=this.model.getPackage(c.prefix),m=h&&yk(c,h)||s;if(!u.hasType(m))throw Ei("unexpected element <"+r.originalName+">");return yr.prototype.createElement.call(this,r)},(Yu.prototype=Object.create(bm.prototype)).createElement=function(r){var s=r.name,c=nt(s).prefix;return this.model.createAny(s,r.ns[c+"$uri"],r.attributes)},Yu.prototype.handleChild=function(r){var s=new Yu(this.model,"Element",this.context).handleNode(r),c=this.element,l=s.element;return void 0!==l&&((c.$children=c.$children||[]).push(l),l.$parent=c),s},Yu.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},ax.prototype.fromXML=function(r,s,c){var l=s.rootHandler;s instanceof yr?(l=s,s={}):"string"==typeof s?(l=this.handler(s),s={}):"string"==typeof l&&(l=this.handler(l));var I,u=this.model,h=this.lax,m=new A_(ee({},s,{rootHandler:l})),f=new vm({proxy:!0}),_=(I=[],Object.defineProperty(I,"peek",{value:function(){return this[this.length-1]}}),I);function v(I,M,R){var F=M(),N=F.line,z=F.column,Z=F.data;"<"===Z.charAt(0)&&-1!==Z.indexOf(" ")&&(Z=Z.slice(0,Z.indexOf(" "))+">");var Q="unparsable content "+(Z?Z+" ":"")+"detected\n\tline: "+N+"\n\tcolumn: "+z+"\n\tnested error: "+I.message;if(R)return m.addWarning({message:Q,error:I}),!0;throw Ei(Q)}function b(I,M){return v(I,M,!0)}l.context=m,_.push(l);var x=/^<\?xml /i,E=/ encoding="([^"]+)"/i,C=/^utf-8$/i;function k(I,M){try{_.peek().handleText(I)}catch(R){b(R,M)}}var T=u.getPackages().reduce(function(I,M){return I[M.uri]=M.prefix,I},{"http://www.w3.org/XML/1998/namespace":"xml"});return f.ns(T).on("openTag",function(I,M,R,F){var N=I.attrs||{},z=Object.keys(N).reduce(function(Z,Q){var K=M(N[Q]);return Z[Q]=K,Z},{});!function(Z,Q){var K=_.peek();try{_.push(K.handleNode(Z))}catch(ie){v(ie,Q,h)&&_.push(new hd)}}({name:I.name,originalName:I.originalName,attributes:z,ns:I.ns},F)}).on("question",function(I){if(x.test(I)){var M=E.exec(I),R=M&&M[1];R&&!C.test(R)&&m.addWarning({message:"unsupported document encoding <"+R+">, falling back to UTF-8"})}}).on("closeTag",function(){_.pop().handleEnd()}).on("cdata",k).on("text",function(I,M,R){var F,N;N=R,(F=M(I)).trim()&&k(F,N)}).on("error",v).on("warn",b),new Promise(function(I,M){var R;try{f.parse(r),function(){var Q,K,ie=m.elementsById,ye=m.references;for(Q=0;K=ye[Q];Q++){var Oe=K.element,oe=ie[K.id],de=Pi(Oe).propertiesByName[K.property];if(oe||m.addWarning({message:"unresolved reference <"+K.id+">",element:K.element,property:K.property,value:K.id}),de.isMany){var H=Oe.get(de.name),A=H.indexOf(K);-1===A&&(A=H.length),oe?H[A]=oe:H.splice(A,1)}else Oe.set(de.name,oe)}}()}catch(Q){R=Q}var F=l.element;R||F||(R=Ei("failed to parse document as <"+l.type.$descriptor.name+">"));var N=m.warnings,z=m.references,Z=m.elementsById;return R?(R.warnings=N,M(R)):I({rootElement:F,elementsById:Z,references:z,warnings:N})})},ax.prototype.handler=function(r){return new sx(this.model,r)};var QI=/<|>|'|"|&|\n\r|\n/g,bk=/<|>|&/g;function JI(r){var s={},c={},l={},u=[],h=[];this.byUri=function(m){return c[m]||r&&r.byUri(m)},this.add=function(m,f){c[m.uri]=m,f?u.push(m):h.push(m),this.mapPrefix(m.prefix,m.uri)},this.uriByPrefix=function(m){return s[m||"xmlns"]},this.mapPrefix=function(m,f){s[m||"xmlns"]=f},this.getNSKey=function(m){return void 0!==m.prefix?m.uri+"|"+m.prefix:m.uri},this.logUsed=function(m){var f=m.uri,_=this.getNSKey(m);l[_]=this.byUri(f),r&&r.logUsed(m)},this.getUsed=function(m){var f=this;return[].concat(u,h).filter(function(_){var v=f.getNSKey(_);return l[v]})}}function e2(r,s){return T_(s)?(c=r).charAt(0).toLowerCase()+c.slice(1):r;var c}function xk(r,s){r.super_=s,r.prototype=Object.create(s.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}function wk(r){return Mr(r)?r:(r.prefix?r.prefix+":":"")+r.localName}var t2={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},n2={"<":"lt",">":"gt","&":"amp"};function Ek(r,s,c){return(r=Mr(r)?r:""+r).replace(s,function(l){return"&"+c[l]+";"})}function xm(r){this.tagName=r}function Za(){}function cx(r){this.tagName=r}function Un(r,s){this.body=[],this.attrs=[],this.parent=r,this.propertyDescriptor=s}function R_(r,s){Un.call(this,r,s)}function Yc(){this.value="",this.write=function(r){this.value+=r}}function Ck(r,s){var c=[""];this.append=function(l){return r.write(l),this},this.appendNewLine=function(){return s&&r.write("\n"),this},this.appendIndent=function(){return s&&r.write(c.join("  ")),this},this.indent=function(){return c.push(""),this},this.unindent=function(){return c.pop(),this}}function or(r){return r=ee({format:!1,preamble:!0},r||{}),{toXML:function(s,c){var l=c||new Yc,u=new Ck(l,r.format);if(r.preamble&&u.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new Un).build(s).serializeTo(u),!c)return l.value}}}function Xu(r,s){un.call(this,r,s)}xm.prototype.build=function(r){return this.element=r,this},xm.prototype.serializeTo=function(r){r.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},Za.prototype.serializeValue=Za.prototype.serializeTo=function(r){r.append(this.escape?Ek(this.value,bk,n2):this.value)},Za.prototype.build=function(r,s){return this.value=s,"String"===r.type&&-1!==s.search(bk)&&(this.escape=!0),this},xk(cx,Za),cx.prototype.serializeTo=function(r){r.appendIndent().append("<"+this.tagName+">"),this.serializeValue(r),r.append("</"+this.tagName+">").appendNewLine()},Un.prototype.build=function(r){this.element=r;var s,c,m,l=r.$descriptor,u=this.propertyDescriptor,h=l.isGeneric;return s=h?this.parseGeneric(r):this.parseNsAttributes(r),this.ns=u?this.nsPropertyTagName(u):this.nsTagName(l),this.tagName=this.addTagName(this.ns),h||(c=pt((m=r).$descriptor.properties,function(f){var _=f.name;if(f.isVirtual||!Sr(m,_))return!1;var v=m[_];return v!==f.default&&null!==v&&(!f.isMany||v.length)}),this.parseAttributes(pt(c,function(m){return m.isAttr})),this.parseContainments(function(m){return pt(m,function(f){return!f.isAttr})}(c))),this.parseGenericAttributes(r,s),this},Un.prototype.nsTagName=function(r){return function(s,c){return ee(c.isGeneric?{localName:c.ns.localName}:{localName:e2(c.ns.localName,c.$pkg)},s)}(this.logNamespaceUsed(r.ns),r)},Un.prototype.nsPropertyTagName=function(r){return function(s,c){return ee({localName:c.ns.localName},s)}(this.logNamespaceUsed(r.ns),r)},Un.prototype.isLocalNs=function(r){return r.uri===this.ns.uri},Un.prototype.nsAttributeName=function(r){var s;if(s=Mr(r)?nt(r):r.ns,r.inherited)return{localName:s.localName};var c=this.logNamespaceUsed(s);return this.getNamespaces().logUsed(c),this.isLocalNs(c)?{localName:s.localName}:ee({localName:s.localName},c)},Un.prototype.parseGeneric=function(r){var s=this,c=this.body,l=[];return q(r,function(u,h){"$body"===h?c.push((new Za).build({type:"String"},u)):"$children"===h?q(u,function(m){c.push(new Un(s).build(m))}):0!==h.indexOf("$")&&s.parseNsAttribute(r,h,u)&&l.push({name:h,value:u})}),l},Un.prototype.parseNsAttribute=function(r,s,c){var l,u=r.$model,h=nt(s);if("xmlns"===h.prefix&&(l={prefix:h.localName,uri:c}),h.prefix||"xmlns"!==h.localName||(l={uri:c}),!l)return{name:s,value:c};if(u&&u.getPackage(c))this.logNamespace(l,!0,!0);else{var m=this.logNamespaceUsed(l,!0);this.getNamespaces().logUsed(m)}},Un.prototype.parseNsAttributes=function(r,s){var c=this,u=[];return q(r.$attrs,function(h,m){var f=c.parseNsAttribute(r,m,h);f&&u.push(f)}),u},Un.prototype.parseGenericAttributes=function(r,s){var c=this;q(s,function(l){if(l.name!==qc)try{c.addAttribute(c.nsAttributeName(l.name),l.value)}catch(u){console.warn("missing namespace information for ",l.name,"=",l.value,"on",r,u)}})},Un.prototype.parseContainments=function(r){var s=this,c=this.body,l=this.element;q(r,function(u){var h=l.get(u.name),m=u.isReference;if(u.isMany||(h=[h]),u.isBody)c.push((new Za).build(u,h[0]));else if(Fe(u.type))q(h,function(v){c.push(new cx(s.addTagName(s.nsPropertyTagName(u))).build(u,v))});else if(m)q(h,function(v){c.push(new xm(s.addTagName(s.nsPropertyTagName(u))).build(v))});else{var f=_r(u),_="property"===Kc(u);q(h,function(v){var b;b=f?new R_(s,u):_?new Un(s,u):new Un(s),c.push(b.build(v))})}})},Un.prototype.getNamespaces=function(r){var s,c=this.namespaces,l=this.parent;return c||(s=l&&l.getNamespaces(),r||!s?this.namespaces=c=new JI(s):c=s),c},Un.prototype.logNamespace=function(r,s,c){var l=this.getNamespaces(c),u=r.uri,h=r.prefix;return l.byUri(u)&&!c||l.add(r,s),l.mapPrefix(h,u),r},Un.prototype.logNamespaceUsed=function(r,s){var c,l,u,h=this.element.$model,m=this.getNamespaces(s),f=r.prefix,_=r.uri;if(!f&&!_)return{localName:r.localName};if(u=ym[f]||h&&(h.getPackage(f)||{}).uri,!(_=_||u||m.uriByPrefix(f)))throw new Error("no namespace uri given for prefix <"+f+">");if(!(r=m.byUri(_))){for(c=f,l=1;m.uriByPrefix(c);)c=f+"_"+l++;r=this.logNamespace({prefix:c,uri:_},u===_)}return f&&m.mapPrefix(f,_),r},Un.prototype.parseAttributes=function(r){var s=this,c=this.element;q(r,function(l){var u=c.get(l.name);if(l.isReference)if(l.isMany){var h=[];q(u,function(m){h.push(m.id)}),u=h.join(" ")}else u=u.id;s.addAttribute(s.nsAttributeName(l),u)})},Un.prototype.addTagName=function(r){var s=this.logNamespaceUsed(r);return this.getNamespaces().logUsed(s),wk(r)},Un.prototype.addAttribute=function(r,s){var c=this.attrs;Mr(s)&&(s=Ek(s,QI,t2));var l=Wa(c,function(h){return h.name.localName===r.localName&&h.name.uri===r.uri&&h.name.prefix===r.prefix}),u={name:r,value:s};-1!==l?c.splice(l,1,u):c.push(u)},Un.prototype.serializeAttributes=function(r){var l,s=this.attrs,c=this.namespaces;c&&(s=(l=c,l.getUsed().filter(function(u){return"xml"!==u.prefix}).map(function(u){return{name:"xmlns"+(u.prefix?":"+u.prefix:""),value:u.uri}})).concat(s)),q(s,function(l){r.append(" ").append(wk(l.name)).append('="').append(l.value).append('"')})},Un.prototype.serializeTo=function(r){var s=this.body[0],c=s&&s.constructor!==Za;r.appendIndent().append("<"+this.tagName),this.serializeAttributes(r),r.append(s?">":" />"),s&&(c&&r.appendNewLine().indent(),q(this.body,function(l){l.serializeTo(r)}),c&&r.unindent().appendIndent(),r.append("</"+this.tagName+">")),r.appendNewLine()},xk(R_,Un),R_.prototype.parseNsAttributes=function(r){var s=Un.prototype.parseNsAttributes.call(this,r),c=r.$descriptor;if(c.name===this.propertyDescriptor.type)return s;var l=this.typeNs=this.nsTagName(c);this.getNamespaces().logUsed(this.typeNs);var u=r.$model.getPackage(l.uri),h=u.xml&&u.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(qc),(l.prefix?l.prefix+":":"")+h+c.ns.localName),s},R_.prototype.isLocalNs=function(r){return r.uri===(this.typeNs||this.ns).uri},(Xu.prototype=Object.create(un.prototype)).fromXML=function(r,s,c){Mr(s)||(c=s,s="bpmn:Definitions");var l=new ax(ee({model:this,lax:!0},c)),u=l.handler(s);return l.fromXML(r,u)},Xu.prototype.toXML=function(r,s){var c=new or(s);return new Promise(function(l,u){try{return l({xml:c.toXML(r)})}catch(h){return u(h)}})};var Dk={bpmn:{name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",prefix:"bpmn",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isAttr:!0,isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],xml:{tagAlias:"lowerCase",typePrefix:"t"}},bpmndi:{name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",prefix:"bpmndi",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[]},dc:{name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",prefix:"dc",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],associations:[]},di:{name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",prefix:"di",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],xml:{tagAlias:"lowerCase"}},bioc:{name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]},color:{name:"BPMN in Color",uri:"http://www.omg.org/spec/BPMN/non-normative/color/1.0",prefix:"color",types:[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}};function kk(r,s){return new Xu(ee({},Dk,r),s)}function Wi(r){return r?"<"+r.$type+(r.id?' id="'+r.id:"")+'" />':"<null>"}function Xc(r){return function(){if(!window.Promise)throw new Error("Promises is not supported in this environment. Please polyfill Promise.");var s=arguments.length;if(!(s>=1&&mn(arguments[s-1])))return r.apply(this,arguments);var c=arguments[s-1];console.warn(new Error("Passing callbacks to "+r.name+" is deprecated and will be removed in a future major release. Please switch to promises: https://bpmn.io/l/moving-to-promises.html"));var l=Array.prototype.slice.call(arguments,0,-1);r.apply(this,l).then(function(u){var h=Object.keys(u)[0];return c(null,u[h])},function(u){return c(u,u.warnings)})}}function lx(r){Sr(r,"di")||Object.defineProperty(r,"di",{enumerable:!1,get:function(){throw new Error("Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472")}})}function sr(r,s){return r.$instanceOf(s)}function Mk(r,s){var c={},l=[],u={};function h(oe,de){return function(H){oe(H,de)}}function m(oe){c[oe.id]=oe}function f(oe,de){try{var H=u[oe.id]&&function(A,W){if(A.gfx)throw new Error(s("already rendered {element}",{element:Wi(A)}));return r.element(A,u[A.id],W)}(oe,de);return m(oe),H}catch(A){_(A.message,{element:oe,error:A}),console.error(s("failed to import {element}",{element:Wi(oe)})),console.error(A)}}function _(oe,de){r.error(oe,de)}function v(oe){var de=oe.bpmnElement;de?u[de.id]?_(s("multiple DI elements defined for {element}",{element:Wi(de)}),{element:de}):(u[de.id]=oe,lx(de)):_(s("no bpmnElement referenced in {element}",{element:Wi(oe)}),{element:oe})}function x(oe){v(oe)}function E(){for(;l.length;)l.shift()()}function C(oe,de){ye(oe,de),N(oe.ioSpecification,de),F(oe.artifacts,de),m(oe)}function k(oe,de){f(oe,de)}function T(oe,de){f(oe,de)}function I(oe,de){f(oe,de)}function M(oe,de){f(oe,de)}function R(oe,de){f(oe,de)}function F(oe,de){q(oe,function(H){sr(H,"bpmn:Association")?l.push(function(){R(H,de)}):R(H,de)})}function N(oe,de){oe&&(q(oe.dataInputs,h(I,de)),q(oe.dataOutputs,h(M,de)))}function z(oe,de){ye(oe,de),F(oe.artifacts,de)}function Z(oe,de){var H=f(oe,de);sr(oe,"bpmn:SubProcess")&&z(oe,H||de),sr(oe,"bpmn:Activity")&&N(oe.ioSpecification,de),l.push(function(){q(oe.dataInputAssociations,h(T,de)),q(oe.dataOutputAssociations,h(T,de))})}function K(oe,de){l.push(function(){var A,H=f(oe,de);oe.childLaneSet&&ie(oe.childLaneSet,H||de),q((A=oe).flowNodeRef,function(W){var te=W.get("lanes");te&&te.push(A)})})}function ie(oe,de){q(oe.lanes,h(K,de))}function ye(oe,de){var A;A=de,q(oe.flowElements,function(W){sr(W,"bpmn:SequenceFlow")?l.push(function(){f(W,A)}):sr(W,"bpmn:BoundaryEvent")?l.unshift(function(){Z(W,A)}):sr(W,"bpmn:FlowNode")?Z(W,A):sr(W,"bpmn:DataObject")||(sr(W,"bpmn:DataStoreReference")||sr(W,"bpmn:DataObjectReference")?function Q(oe,de){f(oe,de)}(W,A):_(s("unrecognized flowElement {element} in context {context}",{element:Wi(W),context:A?Wi(A.businessObject):"null"}),{element:W,context:A}))}),oe.laneSets&&function(H,A){q(H,h(ie,A))}(oe.laneSets,de)}function Oe(oe,de){var H=f(oe,de),A=oe.processRef;A&&C(A,H||de)}return{handleDeferred:E,handleDefinitions:function(oe,de){var H=oe.diagrams;if(de&&-1===H.indexOf(de))throw new Error(s("diagram not part of bpmn:Definitions"));if(!de&&H&&H.length&&(de=H[0]),!de)throw new Error(s("no diagram to display"));u={},function b(oe){var de;v(de=oe.plane),q(de.planeElement,x)}(de);var A=de.plane;if(!A)throw new Error(s("no plane for {element}",{element:Wi(de)}));var W=A.bpmnElement;if(!W){if(!(W=wt(oe.rootElements,function($e){return sr($e,"bpmn:Process")||sr($e,"bpmn:Collaboration")})))throw new Error(s("no process or collaboration to display"));_(s("correcting missing bpmnElement on {plane} to {rootElement}",{plane:Wi(A),rootElement:Wi(W)})),A.bpmnElement=W,v(A)}var te,pe,ze,Ue=r.root(ze=W,u[ze.id],A);if(sr(W,"bpmn:Process")||sr(W,"bpmn:SubProcess"))C(W,Ue);else{if(!sr(W,"bpmn:Collaboration"))throw new Error(s("unsupported bpmnElement for {plane}: {rootElement}",{plane:Wi(A),rootElement:Wi(W)}));q((te=W).participants,h(Oe,pe=Ue)),F(te.artifacts,pe),l.push(function(){!function(ze,$e){q(ze,h(k,$e))}(te.messageFlows,pe)}),function(ze,$e){pt(ze,function(Le){return!c[Le.id]&&sr(Le,"bpmn:Process")&&Le.laneSets}).forEach(h(C,$e))}(oe.rootElements,Ue)}E()},handleSubProcess:z,registerDi:v}}function P(r,s){var c=Ie(r);return c&&"function"==typeof c.$instanceOf&&c.$instanceOf(s)}function Bt(r,s){return To(s,function(c){return P(r,c)})}function Ie(r){return r&&r.businessObject||r}function st(r){return r&&r.di}function Sk(r,s,c){var l,u,h,m,f=[];function _(v,b){var x=new Mk({root:function(k,T){return l.add(k,T)},element:function(k,T,I){return l.add(k,T,I)},error:function(k,T){f.push({message:k,context:T})}},h),E=function(k,T){if(T){var I,M=T.plane.bpmnElement,R=M;P(M,"bpmn:Process")||P(M,"bpmn:Collaboration")||(R=function(Q){for(var K=Q;K;){if(P(K,"bpmn:Process"))return K;K=K.$parent}}(M)),I=P(R,"bpmn:Collaboration")?R:wt(k.rootElements,function(Q){if(P(Q,"bpmn:Collaboration"))return wt(Q.participants,function(K){return K.processRef===R})});var F=[R];I&&(F=ii(I.participants,function(Q){return Q.processRef})).push(I);var N=Zu(F),z=[T],Z=[M];return q(k.diagrams,function(Q){var K=Q.plane.bpmnElement;-1!==N.indexOf(K)&&-1===Z.indexOf(K)&&(z.push(Q),Z.push(K))}),z}}(v,b=b||v.diagrams&&v.diagrams[0]);if(!E)throw new Error(h("no diagram to display"));q(E,function(k){x.handleDefinitions(v,k)});var C=b.plane.bpmnElement.id;m.setRootElement(m.findRoot(C+"_plane")||m.findRoot(C))}return new Promise(function(v,b){try{return l=r.get("bpmnImporter"),u=r.get("eventBus"),h=r.get("translate"),m=r.get("canvas"),u.fire("import.render.start",{definitions:s}),_(s,c),u.fire("import.render.complete",{error:void 0,warnings:f}),v({warnings:f})}catch(x){return x.warnings=f,b(x)}})}function Zu(r){var s=[];return q(r,function(c){c&&(s.push(c),s=s.concat(Zu(c.flowElements)))}),s}var pi,I_={verticalAlign:"middle"},Zc={color:"#404040"},po={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},Ak={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},wm={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"};function hn(r){r=ee({},O_,r),this._moddle=this._createModdle(r),this._container=this._createContainer(r),function(s){const c=Sn('<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg></a>');nr(Cn("svg",c),I_),nr(c,Zc,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),s.appendChild(c),Ke.bind(c,"click",function(l){(function Rk(){pi||(nr(pi=Sn('<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg></a><span>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>'),po),nr(Cn("svg",pi),I_),nr(Cn(".backdrop",pi),Ak),nr(Cn(".notice",pi),wm),nr(Cn(".link",pi),Zc,{margin:"15px 20px 15px 10px",alignSelf:"center"}),Io_bind(pi,".backdrop","click",function(r){document.body.removeChild(pi)})),document.body.appendChild(pi)})(),l.preventDefault()})}(this._container),this._init(this._container,this._moddle,r)}function Qu(r,s){return r.warnings=s,r}Me(hn,Oi),hn.prototype.importXML=Xc(function(){var r=Dt(function*(s,c){const l=this;let u=[];try{let h;s=this._emit("import.parse.start",{xml:s})||s;try{h=yield this._moddle.fromXML(s,"bpmn:Definitions")}catch(x){throw this._emit("import.parse.complete",{error:x}),x}let m=h.rootElement;const f=h.references,v=h.elementsById;u=u.concat(h.warnings),m=this._emit("import.parse.complete",function(x){const E=l.get("eventBus").createEvent(x);return Object.defineProperty(E,"context",{enumerable:!0,get:function(){return console.warn(new Error("import.parse.complete <context> is deprecated and will be removed in future library versions")),{warnings:x.warnings,references:x.references,elementsById:x.elementsById}}}),E}({error:null,definitions:m,elementsById:v,references:f,warnings:u}))||m;const b=yield this.importDefinitions(m,c);return u=u.concat(b.warnings),this._emit("import.done",{error:null,warnings:u}),{warnings:u}}catch(h){let m=h;throw u=u.concat(m.warnings||[]),Qu(m,u),m=function(f){const _=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(f.message);return _&&(f.message="unparsable content <"+_[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+_[2]),f}(m),this._emit("import.done",{error:m,warnings:m.warnings}),m}});return function(s,c){return r.apply(this,arguments)}}()),hn.prototype.importDefinitions=Xc(function(){var r=Dt(function*(s,c){return this._setDefinitions(s),{warnings:(yield this.open(c)).warnings}});return function(s,c){return r.apply(this,arguments)}}()),hn.prototype.open=Xc(function(){var r=Dt(function*(s){const c=this._definitions;let l=s;if(!c){const h=new Error("no XML imported");throw Qu(h,[]),h}if("string"==typeof s&&(l=(m=s)&&wt((h=c).diagrams,function(f){return f.id===m})||null,!l)){const h=new Error("BPMNDiagram <"+s+"> not found");throw Qu(h,[]),h}var h,m;try{this.clear()}catch(h){throw Qu(h,[]),h}const{warnings:u}=yield Sk(this,c,l);return{warnings:u}});return function(s){return r.apply(this,arguments)}}()),hn.prototype.saveXML=Xc(function(){var r=Dt(function*(s){s=s||{};let c,l,u=this._definitions;try{if(!u)throw new Error("no definitions loaded");u=this._emit("saveXML.start",{definitions:u})||u,l=(yield this._moddle.toXML(u,s)).xml,l=this._emit("saveXML.serialized",{xml:l})||l}catch(m){c=m}const h=c?{error:c}:{xml:l};if(this._emit("saveXML.done",h),c)throw c;return h});return function(s){return r.apply(this,arguments)}}()),hn.prototype.saveSVG=Xc(Dt(function*(r={}){let s,c;this._emit("saveSVG.start");try{const l=this.get("canvas"),u=l.getActiveLayer(),h=Cn("defs",l._svg),m=g_(u),f=h?"<defs>"+g_(h)+"</defs>":"",_=u.getBBox();s='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with bpmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+_.width+'" height="'+_.height+'" viewBox="'+_.x+" "+_.y+" "+_.width+" "+_.height+'" version="1.1">'+f+m+"</svg>"}catch(l){c=l}if(this._emit("saveSVG.done",{error:c,svg:s}),c)throw c;return{svg:s}})),hn.prototype._setDefinitions=function(r){this._definitions=r},hn.prototype.getModules=function(){return this._modules},hn.prototype.clear=function(){this.getDefinitions()&&Oi.prototype.clear.call(this)},hn.prototype.destroy=function(){Oi.prototype.destroy.call(this),na(this._container)},hn.prototype.on=function(r,s,c,l){return this.get("eventBus").on(r,s,c,l)},hn.prototype.off=function(r,s){this.get("eventBus").off(r,s)},hn.prototype.attachTo=function(r){if(!r)throw new Error("parentNode required");this.detach(),r.get&&r.constructor.prototype.jquery&&(r=r.get(0)),"string"==typeof r&&(r=Cn(r)),r.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},hn.prototype.getDefinitions=function(){return this._definitions},hn.prototype.detach=function(){const r=this._container,s=r.parentNode;s&&(this._emit("detach",{}),s.removeChild(r))},hn.prototype._init=function(r,s,c){const l=c.modules||this.getModules(),h=[].concat([{bpmnjs:["value",this],moddle:["value",s]}],l,c.additionalModules||[]),m=ee(an(c,["additionalModules"]),{canvas:ee({},c.canvas,{container:r}),modules:h});Oi.call(this,m),c&&c.container&&this.attachTo(c.container)},hn.prototype._emit=function(r,s){return this.get("eventBus").fire(r,s)},hn.prototype._createContainer=function(r){const s=Sn('<div class="bjs-container"></div>');return nr(s,{width:At(r.width),height:At(r.height),position:r.position}),s},hn.prototype._createModdle=function(r){return new kk(ee({},this._moddleExtensions,r.moddleExtensions))},hn.prototype._modules=[];const O_={width:"100%",height:"100%",position:"relative"};function At(r){return r+(Re(r)?"px":"")}function pd(r){hn.call(this,r),this.on("import.parse.complete",function(s){s.error||this._collectIds(s.definitions,s.elementsById)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}function zt(r,s){return!P(r,"bpmn:CallActivity")&&(P(r,"bpmn:SubProcess")?!(!(s=s||st(r))||!P(s,"bpmndi:BPMNPlane"))||s&&!!s.isExpanded:!P(r,"bpmn:Participant")||!!Ie(r).processRef)}function mo(r){return r&&!!Ie(r).triggeredByEvent}function Em(r,s){var c=Ie(r),l=!1;return c.eventDefinitions&&q(c.eventDefinitions,function(u){P(u,s)&&(l=!0)}),l}function dx(r){return P(r,"bpmn:FlowElement")||P(r,"bpmn:Participant")||P(r,"bpmn:Lane")||P(r,"bpmn:SequenceFlow")||P(r,"bpmn:MessageFlow")||P(r,"bpmn:DataInput")||P(r,"bpmn:DataOutput")?"name":P(r,"bpmn:TextAnnotation")?"text":P(r,"bpmn:Group")?"categoryValueRef":void 0}function Lo(r){var u,s=r.businessObject,c=dx(s);if(c)return"categoryValueRef"===c?(u=s.categoryValueRef)&&u.value||"":s[c]||""}Me(pd,hn),pd.prototype._createModdle=function(r){var s=hn.prototype._createModdle.call(this,r);return s.ids=new zn([32,36,1]),s},pd.prototype._collectIds=function(r,s){var c,l=r.$model.ids;for(c in l.clear(),s)l.claim(c,s[c])};var ua="hsl(225, 10%, 15%)";function ws(r,s,c){return To(r.eventDefinitions,function(l){return l.$type===s&&(u=r,qa(c,function(m,f){return u[f]==m}));var u})}function le(r){return r.businessObject}function Pe(r,s){var c=st(r);return c.get("color:background-color")||c.get("bioc:fill")||s||"white"}function ge(r,s){var c=st(r);return c.get("color:border-color")||c.get("bioc:stroke")||s||ua}function Xn(r,s,c){var l=st(r).get("label");return l&&l.get("color:color")||s||ge(r,c)}var ar=new zn,Qc=.95;function Qo(r,s,c,l,u,h,m){ra.call(this,s,m);var f=r&&r.defaultFillColor,_=r&&r.defaultStrokeColor,v=r&&r.defaultLabelColor,b=ar.next(),x={},E=c.computeStyle;function C(H,A){var W=ee({fill:ua,strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},A.attrs),te=A.ref||{x:0,y:0},pe=A.scale||1;"none"===W.strokeDasharray&&(W.strokeDasharray=[1e4,1]);var Ue=Ye("marker");ve(A.element,W),rt(Ue,A.element),ve(Ue,{id:H,viewBox:"0 0 20 20",refX:te.x,refY:te.y,markerWidth:20*pe,markerHeight:20*pe,orient:"auto"});var ze=Cn("defs",u._svg);ze||(ze=Ye("defs"),rt(u._svg,ze)),rt(ze,Ue),x[H]=Ue}function k(H){return H.replace(/[^0-9a-zA-z]+/g,"_")}function T(H,A,W){var te=H+"-"+k(A)+"-"+k(W)+"-"+b;return x[te]||function(pe,Ue,ze,$e){if("sequenceflow-end"===Ue){var _t=Ye("path");ve(_t,{d:"M 1 5 L 11 10 L 1 15 Z"}),C(pe,{element:_t,ref:{x:11,y:10},scale:.5,attrs:{fill:$e,stroke:$e}})}if("messageflow-start"===Ue){var Le=Ye("circle");ve(Le,{cx:6,cy:6,r:3.5}),C(pe,{element:Le,attrs:{fill:ze,stroke:$e},ref:{x:6,y:6}})}if("messageflow-end"===Ue){var en=Ye("path");ve(en,{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z"}),C(pe,{element:en,attrs:{fill:ze,stroke:$e,strokeLinecap:"butt"},ref:{x:8.5,y:5}})}if("association-start"===Ue){var ei=Ye("path");ve(ei,{d:"M 11 5 L 1 10 L 11 15"}),C(pe,{element:ei,attrs:{fill:"none",stroke:$e,strokeWidth:1.5},ref:{x:1,y:10},scale:.5})}if("association-end"===Ue){var eo=Ye("path");ve(eo,{d:"M 1 5 L 11 10 L 1 15"}),C(pe,{element:eo,attrs:{fill:"none",stroke:$e,strokeWidth:1.5},ref:{x:12,y:10},scale:.5})}if("conditional-flow-marker"===Ue){var to=Ye("path");ve(to,{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z"}),C(pe,{element:to,attrs:{fill:ze,stroke:$e},ref:{x:-1,y:10},scale:.5})}if("conditional-default-flow-marker"===Ue){var kn=Ye("path");ve(kn,{d:"M 6 4 L 10 16"}),C(pe,{element:kn,attrs:{stroke:$e},ref:{x:0,y:10},scale:.5})}}(te,H,A,W),"url(#"+te+")"}function I(H,A,W,te,pe){on(te)&&(pe=te,te=0),te=te||0,"none"===(pe=E(pe,{stroke:ua,strokeWidth:2,fill:"white"})).fill&&delete pe.fillOpacity;var Ue=A/2,ze=W/2,$e=Ye("circle");return ve($e,{cx:Ue,cy:ze,r:Math.round((A+W)/4-te)}),ve($e,pe),rt(H,$e),$e}function M(H,A,W,te,pe,Ue){on(pe)&&(Ue=pe,pe=0),pe=pe||0,Ue=E(Ue,{stroke:ua,strokeWidth:2,fill:"white"});var ze=Ye("rect");return ve(ze,{x:pe,y:pe,width:A-2*pe,height:W-2*pe,rx:te,ry:te}),ve(ze,Ue),rt(H,ze),ze}function R(H,A,W){var te=om(A,W=E(W,["no-fill"],{stroke:ua,strokeWidth:2,fill:"none"}));return rt(H,te),te}function F(H,A,W){W=E(W,["no-fill"],{strokeWidth:2,stroke:ua});var te=Ye("path");return ve(te,{d:A}),ve(te,W),rt(H,te),te}function N(H,A,W,te){return F(A,W,ee({"data-marker":H},te))}function z(H){return oe[H]}function Z(H){return function(A,W){return z(H)(A,W)}}function Q(H,A){var pe,W=le(H),te="bpmn:IntermediateThrowEvent"===(pe=W).$type||"bpmn:EndEvent"===pe.$type;return W.eventDefinitions&&W.eventDefinitions.length>1?W.parallelMultiple?z("bpmn:ParallelMultipleEventDefinition")(A,H,te):z("bpmn:MultipleEventDefinition")(A,H,te):ws(W,"bpmn:MessageEventDefinition")?z("bpmn:MessageEventDefinition")(A,H,te):ws(W,"bpmn:TimerEventDefinition")?z("bpmn:TimerEventDefinition")(A,H,te):ws(W,"bpmn:ConditionalEventDefinition")?z("bpmn:ConditionalEventDefinition")(A,H):ws(W,"bpmn:SignalEventDefinition")?z("bpmn:SignalEventDefinition")(A,H,te):ws(W,"bpmn:EscalationEventDefinition")?z("bpmn:EscalationEventDefinition")(A,H,te):ws(W,"bpmn:LinkEventDefinition")?z("bpmn:LinkEventDefinition")(A,H,te):ws(W,"bpmn:ErrorEventDefinition")?z("bpmn:ErrorEventDefinition")(A,H,te):ws(W,"bpmn:CancelEventDefinition")?z("bpmn:CancelEventDefinition")(A,H,te):ws(W,"bpmn:CompensateEventDefinition")?z("bpmn:CompensateEventDefinition")(A,H,te):ws(W,"bpmn:TerminateEventDefinition")?z("bpmn:TerminateEventDefinition")(A,H,te):null}function K(H,A,W){W=ee({size:{width:100}},W);var te=h.createText(A||"",W);return Nt(te).add("djs-label"),rt(H,te),te}function ie(H,A,W){return K(H,le(A).name,{box:A,align:W,padding:5,style:{fill:Xn(A,v,_)}})}function ye(H,A,W){M_(K(H,A,{box:{height:30,width:W.height},align:"center-middle",style:{fill:Xn(W,v,_)}}),0,1*W.height,270)}function Oe(H){for(var A=H.waypoints,W="m  "+A[0].x+","+A[0].y,te=1;te<A.length;te++)W+="L"+A[te].x+","+A[te].y+" ";return W}var oe=this.handlers={"bpmn:Event":function(H,A,W){return"fillOpacity"in W||(W.fillOpacity=Qc),I(H,A.width,A.height,W)},"bpmn:StartEvent":function(H,A){var W={fill:Pe(A,f),stroke:ge(A,_)};le(A).isInterrupting||(W={strokeDasharray:"6",strokeLinecap:"round",fill:Pe(A,f),stroke:ge(A,_)});var te=z("bpmn:Event")(H,A,W);return Q(A,H),te},"bpmn:MessageEventDefinition":function(H,A,W){return F(H,l.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:A.width,containerHeight:A.height,position:{mx:.235,my:.315}}),{strokeWidth:1,fill:W?ge(A,_):Pe(A,f),stroke:W?Pe(A,f):ge(A,_)})},"bpmn:TimerEventDefinition":function(H,A){var W=I(H,A.width,A.height,.2*A.height,{strokeWidth:2,fill:Pe(A,f),stroke:ge(A,_)});F(H,l.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:A.width,containerHeight:A.height,position:{mx:.5,my:.5}}),{strokeWidth:2,strokeLinecap:"square",stroke:ge(A,_)});for(var te=0;te<12;te++)F(H,l.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:A.width,containerHeight:A.height,position:{mx:.5,my:.5}}),{strokeWidth:1,strokeLinecap:"square",transform:"rotate("+30*te+","+A.height/2+","+A.width/2+")",stroke:ge(A,_)});return W},"bpmn:EscalationEventDefinition":function(H,A,W){return F(H,l.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:W?ge(A,_):"none",stroke:ge(A,_)})},"bpmn:ConditionalEventDefinition":function(H,A){return F(H,l.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:.5,my:.222}}),{strokeWidth:1,stroke:ge(A,_)})},"bpmn:LinkEventDefinition":function(H,A,W){return F(H,l.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:.57,my:.263}}),{strokeWidth:1,fill:W?ge(A,_):"none",stroke:ge(A,_)})},"bpmn:ErrorEventDefinition":function(H,A,W){return F(H,l.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:A.width,containerHeight:A.height,position:{mx:.2,my:.722}}),{strokeWidth:1,fill:W?ge(A,_):"none",stroke:ge(A,_)})},"bpmn:CancelEventDefinition":function(H,A,W){var te=F(H,l.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:.638,my:-.055}}),{strokeWidth:1,fill:W?ge(A,_):"none",stroke:ge(A,_)});return S_(te,45),te},"bpmn:CompensateEventDefinition":function(H,A,W){return F(H,l.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:.22,my:.5}}),{strokeWidth:1,fill:W?ge(A,_):"none",stroke:ge(A,_)})},"bpmn:SignalEventDefinition":function(H,A,W){return F(H,l.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:A.width,containerHeight:A.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:W?ge(A,_):"none",stroke:ge(A,_)})},"bpmn:MultipleEventDefinition":function(H,A,W){return F(H,l.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:A.width,containerHeight:A.height,position:{mx:.222,my:.36}}),{strokeWidth:1,fill:W?ge(A,_):"none"})},"bpmn:ParallelMultipleEventDefinition":function(H,A){return F(H,l.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:A.width,containerHeight:A.height,position:{mx:.458,my:.194}}),{strokeWidth:1,fill:ge(A,_),stroke:ge(A,_)})},"bpmn:EndEvent":function(H,A){var W=z("bpmn:Event")(H,A,{strokeWidth:4,fill:Pe(A,f),stroke:ge(A,_)});return Q(A,H),W},"bpmn:TerminateEventDefinition":function(H,A){return I(H,A.width,A.height,8,{strokeWidth:4,fill:ge(A,_),stroke:ge(A,_)})},"bpmn:IntermediateEvent":function(H,A){var W=z("bpmn:Event")(H,A,{strokeWidth:1,fill:Pe(A,f),stroke:ge(A,_)});return I(H,A.width,A.height,3,{strokeWidth:1,fill:Pe(A,"none"),stroke:ge(A,_)}),Q(A,H),W},"bpmn:IntermediateCatchEvent":Z("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":Z("bpmn:IntermediateEvent"),"bpmn:Activity":function(H,A,W){return"fillOpacity"in(W=W||{})||(W.fillOpacity=Qc),M(H,A.width,A.height,10,W)},"bpmn:Task":function(H,A){var W={fill:Pe(A,f),stroke:ge(A,_)},te=z("bpmn:Activity")(H,A,W);return ie(H,A,"center-middle"),de(H,A),te},"bpmn:ServiceTask":function(H,A){var W=z("bpmn:Task")(H,A);return F(H,l.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{strokeWidth:1,fill:Pe(A,f),stroke:ge(A,_)}),F(H,l.getScaledPath("TASK_TYPE_SERVICE_FILL",{abspos:{x:17.2,y:18}}),{strokeWidth:0,fill:Pe(A,f)}),F(H,l.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{strokeWidth:1,fill:Pe(A,f),stroke:ge(A,_)}),W},"bpmn:UserTask":function(H,A){var W=z("bpmn:Task")(H,A);return F(H,l.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:Pe(A,f),stroke:ge(A,_)}),F(H,l.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:Pe(A,f),stroke:ge(A,_)}),F(H,l.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:ge(A,_),stroke:ge(A,_)}),W},"bpmn:ManualTask":function(H,A){var W=z("bpmn:Task")(H,A);return F(H,l.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{strokeWidth:.5,fill:Pe(A,f),stroke:ge(A,_)}),W},"bpmn:SendTask":function(H,A){var W=z("bpmn:Task")(H,A);return F(H,l.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{strokeWidth:1,fill:ge(A,_),stroke:Pe(A,f)}),W},"bpmn:ReceiveTask":function(H,A){var W,te=le(A),pe=z("bpmn:Task")(H,A);return te.instantiate?(I(H,28,28,4.4,{strokeWidth:1}),W=l.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):W=l.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),F(H,W,{strokeWidth:1,fill:Pe(A,f),stroke:ge(A,_)}),pe},"bpmn:ScriptTask":function(H,A){var W=z("bpmn:Task")(H,A);return F(H,l.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{strokeWidth:1,stroke:ge(A,_)}),W},"bpmn:BusinessRuleTask":function(H,A){var W=z("bpmn:Task")(H,A);return ve(F(H,l.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}})),{strokeWidth:1,fill:Pe(A,"#aaaaaa"),stroke:ge(A,_)}),ve(F(H,l.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}})),{strokeWidth:1,stroke:ge(A,_)}),W},"bpmn:SubProcess":function(H,A,W){W=ee({fill:Pe(A,f),stroke:ge(A,_)},W);var te=z("bpmn:Activity")(H,A,W),pe=zt(A);return mo(A)&&ve(te,{strokeDasharray:"1,2"}),ie(H,A,pe?"center-top":"center-middle"),pe?de(H,A):de(H,A,["SubProcessMarker"]),te},"bpmn:AdHocSubProcess":function(H,A){return z("bpmn:SubProcess")(H,A)},"bpmn:Transaction":function(H,A){var W=z("bpmn:SubProcess")(H,A),te=c.style(["no-fill","no-events"],{stroke:ge(A,_)});return M(H,A.width,A.height,8,3,te),W},"bpmn:CallActivity":function(H,A){return z("bpmn:SubProcess")(H,A,{strokeWidth:5})},"bpmn:Participant":function(H,A){var W={fillOpacity:Qc,fill:Pe(A,f),stroke:ge(A,_)},te=z("bpmn:Lane")(H,A,W);return zt(A)?(R(H,[{x:30,y:0},{x:30,y:A.height}],{stroke:ge(A,_)}),ye(H,le(A).name,A)):K(H,le(A).name,{box:A,align:"center-middle",style:{fill:Xn(A,v,_)}}),le(A).participantMultiplicity&&z("ParticipantMultiplicityMarker")(H,A),te},"bpmn:Lane":function(H,A,W){var te=M(H,A.width,A.height,0,ee({fill:Pe(A,f),fillOpacity:.35,stroke:ge(A,_)},W)),pe=le(A);return"bpmn:Lane"===pe.$type&&ye(H,pe.name,A),te},"bpmn:InclusiveGateway":function(H,A){var W=z("bpmn:Gateway")(H,A);return I(H,A.width,A.height,.24*A.height,{strokeWidth:2.5,fill:Pe(A,f),stroke:ge(A,_)}),W},"bpmn:ExclusiveGateway":function(H,A){var W=z("bpmn:Gateway")(H,A),te=l.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:A.width,containerHeight:A.height,position:{mx:.32,my:.3}});return st(A).isMarkerVisible&&F(H,te,{strokeWidth:1,fill:ge(A,_),stroke:ge(A,_)}),W},"bpmn:ComplexGateway":function(H,A){var W=z("bpmn:Gateway")(H,A);return F(H,l.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:A.width,containerHeight:A.height,position:{mx:.46,my:.26}}),{strokeWidth:1,fill:ge(A,_),stroke:ge(A,_)}),W},"bpmn:ParallelGateway":function(H,A){var W=z("bpmn:Gateway")(H,A);return F(H,l.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:A.width,containerHeight:A.height,position:{mx:.46,my:.2}}),{strokeWidth:1,fill:ge(A,_),stroke:ge(A,_)}),W},"bpmn:EventBasedGateway":function(H,A){var W=le(A),te=z("bpmn:Gateway")(H,A);I(H,A.width,A.height,.2*A.height,{strokeWidth:1,fill:"none",stroke:ge(A,_)});var pe=W.eventGatewayType,Ue=!!W.instantiate;"Parallel"===pe?ve(F(H,l.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:A.width,containerHeight:A.height,position:{mx:.474,my:.296}})),{strokeWidth:1,fill:"none"}):"Exclusive"===pe&&(Ue||ve(I(H,A.width,A.height,.26*A.height),{strokeWidth:1,fill:"none",stroke:ge(A,_)}),F(H,l.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:A.width,containerHeight:A.height,position:{mx:.36,my:.44}}),{strokeWidth:2,fill:Pe(A,"none"),stroke:ge(A,_)}));return te},"bpmn:Gateway":function(H,A){var W={fill:Pe(A,f),fillOpacity:Qc,stroke:ge(A,_)};return function(te,pe,Ue,ze){var $e=pe/2,_t=Ue/2,Le=[{x:$e,y:0},{x:pe,y:_t},{x:$e,y:Ue},{x:0,y:_t}].map(function(ei){return ei.x+","+ei.y}).join(" ");ze=E(ze,{stroke:ua,strokeWidth:2,fill:"white"});var en=Ye("polygon");return ve(en,{points:Le}),ve(en,ze),rt(te,en),en}(H,A.width,A.height,W)},"bpmn:SequenceFlow":function(H,A){var W,te=Oe(A),pe=Pe(A,f),Ue=ge(A,_),ze=F(H,te,{strokeLinejoin:"round",markerEnd:T("sequenceflow-end",pe,Ue),stroke:ge(A,_)}),$e=le(A);return A.source&&(W=A.source.businessObject,$e.conditionExpression&&W.$instanceOf("bpmn:Activity")&&ve(ze,{markerStart:T("conditional-flow-marker",pe,Ue)}),W.default&&(W.$instanceOf("bpmn:Gateway")||W.$instanceOf("bpmn:Activity"))&&W.default===$e&&ve(ze,{markerStart:T("conditional-default-flow-marker",pe,Ue)})),ze},"bpmn:Association":function(H,A,W){var te=le(A),pe=Pe(A,f),Ue=ge(A,_);return W=ee({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",stroke:ge(A,_)},W||{}),"One"!==te.associationDirection&&"Both"!==te.associationDirection||(W.markerEnd=T("association-end",pe,Ue)),"Both"===te.associationDirection&&(W.markerStart=T("association-start",pe,Ue)),R(H,A.waypoints,W)},"bpmn:DataInputAssociation":function(H,A){var W=Pe(A,f),te=ge(A,_);return z("bpmn:Association")(H,A,{markerEnd:T("association-end",W,te)})},"bpmn:DataOutputAssociation":function(H,A){var W=Pe(A,f),te=ge(A,_);return z("bpmn:Association")(H,A,{markerEnd:T("association-end",W,te)})},"bpmn:MessageFlow":function(H,A){var W=le(A),te=st(A),pe=Pe(A,f),Ue=ge(A,_),ze=F(H,Oe(A),{markerEnd:T("messageflow-end",pe,Ue),markerStart:T("messageflow-start",pe,Ue),strokeDasharray:"10, 12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5px",stroke:ge(A,_)});if(W.messageRef){var $e=ze.getPointAtLength(ze.getTotalLength()/2),_t=l.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:$e.x,y:$e.y}}),Le={strokeWidth:1};"initiating"===te.messageVisibleKind?(Le.fill="white",Le.stroke=ua):(Le.fill="#888",Le.stroke="white");var en=F(H,_t,Le),ei=K(H,W.messageRef.name,{align:"center-top",fitBox:!0,style:{fill:ge(A,v)}}),eo=en.getBBox(),to=ei.getBBox();M_(ei,$e.x-to.width/2,$e.y+eo.height/2+10,0)}return ze},"bpmn:DataObject":function(H,A){var te,pe,W=F(H,l.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:.474,my:.296}}),{fill:Pe(A,f),fillOpacity:Qc,stroke:ge(A,_)});return pe=(te=le(A)).dataObjectRef,(te.isCollection||pe&&pe.isCollection)&&function(te,pe){F(te,l.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:pe.width,containerHeight:pe.height,position:{mx:.33,my:(pe.height-18)/pe.height}}),{strokeWidth:2})}(H,A),W},"bpmn:DataObjectReference":Z("bpmn:DataObject"),"bpmn:DataInput":function(H,A){var W=l.getRawPath("DATA_ARROW"),te=z("bpmn:DataObject")(H,A);return F(H,W,{strokeWidth:1}),te},"bpmn:DataOutput":function(H,A){var W=l.getRawPath("DATA_ARROW"),te=z("bpmn:DataObject")(H,A);return F(H,W,{strokeWidth:1,fill:ua}),te},"bpmn:DataStoreReference":function(H,A){return F(H,l.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:0,my:.133}}),{strokeWidth:2,fill:Pe(A,f),fillOpacity:Qc,stroke:ge(A,_)})},"bpmn:BoundaryEvent":function(H,A){var W=le(A).cancelActivity,te={strokeWidth:1,fill:Pe(A,f),stroke:ge(A,_)};W||(te.strokeDasharray="6",te.strokeLinecap="round");var pe=ee({},te,{fillOpacity:1}),Ue=ee({},te,{fill:"none"}),ze=z("bpmn:Event")(H,A,pe);return I(H,A.width,A.height,3,Ue),Q(A,H),ze},"bpmn:Group":function(H,A){return M(H,A.width,A.height,10,{stroke:ge(A,_),strokeWidth:1,strokeDasharray:"8,3,1,3",fill:"none",pointerEvents:"none"})},label:function(H,A){return pe={width:90,height:30,x:(te=A).width/2+te.x,y:te.height/2+te.y},K(H,Lo(te),{box:pe,fitBox:!0,style:ee({},h.getExternalStyle(),{fill:Xn(te,v,_)})});var te,pe},"bpmn:TextAnnotation":function(H,A){var W=M(H,A.width,A.height,0,0,{fill:"none",stroke:"none"});return F(H,l.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:0,my:0}}),{stroke:ge(A,_)}),K(H,le(A).text||"",{box:A,align:"left-top",padding:5,style:{fill:Xn(A,v,_)}}),W},ParticipantMultiplicityMarker:function(H,A){N("participant-multiplicity",H,l.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:A.width/2/A.width,my:(A.height-15)/A.height}}),{strokeWidth:2,fill:Pe(A,f),stroke:ge(A,_)})},SubProcessMarker:function(H,A){Ir(M(H,14,14,0,{strokeWidth:1,fill:Pe(A,f),stroke:ge(A,_)}),A.width/2-7.5,A.height-20),N("sub-process",H,l.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:A.width,containerHeight:A.height,position:{mx:(A.width/2-7.5)/A.width,my:(A.height-20)/A.height}}),{fill:Pe(A,f),stroke:ge(A,_)})},ParallelMarker:function(H,A,W){N("parallel",H,l.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:(A.width/2+W.parallel)/A.width,my:(A.height-20)/A.height}}),{fill:Pe(A,f),stroke:ge(A,_)})},SequentialMarker:function(H,A,W){N("sequential",H,l.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:(A.width/2+W.seq)/A.width,my:(A.height-19)/A.height}}),{fill:Pe(A,f),stroke:ge(A,_)})},CompensationMarker:function(H,A,W){N("compensation",H,l.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:(A.width/2+W.compensation)/A.width,my:(A.height-13)/A.height}}),{strokeWidth:1,fill:Pe(A,f),stroke:ge(A,_)})},LoopMarker:function(H,A,W){N("loop",H,l.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:(A.width/2+W.loop)/A.width,my:(A.height-7)/A.height}}),{strokeWidth:1,fill:Pe(A,f),stroke:ge(A,_),strokeLinecap:"round",strokeMiterlimit:.5})},AdhocMarker:function(H,A,W){N("adhoc",H,l.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:A.width,containerHeight:A.height,position:{mx:(A.width/2+W.adhoc)/A.width,my:(A.height-15)/A.height}}),{strokeWidth:1,fill:ge(A,_),stroke:ge(A,_)})}};function de(H,A,W){var te,pe=le(A),Ue=W&&-1!==W.indexOf("SubProcessMarker");te=Ue?{seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{seq:-3,parallel:-6,compensation:-27,loop:0,adhoc:10},q(W,function(_t){z(_t)(H,A,te)}),pe.isForCompensation&&z("CompensationMarker")(H,A,te),"bpmn:AdHocSubProcess"===pe.$type&&z("AdhocMarker")(H,A,te);var ze=pe.loopCharacteristics,$e=ze&&ze.isSequential;ze&&(void 0===$e&&z("LoopMarker")(H,A,te),!1===$e&&z("ParallelMarker")(H,A,te),!0===$e&&z("SequentialMarker")(H,A,te))}this._drawPath=F,this._renderer=z}Me(Qo,ra),Qo.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],Qo.prototype.canRender=function(r){return P(r,"bpmn:BaseElement")},Qo.prototype.drawShape=function(r,s){return this._renderer(s.type)(r,s)},Qo.prototype.drawConnection=function(r,s){return this._renderer(s.type)(r,s)},Qo.prototype.getShapePath=function(r){return P(r,"bpmn:Event")?In([["M",(s=r).x+s.width/2,s.y+s.height/2],["m",0,-(u=s.width/2)],["a",u,u,0,1,1,0,2*u],["a",u,u,0,1,1,0,-2*u],["z"]]):P(r,"bpmn:Activity")?In([["M",(h=r).x+(m=10),h.y],["l",(v=h.width)-20,0],["a",m,m,0,0,1,m,m],["l",0,(b=h.height)-20],["a",m,m,0,0,1,-m,m],["l",20-v,0],["a",m,m,0,0,1,-m,-m],["l",0,20-b],["a",m,m,0,0,1,m,-m],["z"]]):P(r,"bpmn:Gateway")?function(h){var m=h.width/2,f=h.height/2;return In([["M",h.x+m,h.y],["l",m,f],["l",-m,f],["l",-m,-f],["z"]])}(r):function(h){var _=h.width;return In([["M",h.x,h.y],["l",_,0],["l",0,h.height],["l",-_,0],["z"]])}(r);var h,m,v,b,s,u};var Es={width:150,height:50};function P_(r,s){var c;s.textContent=r;try{var l,u=""===r;return s.textContent=u?"dummy":r,l={width:(c=s.getBBox()).width+2*c.x,height:c.height},u&&(l.width=0),l}catch{return{width:0,height:0}}}function F_(r,s,c){for(var l,u=r.shift(),h=u;;){if((l=P_(h,c)).width=h?l.width:0," "===h||""===h||l.width<Math.round(s)||h.length<2)return Ik(r,h,u,l);h=r2(h,l.width,s)}}function Ik(r,s,c,l){if(s.length<c.length){var u=c.slice(s.length).trim();r.unshift(u)}return{width:l.width,height:l.height,text:s}}function r2(r,s,c){var l=Math.max(r.length*(c/s),1),u=function(h,m){var f,_=h.split(/(\s|-|\u00AD)/g),v=[],b=0;if(_.length>1)for(;f=_.shift();){if(!(f.length+b<m)){"-"!==f&&"\xad"!==f||v.pop();break}v.push(f),b+=f.length}var x=v[v.length-1];return x&&"\xad"===x&&(v[v.length-1]="-"),v.join("")}(r,l);return u||(u=r.slice(0,Math.max(Math.round(l-1),1))),u}function Ju(r){this._config=ee({},{size:Es,padding:0,style:{},align:"center-top"},r||{})}function br(r){var s=ee({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},r&&r.defaultStyle||{}),c=parseInt(s.fontSize,10)-1,l=ee({},s,{fontSize:c},r&&r.externalStyle||{}),u=new Ju({style:s});this.getExternalLabelBounds=function(h,m){var f=u.getDimensions(m,{box:{width:90,height:30,x:h.width/2+h.x,y:h.height/2+h.y},style:l});return{x:Math.round(h.x+h.width/2-f.width/2),y:Math.round(h.y),width:Math.ceil(f.width),height:Math.ceil(f.height)}},this.getTextAnnotationBounds=function(h,m){var f=u.getDimensions(m,{box:h,style:s,align:"left-top",padding:5});return{x:h.x,y:h.y,width:h.width,height:Math.max(30,Math.round(f.height))}},this.createText=function(h,m){return u.createText(h,m||{})},this.getDefaultStyle=function(){return s},this.getExternalStyle=function(){return l}}Ju.prototype.createText=function(r,s){return this.layoutText(r,s).element},Ju.prototype.getDimensions=function(r,s){return this.layoutText(r,s).dimensions},Ju.prototype.layoutText=function(r,s){var M,I,c=ee({},this._config.size,s.box),l=ee({},this._config.style,s.style),u_horizontal=(M=(s.align||this._config.align).split("-"))[0]||"center",u_vertical=M[1]||"top",h=on(I=void 0!==s.padding?s.padding:this._config.padding)?ee({top:0,left:0,right:0,bottom:0},I):{top:I,left:I,right:I,bottom:I},m=s.fitBox||!1,f=function(I){if("fontSize"in I&&"lineHeight"in I)return I.lineHeight*parseInt(I.fontSize,10)}(l),_=r.split(/\u00AD?\r?\n/),v=[],b=c.width-h.left-h.right,x=Ye("text");for(ve(x,{x:0,y:0}),ve(x,l),rt(function(){var I=document.getElementById("helper-svg");return I||(ve(I=Ye("svg"),{id:"helper-svg"}),nr(I,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(I)),I}(),x);_.length;)v.push(F_(_,b,x));"middle"===u_vertical&&(h.top=h.bottom=0);var E=mr(v,function(I,M,R){return I+(f||M.height)},0)+h.top+h.bottom,C=mr(v,function(I,M,R){return M.width>I?M.width:I},0),k=h.top;"middle"===u_vertical&&(k+=(c.height-E)/2),k-=(f||v[0].height)/4;var T=Ye("text");return ve(T,l),q(v,function(I){var M;switch(k+=f||I.height,u_horizontal){case"left":M=h.left;break;case"right":M=(m?C:b)-h.right-I.width;break;default:M=Math.max(((m?C:b)-I.width)/2+h.left,0)}var R=Ye("tspan");ve(R,{x:M,y:k}),R.textContent=I.text,rt(T,R)}),$n(x),{dimensions:{width:C,height:E},element:T}},br.$inject=["config.textRenderer"];var ha=/\{([^{}]+)\}/g,ux=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,md={__init__:["bpmnRenderer"],bpmnRenderer:["type",Qo],textRenderer:["type",br],pathMap:["type",function(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(r){return this.pathMap[r].d},this.getScaledPath=function(r,s){var c,l,u=this.pathMap[r];s.abspos?(c=s.abspos.x,l=s.abspos.y):(c=s.containerWidth*s.position.mx,l=s.containerHeight*s.position.my);var x,h={};if(s.position){for(var m=s.containerHeight/u.height*s.yScaleFactor,f=s.containerWidth/u.width*s.xScaleFactor,_=0;_<u.heightElements.length;_++)h["y"+_]=u.heightElements[_]*m;for(var v=0;v<u.widthElements.length;v++)h["x"+v]=u.widthElements[v]*f}return x={mx:c,my:l,e:h},String(u.d).replace(ha,function(C,k){return T=C,R=M=x,k.replace(ux,function(F,N,z,Z,Q){N=N||Z,R&&(N in R&&(R=R[N]),"function"==typeof R&&Q&&(R=R()))}),R=(null==R||R==M?T:R)+"";var T,M,R})}}]},Bo={translate:["value",function(r,s){return s=s||{},r.replace(/{([^}]+)}/g,function(c,l){return s[l]||"{"+l+"}"})}]},eh={width:90,height:20};function Qa(r){return P(r,"bpmn:Event")||P(r,"bpmn:Gateway")||P(r,"bpmn:DataStoreReference")||P(r,"bpmn:DataObjectReference")||P(r,"bpmn:DataInput")||P(r,"bpmn:DataOutput")||P(r,"bpmn:SequenceFlow")||P(r,"bpmn:MessageFlow")||P(r,"bpmn:Group")}function Cm(r){return Ci(r.label)}function fd(r){return r.waypoints?function Ok(r){var _,v,b,x,s=r.length/2-1,c=r[Math.floor(s)],l=r[Math.ceil(s+.01)],u=(v=(_=r).length/2-1,b=_[Math.floor(v)],x=_[Math.ceil(v+.01)],{x:b.x+(x.x-b.x)/2,y:b.y+(x.y-b.y)/2}),h=Math.atan((l.y-c.y)/(l.x-c.x)),m=u.x,f=u.y;return Math.abs(h)<Math.PI/2?f-=15:m+=15,{x:m,y:f}}(r.waypoints):P(r,"bpmn:Group")?{x:r.x+r.width/2,y:r.y+eh.height/2}:{x:r.x+r.width/2,y:r.y+r.height+eh.height/2}}function Ci(r){return r&&!!r.labelTarget}function th(r,s,c){return ee({id:r.id,type:r.$type,businessObject:r,di:s},c)}function N_(r,s,c){var l=r.waypoint;return!l||l.length<2?[tt(s),tt(c)]:l.map(function(u){return{x:u.x,y:u.y}})}function hx(r,s,c,l){return new Error(r("element {element} referenced by {referenced}#{property} not yet drawn",{element:Wi(c),referenced:Wi(s),property:l}))}function Cs(r,s,c,l,u,h){this._eventBus=r,this._canvas=s,this._elementFactory=c,this._elementRegistry=l,this._translate=u,this._textRenderer=h}Cs.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],Cs.prototype.add=function(r,s,c){var l,h,C,k,T,I,m=this._translate;if(P(s,"bpmndi:BPMNPlane")){var f=P(r,"bpmn:SubProcess")?{id:r.id+"_plane"}:{};l=this._elementFactory.createRoot(th(r,s,f)),this._canvas.addRootElement(l)}else if(P(s,"bpmndi:BPMNShape")){var _=!zt(r,s),v=P(r,"bpmn:Group"),b=s.bounds;l=this._elementFactory.createShape(th(r,s,{collapsed:_,hidden:c&&(c.hidden||c.collapsed),x:Math.round(b.x),y:Math.round(b.y),width:Math.round(b.width),height:Math.round(b.height),isFrame:v})),P(r,"bpmn:BoundaryEvent")&&this._attachBoundary(r,l),P(r,"bpmn:Lane")&&(h=0),P(r,"bpmn:DataStoreReference")&&(C=c,k=tt(b),I=k.y,(T=k.x)>=C.x&&T<=C.x+C.width&&I>=C.y&&I<=C.y+C.height||(c=this._canvas.findRoot(c))),this._canvas.addShape(l,c,h)}else{if(!P(s,"bpmndi:BPMNEdge"))throw new Error(m("unknown di {di} for element {semantic}",{di:Wi(s),semantic:Wi(r)}));var x=this._getSource(r),E=this._getTarget(r);l=this._elementFactory.createConnection(th(r,s,{hidden:c&&(c.hidden||c.collapsed),source:x,target:E,waypoints:N_(s,x,E)})),P(r,"bpmn:DataAssociation")&&(c=this._canvas.findRoot(c)),this._canvas.addConnection(l,c,h)}return Qa(r)&&Lo(l)&&this.addLabel(r,s,l),this._eventBus.fire("bpmnElement.added",{element:l}),l},Cs.prototype._attachBoundary=function(r,s){var c=this._translate,l=r.attachedToRef;if(!l)throw new Error(c("missing {semantic}#attachedToRef",{semantic:Wi(r)}));var u=this._elementRegistry.get(l.id),h=u&&u.attachers;if(!u)throw hx(c,r,l,"attachedToRef");s.host=u,h||(u.attachers=h=[]),-1===h.indexOf(s)&&h.push(s)},Cs.prototype.addLabel=function(r,s,c){var l,u,h,f,_,v,b,x;return f=c,(x=s.label)&&x.bounds?(b=x.bounds,v={width:Math.max(eh.width,b.width),height:b.height},_={x:b.x+b.width/2,y:b.y+b.height/2}):(_=fd(f),v=eh),l=ee({x:_.x-v.width/2,y:_.y-v.height/2},v),(u=Lo(c))&&(l=this._textRenderer.getExternalLabelBounds(l,u)),h=this._elementFactory.createLabel(th(r,s,{id:r.id+"_label",labelTarget:c,type:"label",hidden:c.hidden||!Lo(c),x:Math.round(l.x),y:Math.round(l.y),width:Math.round(l.width),height:Math.round(l.height)})),this._canvas.addShape(h,c.parent)},Cs.prototype._getEnd=function(r,s){var c,l,u=r.$type,h=this._translate;if(l=r[s+"Ref"],"source"===s&&"bpmn:DataInputAssociation"===u&&(l=l&&l[0]),("source"===s&&"bpmn:DataOutputAssociation"===u||"target"===s&&"bpmn:DataInputAssociation"===u)&&(l=r.$parent),c=l&&this._getElement(l))return c;throw l?hx(h,r,l,s+"Ref"):new Error(h("{semantic}#{side} Ref not specified",{semantic:Wi(r),side:s}))},Cs.prototype._getSource=function(r){return this._getEnd(r,"source")},Cs.prototype._getTarget=function(r){return this._getEnd(r,"target")},Cs.prototype._getElement=function(r){return this._elementRegistry.get(r.id)};var L_={__depends__:[md,{__depends__:[Bo],bpmnImporter:["type",Cs]}]};function B_(r){r&&"function"==typeof r.stopPropagation&&r.stopPropagation()}function Jc(r){return r.originalEvent||r.srcEvent}function Dm(r,s){B_(r),B_(Jc(r))}function pa(r){return r.pointers&&r.pointers.length&&(r=r.pointers[0]),r.touches&&r.touches.length&&(r=r.touches[0]),r?{x:r.clientX,y:r.clientY}:null}function km(r,s){return(Jc(r)||r).button===s}function Ja(r){return km(r,0)}function gd(r){var s=Jc(r)||r;return!!Ja(r)&&(/mac/i.test(navigator.platform)?s.metaKey:s.ctrlKey)}function xr(r){var s=Jc(r)||r;return Ja(r)&&s.shiftKey}function el(r){return!0}function Pn(r){return Ja(r)||function(s){return km(s,1)}(r)}function nh(r,s,c){var l=this;function u(M,R,F){var N,z;!(_[M]||Ja)(R)||(F?z=s.getGraphics(F):(N=R.delegateTarget||R.target)&&(F=s.get(z=N)),z&&F&&!1===r.fire(M,{element:F,gfx:z,originalEvent:R})&&(R.stopPropagation(),R.preventDefault()))}var h={};function m(M){return h[M]}var f={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},_={"element.contextmenu":el,"element.mousedown":Pn,"element.mouseup":Pn,"element.click":Pn,"element.dblclick":Pn};function v(M,R,F,N){var z=h[F]=function(Z){u(F,Z)};N&&(_[F]=N),z.$delegate=Io_bind(M,"svg, .djs-element",R,z)}function b(M,R,F){var N=m(F);N&&Io_unbind(M,R,N.$delegate)}r.on("canvas.destroy",function(M){var R;R=M.svg,q(f,function(F,N){b(R,N,F)})}),r.on("canvas.init",function(M){var R;R=M.svg,q(f,function(F,N){v(R,N,F)})}),r.on(["shape.added","connection.added"],function(M){r.fire("interactionEvents.createHit",{element:M.element,gfx:M.gfx})}),r.on(["shape.changed","connection.changed"],500,function(M){r.fire("interactionEvents.updateHit",{element:M.element,gfx:M.gfx})}),r.on("interactionEvents.createHit",500,function(M){l.createDefaultHit(M.element,M.gfx)}),r.on("interactionEvents.updateHit",function(M){l.updateDefaultHit(M.element,M.gfx)});var x=k("djs-hit djs-hit-stroke"),E=k("djs-hit djs-hit-click-stroke"),C={all:k("djs-hit djs-hit-all"),"click-stroke":E,stroke:x,"no-move":k("djs-hit djs-hit-no-move")};function k(M,R){return R=ee({stroke:"white",strokeWidth:15},R||{}),c.cls(M,["no-fill","no-border"],R)}function T(M,R){var F=C[R];if(!F)throw new Error("invalid hit type <"+R+">");return ve(M,F),M}function I(M,R){rt(M,R)}this.removeHits=function(M){q(H0(".djs-hit",M),$n)},this.createDefaultHit=function(M,R){var N=M.waypoints,z=M.isFrame;return N?this.createWaypointsHit(R,N):this.createBoxHit(R,z?"stroke":"all",{width:M.width,height:M.height})},this.createWaypointsHit=function(M,R){var F=om(R);return T(F,"stroke"),I(M,F),F},this.createBoxHit=function(M,R,F){F=ee({x:0,y:0},F);var N=Ye("rect");return T(N,R),ve(N,F),I(M,N),N},this.updateDefaultHit=function(M,R){var F=Cn(".djs-hit",R);if(F)return ve(F,M.waypoints?{points:Oo(M.waypoints)}:{width:M.width,height:M.height}),F},this.fire=u,this.triggerMouseEvent=function(M,R,F){var N=f[M];if(!N)throw new Error("unmapped DOM event name <"+M+">");return u(N,R,F)},this.mouseHandler=m,this.registerEvent=v,this.unregisterEvent=b}nh.$inject=["eventBus","elementRegistry","styles"];var ih={__init__:["interactionEvents"],interactionEvents:["type",nh]};function _d(r,s,c){this.offset=6;var l=s.cls("djs-outline",["no-fill"]),u=this;function h(m,f){var _=Ye("rect");return ve(_,ee({x:10,y:10,rx:3,width:100,height:100},l)),rt(m,_),_}r.on(["shape.added","shape.changed"],500,function(m){var f=m.element,_=m.gfx,v=Cn(".djs-outline",_);v||(v=h(_)),u.updateShapeOutline(v,f)}),r.on(["connection.added","connection.changed"],function(m){var f=m.element,_=m.gfx,v=Cn(".djs-outline",_);v||(v=h(_)),u.updateConnectionOutline(v,f)})}_d.prototype.updateShapeOutline=function(r,s){ve(r,{x:-this.offset,y:-this.offset,width:s.width+2*this.offset,height:s.height+2*this.offset})},_d.prototype.updateConnectionOutline=function(r,s){var c=ri(s);ve(r,{x:c.x-this.offset,y:c.y-this.offset,width:c.width+2*this.offset,height:c.height+2*this.offset})},_d.$inject=["eventBus","styles","elementRegistry"];var px={__init__:["outline"],outline:["type",_d]};function vd(r,s){this._eventBus=r,this._canvas=s,this._selectedElements=[];var c=this;r.on(["shape.remove","connection.remove"],function(l){c.deselect(l.element)}),r.on(["diagram.clear","root.set"],function(l){c.select(null)})}vd.$inject=["eventBus","canvas"],vd.prototype.deselect=function(r){var s=this._selectedElements,c=s.indexOf(r);if(-1!==c){var l=s.slice();s.splice(c,1),this._eventBus.fire("selection.changed",{oldSelection:l,newSelection:s})}},vd.prototype.get=function(){return this._selectedElements},vd.prototype.isSelected=function(r){return-1!==this._selectedElements.indexOf(r)},vd.prototype.select=function(r,s){var c=this._selectedElements,l=c.slice();Ae(r)||(r=r?[r]:[]);var u=this._canvas,h=u.getRootElement();r=r.filter(function(m){var f=u.findRoot(m);return h===f}),s?q(r,function(m){-1===c.indexOf(m)&&c.push(m)}):this._selectedElements=c=r.slice(),this._eventBus.fire("selection.changed",{oldSelection:l,newSelection:c})};var rh="selected";function yd(r,s,c){this._canvas=r;var l=this;function u(m,f){r.addMarker(m,f)}function h(m,f){r.removeMarker(m,f)}this._multiSelectionBox=null,s.on("element.hover",function(m){u(m.element,"hover")}),s.on("element.out",function(m){h(m.element,"hover")}),s.on("selection.changed",function(m){var f=m.oldSelection,_=m.newSelection;q(f,function(v){-1===_.indexOf(v)&&h(v,rh)}),q(_,function(v){-1===f.indexOf(v)&&u(v,rh)}),l._updateSelectionOutline(_)}),s.on("element.changed",function(m){c.isSelected(m.element)&&l._updateSelectionOutline(c.get())})}function oh(r,s,c,l){r.on("create.end",500,function(u){var h=u.context,f=h.elements,_=(h.hints||{}).autoSelect;if(h.canExecute){if(!1===_)return;Ae(_)?s.select(_):s.select(f.filter(V_))}}),r.on("connect.end",500,function(u){var h=u.context.connection;h&&s.select(h)}),r.on("shape.move.end",500,function(u){var h=u.previousSelection||[],m=l.get(u.context.shape.id);wt(h,function(f){return m.id===f.id})||s.select(m)}),r.on("element.click",function(u){if(Ja(u)){var h=u.element;h===c.getRootElement()&&(h=null);var m=s.isSelected(h),f=s.get().length>1,_=gd(u)||xr(u);if(m&&f)return _?s.deselect(h):s.select(h);m?s.deselect(h):s.select(h,_)}})}function V_(r){return!r.hidden}yd.$inject=["canvas","eventBus","selection"],yd.prototype._updateSelectionOutline=function(r){var s=this._canvas.getLayer("selectionOutline");Bu(s);var h,c=r.length>1;if(Nt(this._canvas.getContainer())[c?"add":"remove"]("djs-multi-select"),c){var l={x:(h=ri(r)).x-6,y:h.y-6,width:h.width+12,height:h.height+12},u=Ye("rect");ve(u,ee({rx:3},l)),Nt(u).add("djs-selection-outline"),rt(s,u)}},oh.$inject=["eventBus","selection","canvas","elementRegistry"];var Jo={__init__:["selectionVisuals","selectionBehavior"],__depends__:[ih,px],selection:["type",vd],selectionVisuals:["type",yd],selectionBehavior:["type",oh]};function j_(r){this._counter=0,this._prefix=(r?r+"-":"")+Math.floor(1e9*Math.random())+"-"}j_.prototype.next=function(){return this._prefix+ ++this._counter};var bd=new j_("ov");function Zn(r,s,c,l){var u,h;this._eventBus=s,this._canvas=c,this._elementRegistry=l,this._ids=bd,this._overlayDefaults=ee({show:null,scale:!0},r&&r.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=(u=c.getContainer(),nr(h=Sn('<div class="djs-overlay-container" />'),{position:"absolute",width:0,height:0}),u.insertBefore(h,u.firstChild),h),this._init()}function fx(r,s,c){nr(r,{left:s+"px",top:c+"px"})}function H_(r,s){r.style.display=!1===s?"none":""}function Mm(r,s){r.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(c){r.style[c+"transform"]=s})}Zn.$inject=["config.overlays","eventBus","canvas","elementRegistry"],Zn.prototype.get=function(r){if(Mr(r)&&(r={id:r}),Mr(r.element)&&(r.element=this._elementRegistry.get(r.element)),r.element){var s=this._getOverlayContainer(r.element,!0);return s?r.type?pt(s.overlays,Ao({type:r.type})):s.overlays.slice():[]}return r.type?pt(this._overlays,Ao({type:r.type})):r.id?this._overlays[r.id]:null},Zn.prototype.add=function(r,s,c){if(on(s)&&(c=s,s=null),r.id||(r=this._elementRegistry.get(r)),!c.position)throw new Error("must specifiy overlay position");if(!c.html)throw new Error("must specifiy overlay html");if(!r)throw new Error("invalid element specified");var l=this._ids.next();return c=ee({},this._overlayDefaults,c,{id:l,type:s,element:r,html:c.html}),this._addOverlay(c),l},Zn.prototype.remove=function(r){var s=this.get(r)||[];Ae(s)||(s=[s]);var c=this;q(s,function(l){var u=c._getOverlayContainer(l.element,!0);if(l&&(na(l.html),na(l.htmlContainer),delete l.htmlContainer,delete l.element,delete c._overlays[l.id]),u){var h=u.overlays.indexOf(l);-1!==h&&u.overlays.splice(h,1)}})},Zn.prototype.isShown=function(){return"none"!==this._overlayRoot.style.display},Zn.prototype.show=function(){H_(this._overlayRoot)},Zn.prototype.hide=function(){H_(this._overlayRoot,!1)},Zn.prototype.clear=function(){this._overlays={},this._overlayContainers=[],Lu(this._overlayRoot)},Zn.prototype._updateOverlayContainer=function(r){var s=r.element,c=r.html,l=s.x,u=s.y;if(s.waypoints){var h=ri(s);l=h.x,u=h.y}fx(c,l,u),Tr(r.html,"data-container-id",s.id)},Zn.prototype._updateOverlay=function(r){var s,c,l=r.position,u=r.htmlContainer,h=r.element,m=l.left,f=l.top;void 0!==l.right&&(s=h.waypoints?ri(h).width:h.width,m=-1*l.right+s),void 0!==l.bottom&&(c=h.waypoints?ri(h).height:h.height,f=-1*l.bottom+c),fx(u,m||0,f||0),this._updateOverlayVisibilty(r,this._canvas.viewbox())},Zn.prototype._createOverlayContainer=function(r){var s=Sn('<div class="djs-overlays" />');nr(s,{position:"absolute"}),this._overlayRoot.appendChild(s);var c={html:s,element:r,overlays:[]};return this._updateOverlayContainer(c),this._overlayContainers.push(c),c},Zn.prototype._updateRoot=function(r){var s=r.scale||1,c="matrix("+[s,0,0,s,-1*r.x*s,-1*r.y*s].join(",")+")";Mm(this._overlayRoot,c)},Zn.prototype._getOverlayContainer=function(r,s){var c=wt(this._overlayContainers,function(l){return l.element===r});return c||s?c:this._createOverlayContainer(r)},Zn.prototype._addOverlay=function(r){var s,c,l=r.id,u=r.element,h=r.html;h.get&&h.constructor.prototype.jquery&&(h=h.get(0)),Mr(h)&&(h=Sn(h)),c=this._getOverlayContainer(u),nr(s=Sn('<div class="djs-overlay" data-overlay-id="'+l+'">'),{position:"absolute"}),s.appendChild(h),r.type&&Ai(s).add("djs-overlay-"+r.type),H_(s,this._canvas.findRoot(u)===this._canvas.getRootElement()),r.htmlContainer=s,c.overlays.push(r),c.html.appendChild(s),this._overlays[l]=r,this._updateOverlay(r),this._updateOverlayVisibilty(r,this._canvas.viewbox())},Zn.prototype._updateOverlayVisibilty=function(r,s){var c=r.show,l=this._canvas.findRoot(r.element),u=c&&c.minZoom,h=c&&c.maxZoom,m=r.htmlContainer,f=!0;(l!==this._canvas.getRootElement()||c&&(_n(u)&&u>s.scale||_n(h)&&h<s.scale))&&(f=!1),H_(m,f),this._updateOverlayScale(r,s)},Zn.prototype._updateOverlayScale=function(r,s){var c,l,u,h=r.scale,m=r.htmlContainer,f="";!0!==h&&(!1===h?(c=1,l=1):(c=h.min,l=h.max),_n(c)&&s.scale<c&&(u=(1/s.scale||1)*c),_n(l)&&s.scale>l&&(u=(1/s.scale||1)*l)),_n(u)&&(f="scale("+u+","+u+")"),Mm(m,f)},Zn.prototype._updateOverlaysVisibilty=function(r){var s=this;q(this._overlays,function(c){s._updateOverlayVisibilty(c,r)})},Zn.prototype._init=function(){var r=this._eventBus,s=this;r.on("canvas.viewbox.changing",function(c){s.hide()}),r.on("canvas.viewbox.changed",function(c){var l;s._updateRoot(l=c.viewbox),s._updateOverlaysVisibilty(l),s.show()}),r.on(["shape.remove","connection.remove"],function(c){var l=c.element;q(s.get({element:l}),function(m){s.remove(m.id)});var u=s._getOverlayContainer(l);if(u){na(u.html);var h=s._overlayContainers.indexOf(u);-1!==h&&s._overlayContainers.splice(h,1)}}),r.on("element.changed",500,function(c){var u=s._getOverlayContainer(c.element,!0);u&&(q(u.overlays,function(h){s._updateOverlay(h)}),s._updateOverlayContainer(u))}),r.on("element.marker.update",function(c){var l=s._getOverlayContainer(c.element,!0);l&&Ai(l.html)[c.add?"add":"remove"](c.marker)}),r.on("root.set",function(){s._updateOverlaysVisibilty(s._canvas.viewbox())}),r.on("diagram.clear",this.clear,this)};var z_={__init__:["overlays"],overlays:["type",Zn]};function gx(r,s,c,l){r.on("element.changed",function(u){var h=u.element;(h.parent||h===s.getRootElement())&&(u.gfx=c.getGraphics(h)),u.gfx&&r.fire(vn(h)+".changed",u)}),r.on("elements.changed",function(u){var h=u.elements;h.forEach(function(m){r.fire("element.changed",{element:m})}),l.updateContainments(h)}),r.on("shape.changed",function(u){l.update("shape",u.element,u.gfx)}),r.on("connection.changed",function(u){l.update("connection",u.element,u.gfx)})}gx.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];var $_={__init__:["changeSupport"],changeSupport:["type",gx]};function Ee(r){this._eventBus=r}function _x(r,s){s.invoke(Ee,this),this.executed(function(c){var l=c.context;l.rootElement?r.setRootElement(l.rootElement):l.rootElement=r.getRootElement()}),this.revert(function(c){var l=c.context;l.rootElement&&r.setRootElement(l.rootElement)})}Ee.$inject=["eventBus"],Ee.prototype.on=function(r,s,c,l,u,h){if((mn(s)||Re(s))&&(h=u,u=l,l=c,c=s,s=null),mn(c)&&(h=u,u=l,l=c,c=1e3),on(u)&&(h=u,u=!1),!mn(l))throw new Error("handlerFn must be a function");Ae(r)||(r=[r]);var m=this._eventBus;q(r,function(f){var v,b,_=["commandStack",f,s].filter(function(v){return v}).join(".");m.on(_,c,u?(v=l,b=h,function(x){return v.call(b||null,x.context,x.command,x)}):l,h)})},q(["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"],function(r){Ee.prototype[r]=function(s,c,l,u,h){(mn(s)||Re(s))&&(h=u,u=l,l=c,c=s,s=null),this.on(s,r,c,l,u,h)}}),Me(_x,Ee),_x.$inject=["canvas","injector"];var U_={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",_x]},G_={exports:{}};!function(r,s){r.exports=function(l){if(l.CSS&&l.CSS.escape)return l.CSS.escape;var u=function(h){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var m,f=String(h),_=f.length,v=-1,b="",x=f.charCodeAt(0);++v<_;)0!=(m=f.charCodeAt(v))?b+=m>=1&&m<=31||127==m||0==v&&m>=48&&m<=57||1==v&&m>=48&&m<=57&&45==x?"\\"+m.toString(16)+" ":0==v&&1==_&&45==m||!(m>=128||45==m||95==m||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122)?"\\"+f.charAt(v):f.charAt(v):b+="\ufffd";return b};return l.CSS||(l.CSS={}),l.CSS.escape=u,u}(am)}(G_);var xd=G_.exports,sh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Sm(r){return(r=""+r)&&r.replace(/[&<>"']/g,function(s){return sh[s]})}function ah(r){return function(s){return s.replace(new RegExp("_plane$"),"")}(r.id)}function ma(r){var s=r.id;return P(r,"bpmn:SubProcess")?lh(s):s}function Ds(r){return lh(r)}function ch(r){return P(st(r),"bpmndi:BPMNPlane")}function lh(r){return r+"_plane"}function Pk(r,s,c,l){var u=Sn('<ul class="bjs-breadcrumbs"></ul>'),h=l.getContainer(),m=Ai(h);h.appendChild(u);var f=[];function _(v){v&&(f=function(E){for(var k=[],T=Ie(E);T;T=T.$parent)(P(T,"bpmn:SubProcess")||P(T,"bpmn:Process"))&&k.push(T);return k.reverse()}(v));var b=f.map(function(E){var C=Sm(E.name||E.id),k=Sn('<li><span class="bjs-crumb"><a title="'+C+'">'+C+"</a></span></li>"),T=l.findRoot(ma(E))||l.findRoot(E.id);if(!T&&P(E,"bpmn:Process")){var I=s.find(function(M){var R=Ie(M);return R&&R.processRef&&R.processRef===E});T=l.findRoot(I.id)}return k.addEventListener("click",function(){l.setRootElement(T)}),k});u.innerHTML="",m.toggle("bjs-breadcrumbs-shown",b.length>1),b.forEach(function(E){u.appendChild(E)})}r.on("element.changed",function(v){var b=Ie(v.element);wt(f,function(x){return x===b})&&_()}),r.on("root.set",function(v){_(v.element)})}function W_(r,s){var c=null,l=new yx;r.on("root.set",function(u){var h=u.element,m=s.viewbox(),f=l.get(h);if(l.set(c,{x:m.x,y:m.y,zoom:m.scale}),c=h,!P(h,"bpmn:Collaboration")||f){var _=(m.x-(f=f||{x:0,y:0,zoom:1}).x)*m.scale,v=(m.y-f.y)*m.scale;0===_&&0===v||s.scroll({dx:_,dy:v}),f.zoom!==m.scale&&s.zoom(f.zoom,{x:0,y:0})}}),r.on("diagram.clear",function(){l.clear(),c=null})}function yx(){this._entries=[],this.set=function(r,s){var c=!1;for(var l in this._entries)if(this._entries[l][0]===r){this._entries[l][1]=s,c=!0;break}c||this._entries.push([r,s])},this.get=function(r){for(var s in this._entries)if(this._entries[s][0]===r)return this._entries[s][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(r){var s=-1;for(var c in this._entries)if(this._entries[c][0]===r){s=c;break}-1!==s&&this._entries.splice(s,1)}}Pk.$inject=["eventBus","elementRegistry","overlays","canvas"],W_.$inject=["eventBus","canvas"];function tl(r,s){this._eventBus=r,this._moddle=s;var c=this;r.on("import.render.start",1500,function(l,u){c.handleImport(u.definitions)})}function dh(r){return P(r,"bpmndi:BPMNDiagram")?r:dh(r.$parent)}tl.prototype.handleImport=function(r){if(r.diagrams){var s=this;this._definitions=r,this._processToDiagramMap={},r.diagrams.forEach(function(l){l.plane&&l.plane.bpmnElement&&(s._processToDiagramMap[l.plane.bpmnElement.id]=l)});var c=[];r.diagrams.forEach(function(l){var u=s.createNewDiagrams(l.plane);Array.prototype.push.apply(c,u)}),c.forEach(function(l){s.movePlaneElementsToOrigin(l.plane)})}},tl.prototype.createNewDiagrams=function(r){var s=this,c=[],l=[];r.get("planeElement").forEach(function(h){var _,v,b,m=h.bpmnElement;if(m){var f=m.$parent;P(m,"bpmn:SubProcess")&&!h.isExpanded&&c.push(m),v=r,P(b=(_=m).$parent,"bpmn:SubProcess")&&b!==v.bpmnElement&&!Bt(_,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"])&&l.push({diElement:h,parent:f})}});var u=[];return c.forEach(function(h){if(!s._processToDiagramMap[h.id]){var m=s.createDiagram(h);s._processToDiagramMap[h.id]=m,u.push(m)}}),l.forEach(function(h){for(var m=h.diElement,f=h.parent;f&&-1===c.indexOf(f);)f=f.$parent;f&&s.moveToDiPlane(m,s._processToDiagramMap[f.id].plane)}),u},tl.prototype.movePlaneElementsToOrigin=function(r){var m,s=r.get("planeElement"),c=(m={top:1/0,right:-1/0,bottom:-1/0,left:1/0},r.planeElement.forEach(function(f){if(f.bounds){var _=Xe(f.bounds);m.top=Math.min(_.top,m.top),m.left=Math.min(_.left,m.left)}}),C_(m)),l=c.x-180,u=c.y-160;s.forEach(function(h){h.waypoint?h.waypoint.forEach(function(m){m.x=m.x-l,m.y=m.y-u}):h.bounds&&(h.bounds.x=h.bounds.x-l,h.bounds.y=h.bounds.y-u)})},tl.prototype.moveToDiPlane=function(r,s){var c=dh(r).plane.get("planeElement");c.splice(c.indexOf(r),1),s.get("planeElement").push(r)},tl.prototype.createDiagram=function(r){var s=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:r}),c=this._moddle.create("bpmndi:BPMNDiagram",{plane:s});return s.$parent=c,s.bpmnElement=r,c.$parent=this._definitions,this._definitions.diagrams.push(c),c},tl.$inject=["eventBus","moddle"];function fa(r,s,c,l){Ee.call(this,s),this._canvas=r,this._eventBus=s,this._elementRegistry=c,this._overlays=l;var u=this;this.executed("shape.toggleCollapse",250,function(h){var m=h.shape;u.canDrillDown(m)?u.addOverlay(m):u.removeOverlay(m)},!0),this.reverted("shape.toggleCollapse",250,function(h){var m=h.shape;u.canDrillDown(m)?u.addOverlay(m):u.removeOverlay(m)},!0),this.executed(["shape.create","shape.move","shape.delete"],250,function(h){var m=h.oldParent,f=h.newParent||h.parent,_=h.shape;u.canDrillDown(_)&&u.addOverlay(_),u.updateDrilldownOverlay(m),u.updateDrilldownOverlay(f),u.updateDrilldownOverlay(_)},!0),this.reverted(["shape.create","shape.move","shape.delete"],250,function(h){var m=h.oldParent,f=h.newParent||h.parent,_=h.shape;u.canDrillDown(_)&&u.addOverlay(_),u.updateDrilldownOverlay(m),u.updateDrilldownOverlay(f),u.updateDrilldownOverlay(_)},!0),s.on("import.render.complete",function(){c.filter(function(h){return u.canDrillDown(h)}).map(function(h){u.addOverlay(h)})})}Me(fa,Ee),fa.prototype.updateDrilldownOverlay=function(r){if(r){var c=this._canvas.findRoot(r);c&&this.updateOverlayVisibility(c)}},fa.prototype.canDrillDown=function(r){var s=this._canvas;return P(r,"bpmn:SubProcess")&&s.findRoot(ma(r))},fa.prototype.updateOverlayVisibility=function(r){var c=r.businessObject,l=this._overlays.get({element:c.id,type:"drilldown"})[0];if(l){var u=c&&c.flowElements&&c.flowElements.length;Ai(l.html).toggle("bjs-drilldown-empty",!u)}},fa.prototype.addOverlay=function(r){var s=this._canvas,c=this._overlays;c.get({element:r,type:"drilldown"}).length&&this.removeOverlay(r);var l=Sn('<button class="bjs-drilldown"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg></button>');l.addEventListener("click",function(){s.setRootElement(s.findRoot(ma(r)))}),c.add(r,"drilldown",{position:{bottom:-7,right:-8},html:l}),this.updateOverlayVisibility(r)},fa.prototype.removeOverlay=function(r){this._overlays.remove({element:r,type:"drilldown"})},fa.$inject=["canvas","eventBus","elementRegistry","overlays"];var q_={__depends__:[z_,$_,U_],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",Pk],drilldownCentering:["type",W_],drilldownOverlayBehavior:["type",fa],subprocessCompatibility:["type",tl]};function Ms(r){hn.call(this,r)}Me(Ms,hn),Ms.prototype._modules=[L_,Bo,Jo,z_,q_],Ms.prototype._moddleExtensions={};var Nk=["c","C","KeyC"],bx=["v","V","KeyV"],xx=["y","Y","KeyY"],K_=["z","Z","KeyZ"];function Wr(r){return!r.altKey&&(r.ctrlKey||r.metaKey)}function Fi(r,s){return-1!==(r=Ae(r)?r:[r]).indexOf(s.key)||-1!==r.indexOf(s.code)}function Ed(r){return r.shiftKey}var Ss="keyboard.keydown";function Ni(r,s){var c=this;this._config=r||{},this._eventBus=s,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),s.on("diagram.destroy",function(){c._fire("destroy"),c.unbind()}),s.on("diagram.init",function(){c._fire("init")}),s.on("attach",function(){r&&r.bindTo&&c.bind(r.bindTo)}),s.on("detach",function(){c.unbind()})}function nl(r,s){var c=this;r.on("editorActions.init",500,function(l){c.registerBindings(s,l.editorActions)})}Ni.$inject=["config.keyboard","eventBus"],Ni.prototype._keydownHandler=function(r){this._keyHandler(r,Ss)},Ni.prototype._keyupHandler=function(r){this._keyHandler(r,"keyboard.keyup")},Ni.prototype._keyHandler=function(r,s){this._isEventIgnored(r)||this._eventBus.fire(s||Ss,{keyEvent:r})&&r.preventDefault()},Ni.prototype._isEventIgnored=function(r){return!!r.defaultPrevented||(s=r.target)&&(em(s,"input, textarea")||"true"===s.contentEditable)&&this._isModifiedKeyIgnored(r);var s},Ni.prototype._isModifiedKeyIgnored=function(r){return!Wr(r)||-1===this._getAllowedModifiers(r.target).indexOf(r.key)},Ni.prototype._getAllowedModifiers=function(r){var s=vs(r,"[input-handle-modified-keys]",!0);return!s||this._node&&!this._node.contains(s)?[]:s.getAttribute("input-handle-modified-keys").split(",")},Ni.prototype.bind=function(r){this.unbind(),this._node=r,Ke.bind(r,"keydown",this._keydownHandler),Ke.bind(r,"keyup",this._keyupHandler),this._fire("bind")},Ni.prototype.getBinding=function(){return this._node},Ni.prototype.unbind=function(){var r=this._node;r&&(this._fire("unbind"),Ke.unbind(r,"keydown",this._keydownHandler),Ke.unbind(r,"keyup",this._keyupHandler)),this._node=null},Ni.prototype._fire=function(r){this._eventBus.fire("keyboard."+r,{node:this._node})},Ni.prototype.addListener=function(r,s,c){mn(r)&&(c=s,s=r,r=1e3),this._eventBus.on(c||Ss,r,s)},Ni.prototype.removeListener=function(r,s){this._eventBus.off(s||Ss,r)},Ni.prototype.hasModifier=function(r){return r.ctrlKey||r.metaKey||r.shiftKey||r.altKey},Ni.prototype.isCmd=Wr,Ni.prototype.isShift=Ed,Ni.prototype.isKey=Fi,nl.$inject=["eventBus","keyboard"],nl.prototype.registerBindings=function(r,s){function c(l,u){s.isRegistered(l)&&r.addListener(u)}c("undo",function(l){if(Wr(u=l.keyEvent)&&!Ed(u)&&Fi(K_,u))return s.trigger("undo"),!0;var u}),c("redo",function(l){if(Wr(u=l.keyEvent)&&(Fi(xx,u)||Fi(K_,u)&&Ed(u)))return s.trigger("redo"),!0;var u}),c("copy",function(l){if(Wr(u=l.keyEvent)&&Fi(Nk,u))return s.trigger("copy"),!0;var u}),c("paste",function(l){if(Wr(u=l.keyEvent)&&Fi(bx,u))return s.trigger("paste"),!0;var u}),c("stepZoom",function(l){var u=l.keyEvent;if(Fi(["+","Add","="],u)&&Wr(u))return s.trigger("stepZoom",{value:1}),!0}),c("stepZoom",function(l){var u=l.keyEvent;if(Fi(["-","Subtract"],u)&&Wr(u))return s.trigger("stepZoom",{value:-1}),!0}),c("zoom",function(l){var u=l.keyEvent;if(Fi("0",u)&&Wr(u))return s.trigger("zoom",{value:1}),!0}),c("removeSelection",function(l){if(Fi(["Backspace","Delete","Del"],l.keyEvent))return s.trigger("removeSelection"),!0})};var ec={__init__:["keyboard","keyboardBindings"],keyboard:["type",Ni],keyboardBindings:["type",nl]},Bk={moveSpeed:50,moveSpeedAccelerated:200};function Ft(r,s,c){var l=this;this._config=ee({},Bk,r||{}),s.addListener(function(u){var h=u.keyEvent,m=l._config;if(s.isCmd(h)&&s.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],h)){var f,_=s.isShift(h)?m.moveSpeedAccelerated:m.moveSpeed;switch(h.key){case"ArrowLeft":case"Left":f="left";break;case"ArrowUp":case"Up":f="up";break;case"ArrowRight":case"Right":f="right";break;case"ArrowDown":case"Down":f="down"}return l.moveCanvas({speed:_,direction:f}),!0}}),this.moveCanvas=function(u){var h=0,m=0,f=u.speed/Math.min(Math.sqrt(c.viewbox().scale),1);switch(u.direction){case"left":h=f;break;case"up":m=f;break;case"right":h=-f;break;case"down":m=-f}c.scroll({dx:h,dy:m})}}Ft.$inject=["config.keyboardMove","keyboard","canvas"];var Tm={__depends__:[ec],__init__:["keyboardMove"],keyboardMove:["type",Ft]},Vk=/^djs-cursor-.*$/;function uh(r){var s=Ai(document.body);s.removeMatching(Vk),r&&s.add("djs-cursor-"+r)}function Ts(){uh(null)}function il(r,s){function c(){return!1}return r.once(s=s||"element.click",5e3,c),function(){r.off(s,c)}}function As(r){return{x:r.x+r.width/2,y:r.y+r.height/2}}function wr(r,s){return{x:r.x-s.x,y:r.y-s.y}}function Y_(r,s){var c;function l(h){var m,f=c.start,_=c.button,v=pa(h),b=wr(v,f);!c.dragging&&(m=b,Math.sqrt(Math.pow(m.x,2)+Math.pow(m.y,2))>15)&&(c.dragging=!0,0===_&&il(r),uh("grab")),c.dragging&&(b=wr(v,c.last||c.start),s.scroll({dx:b.x,dy:b.y}),c.last=v),h.preventDefault()}function u(h){Ke.unbind(document,"mousemove",l),Ke.unbind(document,"mouseup",u),c=null,Ts()}r.on("element.mousedown",500,function(h){return function(m){if(!vs(m.target,".djs-draggable")){var f=m.button;if(!(f>=2||m.ctrlKey||m.shiftKey||m.altKey))return c={button:f,start:pa(m)},Ke.bind(document,"mousemove",l),Ke.bind(document,"mouseup",u),!0}}(h.originalEvent)}),this.isActive=function(){return!!c}}Y_.$inject=["eventBus","canvas"];var Am={__init__:["moveCanvas"],moveCanvas:["type",Y_]};function tc(r){return Math.log(r)/Math.log(10)}function jk(r,s){var c=tc(r.min),l=tc(r.max);return(Math.abs(c)+Math.abs(l))/s}var Hk=Math.sign||function(r){return r>=0?1:-1},ue={min:.2,max:4};function ga(r,s,c){r=r||{},this._enabled=!1,this._canvas=c,this._container=c._container,this._handleWheel=Ne(this._handleWheel,this),this._totalDelta=0,this._scale=r.scale||.75;var l=this;s.on("canvas.init",function(u){l._init(!1!==r.enabled)})}ga.$inject=["config.zoomScroll","eventBus","canvas"],ga.prototype.scroll=function(r){this._canvas.scroll(r)},ga.prototype.reset=function(){this._canvas.zoom("fit-viewport")},ga.prototype.zoom=function(r,s){var c=jk(ue,20);this._totalDelta+=r,Math.abs(this._totalDelta)>.1&&(this._zoom(r,s,c),this._totalDelta=0)},ga.prototype._handleWheel=function(r){if(!vs(r.target,".djs-scrollable",!0)){var s=this._container;r.preventDefault();var c,l=r.ctrlKey,u=r.shiftKey,h=-1*this._scale;if(h*=l?0===r.deltaMode?.02:.32:0===r.deltaMode?1:16,l){var m=s.getBoundingClientRect(),f={x:r.clientX-m.left,y:r.clientY-m.top};c=Math.sqrt(Math.pow(r.deltaY,2)+Math.pow(r.deltaX,2))*Hk(r.deltaY)*h,this.zoom(c,f)}else this.scroll(c=u?{dx:h*r.deltaY,dy:0}:{dx:h*r.deltaX,dy:h*r.deltaY})}},ga.prototype.stepZoom=function(r,s){var c=jk(ue,10);this._zoom(r,s,c)},ga.prototype._zoom=function(r,s,c){var f,l=this._canvas,u=r>0?1:-1,h=tc(l.zoom()),m=Math.round(h/c)*c,v=Math.pow(10,m+=c*u);l.zoom((f=ue,Math.max(f.min,Math.min(f.max,v))),s)},ga.prototype.toggle=function(r){var l=this._enabled;return void 0===r&&(r=!l),l!==r&&Ke[r?"bind":"unbind"](this._container,"wheel",this._handleWheel,!1),this._enabled=r,r},ga.prototype._init=function(r){this.toggle(r)};var zk={__init__:["zoomScroll"],zoomScroll:["type",ga]};function Rm(r){Ms.call(this,r)}Me(Rm,Ms),Rm.prototype._modules=[].concat(Ms.prototype._modules,Rm.prototype._navigationModules=[Tm,Am,zk]);var $k={exports:{}};!function(r){!function(s,c,l,u){var h,m=["","webkit","Moz","MS","ms","o"],f=c.createElement("div"),_=Math.round,v=Math.abs,b=Date.now;function x(L,U,J){return setTimeout(R(L,J),U)}function E(L,U,J){return!!Array.isArray(L)&&(C(L,J[U],J),!0)}function C(L,U,J){var ae;if(L)if(L.forEach)L.forEach(U,J);else if(L.length!==u)for(ae=0;ae<L.length;)U.call(J,L[ae],ae,L),ae++;else for(ae in L)L.hasOwnProperty(ae)&&U.call(J,L[ae],ae,L)}function k(L,U,J){var ae="DEPRECATED METHOD: "+U+"\n"+J+" AT \n";return function(){var be=new Error("get-stack-trace"),Pt=be&&be.stack?be.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",En=s.console&&(s.console.warn||s.console.log);return En&&En.call(s.console,ae,Pt),L.apply(this,arguments)}}h="function"!=typeof Object.assign?function(L){if(L===u||null===L)throw new TypeError("Cannot convert undefined or null to object");for(var U=Object(L),J=1;J<arguments.length;J++){var ae=arguments[J];if(ae!==u&&null!==ae)for(var be in ae)ae.hasOwnProperty(be)&&(U[be]=ae[be])}return U}:Object.assign;var T=k(function(L,U,J){for(var ae=Object.keys(U),be=0;be<ae.length;)(!J||J&&L[ae[be]]===u)&&(L[ae[be]]=U[ae[be]]),be++;return L},"extend","Use `assign`."),I=k(function(L,U){return T(L,U,!0)},"merge","Use `assign`.");function M(L,U,J){var ae,be=U.prototype;(ae=L.prototype=Object.create(be)).constructor=L,ae._super=be,J&&h(ae,J)}function R(L,U){return function(){return L.apply(U,arguments)}}function F(L,U){return"function"==typeof L?L.apply(U&&U[0]||u,U):L}function N(L,U){return L===u?U:L}function z(L,U,J){C(ie(U),function(ae){L.addEventListener(ae,J,!1)})}function Z(L,U,J){C(ie(U),function(ae){L.removeEventListener(ae,J,!1)})}function Q(L,U){for(;L;){if(L==U)return!0;L=L.parentNode}return!1}function K(L,U){return L.indexOf(U)>-1}function ie(L){return L.trim().split(/\s+/g)}function ye(L,U,J){if(L.indexOf&&!J)return L.indexOf(U);for(var ae=0;ae<L.length;){if(J&&L[ae][J]==U||!J&&L[ae]===U)return ae;ae++}return-1}function Oe(L){return Array.prototype.slice.call(L,0)}function oe(L,U,J){for(var ae=[],be=[],Pt=0;Pt<L.length;){var En=U?L[Pt][U]:L[Pt];ye(be,En)<0&&ae.push(L[Pt]),be[Pt]=En,Pt++}return J&&(ae=U?ae.sort(function(Yi,Kt){return Yi[U]>Kt[U]}):ae.sort()),ae}function de(L,U){for(var J,ae,be=U[0].toUpperCase()+U.slice(1),Pt=0;Pt<m.length;){if((ae=(J=m[Pt])?J+be:U)in L)return ae;Pt++}return u}var H=1;function A(L){var U=L.ownerDocument||L;return U.defaultView||U.parentWindow||s}var W="ontouchstart"in s,te=de(s,"PointerEvent")!==u,pe=W&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Ue="touch",ze="mouse",_t=["x","y"],Le=["clientX","clientY"];function en(L,U){var J=this;this.manager=L,this.callback=U,this.element=L.element,this.target=L.options.inputTarget,this.domHandler=function(ae){F(L.options.enable,[L])&&J.handler(ae)},this.init()}function ei(L,U,J){var ae=J.pointers.length,be=J.changedPointers.length,Pt=1&U&&ae-be==0,En=12&U&&ae-be==0;J.isFirst=!!Pt,J.isFinal=!!En,Pt&&(L.session={}),J.eventType=U,function(Yi,Kt){var cr=Yi.session,fg=Kt.pointers,tC=fg.length;cr.firstInput||(cr.firstInput=eo(Kt)),tC>1&&!cr.firstMultiple?cr.firstMultiple=eo(Kt):1===tC&&(cr.firstMultiple=!1);var us,Xi,wc,Pl,Fl,hs,uS=cr.firstInput,hu=cr.firstMultiple,nC=hu?hu.center:uS.center,iC=Kt.center=to(fg);Kt.timeStamp=b(),Kt.deltaTime=Kt.timeStamp-uS.timeStamp,Kt.angle=Vi(nC,iC),Kt.distance=tn(nC,iC),wc=(Xi=Kt).center,Pl=(us=cr).offsetDelta||{},Fl=us.prevDelta||{},hs=us.prevInput||{},1!==Xi.eventType&&4!==hs.eventType||(Fl=us.prevDelta={x:hs.deltaX||0,y:hs.deltaY||0},Pl=us.offsetDelta={x:wc.x,y:wc.y}),Xi.deltaX=Fl.x+(wc.x-Pl.x),Xi.deltaY=Fl.y+(wc.y-Pl.y),Kt.offsetDirection=Wn(Kt.deltaX,Kt.deltaY);var xc=kn(Kt.deltaTime,Kt.deltaX,Kt.deltaY);Kt.overallVelocityX=xc.x,Kt.overallVelocityY=xc.y,Kt.overallVelocity=v(xc.x)>v(xc.y)?xc.x:xc.y,Kt.scale=hu?(tb=hu.pointers,tn((nb=fg)[0],nb[1],Le)/tn(tb[0],tb[1],Le)):1,Kt.rotation=hu?function(us,Xi){return Vi(Xi[1],Xi[0],Le)+Vi(us[1],us[0],Le)}(hu.pointers,fg):0,Kt.maxPointers=cr.prevInput?Kt.pointers.length>cr.prevInput.maxPointers?Kt.pointers.length:cr.prevInput.maxPointers:Kt.pointers.length,function(us,Xi){var wc,Pl,Fl,hs,Va=us.lastInterval||Xi,rb=Xi.timeStamp-Va.timeStamp;if(8!=Xi.eventType&&(rb>25||Va.velocity===u)){var ob=Xi.deltaX-Va.deltaX,sb=Xi.deltaY-Va.deltaY,Nl=kn(rb,ob,sb);Pl=Nl.x,Fl=Nl.y,wc=v(Nl.x)>v(Nl.y)?Nl.x:Nl.y,hs=Wn(ob,sb),us.lastInterval=Xi}else wc=Va.velocity,Pl=Va.velocityX,Fl=Va.velocityY,hs=Va.direction;Xi.velocity=wc,Xi.velocityX=Pl,Xi.velocityY=Fl,Xi.direction=hs}(cr,Kt);var tb,nb,ib=Yi.element;Q(Kt.srcEvent.target,ib)&&(ib=Kt.srcEvent.target),Kt.target=ib}(L,J),L.emit("hammer.input",J),L.recognize(J),L.session.prevInput=J}function eo(L){for(var U=[],J=0;J<L.pointers.length;)U[J]={clientX:_(L.pointers[J].clientX),clientY:_(L.pointers[J].clientY)},J++;return{timeStamp:b(),pointers:U,center:to(U),deltaX:L.deltaX,deltaY:L.deltaY}}function to(L){var U=L.length;if(1===U)return{x:_(L[0].clientX),y:_(L[0].clientY)};for(var J=0,ae=0,be=0;be<U;)J+=L[be].clientX,ae+=L[be].clientY,be++;return{x:_(J/U),y:_(ae/U)}}function kn(L,U,J){return{x:U/L||0,y:J/L||0}}function Wn(L,U){return L===U?1:v(L)>=v(U)?L<0?2:4:U<0?8:16}function tn(L,U,J){J||(J=_t);var ae=U[J[0]]-L[J[0]],be=U[J[1]]-L[J[1]];return Math.sqrt(ae*ae+be*be)}function Vi(L,U,J){return J||(J=_t),180*Math.atan2(U[J[1]]-L[J[1]],U[J[0]]-L[J[0]])/Math.PI}en.prototype={handler:function(){},init:function(){this.evEl&&z(this.element,this.evEl,this.domHandler),this.evTarget&&z(this.target,this.evTarget,this.domHandler),this.evWin&&z(A(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Z(this.element,this.evEl,this.domHandler),this.evTarget&&Z(this.target,this.evTarget,this.domHandler),this.evWin&&Z(A(this.element),this.evWin,this.domHandler)}};var Mi={mousedown:1,mousemove:2,mouseup:4},An="mousedown",Dr="mousemove mouseup";function nn(){this.evEl=An,this.evWin=Dr,this.pressed=!1,en.apply(this,arguments)}M(nn,en,{handler:function(L){var U=Mi[L.type];1&U&&0===L.button&&(this.pressed=!0),2&U&&1!==L.which&&(U=4),this.pressed&&(4&U&&(this.pressed=!1),this.callback(this.manager,U,{pointers:[L],changedPointers:[L],pointerType:ze,srcEvent:L}))}});var xo={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Ct={2:Ue,3:"pen",4:ze,5:"kinect"},wn="pointerdown",Gs="pointermove pointerup pointercancel";function yc(){this.evEl=wn,this.evWin=Gs,en.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}s.MSPointerEvent&&!s.PointerEvent&&(wn="MSPointerDown",Gs="MSPointerMove MSPointerUp MSPointerCancel"),M(yc,en,{handler:function(L){var U=this.store,J=!1,ae=L.type.toLowerCase().replace("ms",""),be=xo[ae],Pt=Ct[L.pointerType]||L.pointerType,En=Pt==Ue,Yi=ye(U,L.pointerId,"pointerId");1&be&&(0===L.button||En)?Yi<0&&(U.push(L),Yi=U.length-1):12&be&&(J=!0),Yi<0||(U[Yi]=L,this.callback(this.manager,be,{pointers:U,changedPointers:[L],pointerType:Pt,srcEvent:L}),J&&U.splice(Yi,1))}});var ai={touchstart:1,touchmove:2,touchend:4,touchcancel:8},no="touchstart",Na="touchstart touchmove touchend touchcancel";function La(){this.evTarget=no,this.evWin=Na,this.started=!1,en.apply(this,arguments)}function lg(L,U){var J=Oe(L.touches),ae=Oe(L.changedTouches);return 12&U&&(J=oe(J.concat(ae),"identifier",!0)),[J,ae]}M(La,en,{handler:function(L){var U=ai[L.type];if(1===U&&(this.started=!0),this.started){var J=lg.call(this,L,U);12&U&&J[0].length-J[1].length==0&&(this.started=!1),this.callback(this.manager,U,{pointers:J[0],changedPointers:J[1],pointerType:Ue,srcEvent:L})}}});var aS={touchstart:1,touchmove:2,touchend:4,touchcancel:8},cS="touchstart touchmove touchend touchcancel";function dg(){this.evTarget=cS,this.targetIds={},en.apply(this,arguments)}function lS(L,U){var J=Oe(L.touches),ae=this.targetIds;if(3&U&&1===J.length)return ae[J[0].identifier]=!0,[J,J];var be,Pt,En=Oe(L.changedTouches),Yi=[],Kt=this.target;if(Pt=J.filter(function(cr){return Q(cr.target,Kt)}),1===U)for(be=0;be<Pt.length;)ae[Pt[be].identifier]=!0,be++;for(be=0;be<En.length;)ae[En[be].identifier]&&Yi.push(En[be]),12&U&&delete ae[En[be].identifier],be++;return Yi.length?[oe(Pt.concat(Yi),"identifier",!0),Yi]:void 0}function ug(){en.apply(this,arguments);var L=R(this.handler,this);this.touch=new dg(this.manager,L),this.mouse=new nn(this.manager,L),this.primaryTouch=null,this.lastTouches=[]}function XE(L,U){1&L?(this.primaryTouch=U.changedPointers[0].identifier,ZE.call(this,U)):12&L&&ZE.call(this,U)}function ZE(L){var U=L.changedPointers[0];if(U.identifier===this.primaryTouch){var J={x:U.clientX,y:U.clientY};this.lastTouches.push(J);var ae=this.lastTouches;setTimeout(function(){var be=ae.indexOf(J);be>-1&&ae.splice(be,1)},2500)}}function dS(L){for(var U=L.srcEvent.clientX,J=L.srcEvent.clientY,ae=0;ae<this.lastTouches.length;ae++){var be=this.lastTouches[ae],Pt=Math.abs(U-be.x),En=Math.abs(J-be.y);if(Pt<=25&&En<=25)return!0}return!1}M(dg,en,{handler:function(L){var U=aS[L.type],J=lS.call(this,L,U);J&&this.callback(this.manager,U,{pointers:J[0],changedPointers:J[1],pointerType:Ue,srcEvent:L})}}),M(ug,en,{handler:function(L,U,J){var be=J.pointerType==ze;if(!(be&&J.sourceCapabilities&&J.sourceCapabilities.firesTouchEvents)){if(J.pointerType==Ue)XE.call(this,U,J);else if(be&&dS.call(this,J))return;this.callback(L,U,J)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Xy=de(f.style,"touchAction"),QE=Xy!==u,JE="compute",mp="manipulation",bc="none",fp="pan-x",du="pan-y",hg=function(){if(!QE)return!1;var L={},U=s.CSS&&s.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(J){L[J]=!U||s.CSS.supports("touch-action",J)}),L}();function Zy(L,U){this.manager=L,this.set(U)}Zy.prototype={set:function(L){L==JE&&(L=this.compute()),QE&&this.manager.element.style&&hg[L]&&(this.manager.element.style[Xy]=L),this.actions=L.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var L=[];return C(this.manager.recognizers,function(U){F(U.options.enable,[U])&&(L=L.concat(U.getTouchAction()))}),function(U){if(K(U,bc))return bc;var J=K(U,fp),ae=K(U,du);return J&&ae?bc:J||ae?J?fp:du:K(U,mp)?mp:"auto"}(L.join(" "))},preventDefaults:function(L){var U=L.srcEvent,J=L.offsetDirection;if(this.manager.session.prevented)U.preventDefault();else{var ae=this.actions,be=K(ae,bc)&&!hg.none,Pt=K(ae,du)&&!hg["pan-y"],En=K(ae,fp)&&!hg["pan-x"];if(be&&1===L.pointers.length&&L.distance<2&&L.deltaTime<250)return;if(!En||!Pt)return be||Pt&&6&J||En&&24&J?this.preventSrc(U):void 0}},preventSrc:function(L){this.manager.session.prevented=!0,L.preventDefault()}};function Ba(L){this.options=h({},this.defaults,L||{}),this.id=H++,this.manager=null,this.options.enable=N(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Je(L){return 16&L?"cancel":8&L?"end":4&L?"move":2&L?"start":""}function Ol(L){return 16==L?"down":8==L?"up":2==L?"left":4==L?"right":""}function gp(L,U){var J=U.manager;return J?J.get(L):L}function ds(){Ba.apply(this,arguments)}function Qy(){ds.apply(this,arguments),this.pX=null,this.pY=null}function pg(){ds.apply(this,arguments)}function _p(){Ba.apply(this,arguments),this._timer=null,this._input=null}function Jy(){ds.apply(this,arguments)}function uu(){ds.apply(this,arguments)}function mg(){Ba.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function qs(L,U){return(U=U||{}).recognizers=N(U.recognizers,qs.defaults.preset),new vp(L,U)}function vp(L,U){this.options=h({},qs.defaults,U||{}),this.options.inputTarget=this.options.inputTarget||L,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=L,this.input=new(this.options.inputClass||(te?yc:pe?dg:W?ug:nn))(this,ei),this.touchAction=new Zy(this,this.options.touchAction),eb(this,!0),C(this.options.recognizers,function(ae){var be=this.add(new ae[0](ae[1]));ae[2]&&be.recognizeWith(ae[2]),ae[3]&&be.requireFailure(ae[3])},this)}function eb(L,U){var J,ae=L.element;ae.style&&(C(L.options.cssProps,function(be,Pt){J=de(ae.style,Pt),U?(L.oldCssProps[J]=ae.style[J],ae.style[J]=be):ae.style[J]=L.oldCssProps[J]||""}),U||(L.oldCssProps={}))}Ba.prototype={defaults:{},set:function(L){return h(this.options,L),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(L){if(E(L,"recognizeWith",this))return this;var U=this.simultaneous;return U[(L=gp(L,this)).id]||(U[L.id]=L,L.recognizeWith(this)),this},dropRecognizeWith:function(L){return E(L,"dropRecognizeWith",this)||(L=gp(L,this),delete this.simultaneous[L.id]),this},requireFailure:function(L){if(E(L,"requireFailure",this))return this;var U=this.requireFail;return-1===ye(U,L=gp(L,this))&&(U.push(L),L.requireFailure(this)),this},dropRequireFailure:function(L){if(E(L,"dropRequireFailure",this))return this;L=gp(L,this);var U=ye(this.requireFail,L);return U>-1&&this.requireFail.splice(U,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(L){return!!this.simultaneous[L.id]},emit:function(L){var U=this,J=this.state;function ae(be){U.manager.emit(be,L)}J<8&&ae(U.options.event+Je(J)),ae(U.options.event),L.additionalEvent&&ae(L.additionalEvent),J>=8&&ae(U.options.event+Je(J))},tryEmit:function(L){if(this.canEmit())return this.emit(L);this.state=32},canEmit:function(){for(var L=0;L<this.requireFail.length;){if(!(33&this.requireFail[L].state))return!1;L++}return!0},recognize:function(L){var U=h({},L);if(!F(this.options.enable,[this,U]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(U),30&this.state&&this.tryEmit(U)},process:function(L){},getTouchAction:function(){},reset:function(){}},M(ds,Ba,{defaults:{pointers:1},attrTest:function(L){var U=this.options.pointers;return 0===U||L.pointers.length===U},process:function(L){var U=this.state,J=L.eventType,ae=6&U,be=this.attrTest(L);return ae&&(8&J||!be)?16|U:ae||be?4&J?8|U:2&U?4|U:2:32}}),M(Qy,ds,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var L=this.options.direction,U=[];return 6&L&&U.push(du),24&L&&U.push(fp),U},directionTest:function(L){var U=this.options,J=!0,ae=L.distance,be=L.direction,Pt=L.deltaX,En=L.deltaY;return be&U.direction||(6&U.direction?(be=0===Pt?1:Pt<0?2:4,J=Pt!=this.pX,ae=Math.abs(L.deltaX)):(be=0===En?1:En<0?8:16,J=En!=this.pY,ae=Math.abs(L.deltaY))),L.direction=be,J&&ae>U.threshold&&be&U.direction},attrTest:function(L){return ds.prototype.attrTest.call(this,L)&&(2&this.state||!(2&this.state)&&this.directionTest(L))},emit:function(L){this.pX=L.deltaX,this.pY=L.deltaY;var U=Ol(L.direction);U&&(L.additionalEvent=this.options.event+U),this._super.emit.call(this,L)}}),M(pg,ds,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[bc]},attrTest:function(L){return this._super.attrTest.call(this,L)&&(Math.abs(L.scale-1)>this.options.threshold||2&this.state)},emit:function(L){1!==L.scale&&(L.additionalEvent=this.options.event+(L.scale<1?"in":"out")),this._super.emit.call(this,L)}}),M(_p,Ba,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(L){var U=this.options,J=L.pointers.length===U.pointers,ae=L.distance<U.threshold,be=L.deltaTime>U.time;if(this._input=L,!ae||!J||12&L.eventType&&!be)this.reset();else if(1&L.eventType)this.reset(),this._timer=x(function(){this.state=8,this.tryEmit()},U.time,this);else if(4&L.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(L){8===this.state&&(L&&4&L.eventType?this.manager.emit(this.options.event+"up",L):(this._input.timeStamp=b(),this.manager.emit(this.options.event,this._input)))}}),M(Jy,ds,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[bc]},attrTest:function(L){return this._super.attrTest.call(this,L)&&(Math.abs(L.rotation)>this.options.threshold||2&this.state)}}),M(uu,ds,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Qy.prototype.getTouchAction.call(this)},attrTest:function(L){var U,J=this.options.direction;return 30&J?U=L.overallVelocity:6&J?U=L.overallVelocityX:24&J&&(U=L.overallVelocityY),this._super.attrTest.call(this,L)&&J&L.offsetDirection&&L.distance>this.options.threshold&&L.maxPointers==this.options.pointers&&v(U)>this.options.velocity&&4&L.eventType},emit:function(L){var U=Ol(L.offsetDirection);U&&this.manager.emit(this.options.event+U,L),this.manager.emit(this.options.event,L)}}),M(mg,Ba,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[mp]},process:function(L){var U=this.options,J=L.pointers.length===U.pointers,ae=L.distance<U.threshold,be=L.deltaTime<U.time;if(this.reset(),1&L.eventType&&0===this.count)return this.failTimeout();if(ae&&be&&J){if(4!=L.eventType)return this.failTimeout();var Pt=!this.pTime||L.timeStamp-this.pTime<U.interval,En=!this.pCenter||tn(this.pCenter,L.center)<U.posThreshold;if(this.pTime=L.timeStamp,this.pCenter=L.center,En&&Pt?this.count+=1:this.count=1,this._input=L,this.count%U.taps==0)return this.hasRequireFailures()?(this._timer=x(function(){this.state=8,this.tryEmit()},U.interval,this),2):8}return 32},failTimeout:function(){return this._timer=x(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),qs.VERSION="2.0.7",qs.defaults={domEvents:!1,touchAction:JE,enable:!0,inputTarget:null,inputClass:null,preset:[[Jy,{enable:!1}],[pg,{enable:!1},["rotate"]],[uu,{direction:6}],[Qy,{direction:6},["swipe"]],[mg],[mg,{event:"doubletap",taps:2},["tap"]],[_p]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},vp.prototype={set:function(L){return h(this.options,L),L.touchAction&&this.touchAction.update(),L.inputTarget&&(this.input.destroy(),this.input.target=L.inputTarget,this.input.init()),this},stop:function(L){this.session.stopped=L?2:1},recognize:function(L){var U=this.session;if(!U.stopped){var J;this.touchAction.preventDefaults(L);var ae=this.recognizers,be=U.curRecognizer;(!be||be&&8&be.state)&&(be=U.curRecognizer=null);for(var Pt=0;Pt<ae.length;)J=ae[Pt],2===U.stopped||be&&J!=be&&!J.canRecognizeWith(be)?J.reset():J.recognize(L),!be&&14&J.state&&(be=U.curRecognizer=J),Pt++}},get:function(L){if(L instanceof Ba)return L;for(var U=this.recognizers,J=0;J<U.length;J++)if(U[J].options.event==L)return U[J];return null},add:function(L){if(E(L,"add",this))return this;var U=this.get(L.options.event);return U&&this.remove(U),this.recognizers.push(L),L.manager=this,this.touchAction.update(),L},remove:function(L){if(E(L,"remove",this))return this;if(L=this.get(L)){var U=this.recognizers,J=ye(U,L);-1!==J&&(U.splice(J,1),this.touchAction.update())}return this},on:function(L,U){if(L!==u&&U!==u){var J=this.handlers;return C(ie(L),function(ae){J[ae]=J[ae]||[],J[ae].push(U)}),this}},off:function(L,U){if(L!==u){var J=this.handlers;return C(ie(L),function(ae){U?J[ae]&&J[ae].splice(ye(J[ae],U),1):delete J[ae]}),this}},emit:function(L,U){var be,Pt,En;this.options.domEvents&&(be=L,Pt=U,(En=c.createEvent("Event")).initEvent(be,!0,!0),En.gesture=Pt,Pt.target.dispatchEvent(En));var J=this.handlers[L]&&this.handlers[L].slice();if(J&&J.length){U.type=L,U.preventDefault=function(){U.srcEvent.preventDefault()};for(var ae=0;ae<J.length;)J[ae](U),ae++}},destroy:function(){this.element&&eb(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(qs,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:vp,Input:en,TouchAction:Zy,TouchInput:dg,MouseInput:nn,PointerEventInput:yc,TouchMouseInput:ug,SingleTouchInput:La,Recognizer:Ba,AttrRecognizer:ds,Tap:mg,Pan:Qy,Swipe:uu,Pinch:pg,Rotate:Jy,Press:_p,on:z,off:Z,each:C,merge:I,extend:T,assign:h,inherit:M,bindFn:R,prefixed:de}),(void 0!==s?s:typeof self<"u"?self:{}).Hammer=qs,r.exports?r.exports=qs:s.Hammer=qs}(window,document)}($k);var Cd=$k.exports,Uk=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function X_(r,s){return s.get(r,!1)}function rl(r){r.preventDefault(),"function"==typeof r.stopPropagation?r.stopPropagation():r.srcEvent&&"function"==typeof r.srcEvent.stopPropagation&&r.srcEvent.stopPropagation(),"function"==typeof r.stopImmediatePropagation&&r.stopImmediatePropagation()}function wx(r){function s(_){setTimeout(function(){q(Uk,function(v){Ke.unbind(r,v,rl,!0)})},500)}Ke.bind(r,"touchstart",function(_){q(Uk,function(v){Ke.bind(r,v,rl,!0)})},!0),Ke.bind(r,"touchend",s,!0),Ke.bind(r,"touchcancel",s,!0);var c=new Cd.Manager(r,{inputClass:Cd.TouchInput,recognizers:[],domEvents:!0}),l=new Cd.Tap,u=new Cd.Pan({threshold:10}),h=new Cd.Press,m=new Cd.Pinch,f=new Cd.Tap({event:"doubletap",taps:2});return m.requireFailure(u),m.requireFailure(h),c.add([u,h,m,f,l]),c.reset=function(_){var v=this.recognizers,b=this.session;b.stopped||(c.stop(_),setTimeout(function(){var x,E;for(x=0;E=v[x];x++)E.reset(),E.state=8;b.curRecognizer=null},0))},c.on("hammer.input",function(_){_.srcEvent.defaultPrevented&&c.reset(!0)}),c}function Gk(r,s,c,l,u){var h,m=X_("dragging",r),f=X_("move",r),_=X_("contextPad",r),v=X_("palette",r);function b(C,k){return function(T){var I=x(T.target),M=I&&l.get(I);return k&&(T.srcEvent.button=k),u.fire(C,T,M)}}function x(C){return vs(C,"svg, .djs-element",!0)}m&&c.on("drag.move",function(C){var k=C.originalEvent;if(k&&!(k instanceof MouseEvent)){var T=pa(k),I=x(document.elementFromPoint(T.x,T.y)),M=I&&l.get(I);M!==C.hover&&(C.hover&&m.out(C),M&&(m.hover({element:M,gfx:I}),C.hover=M,C.hoverGfx=I))}}),_&&c.on("contextPad.create",function(C){var k=wx(C.pad.html);k.on("panstart",function(T){_.trigger("dragstart",T,!0)}),k.on("press",function(T){_.trigger("dragstart",T,!0)}),k.on("tap",function(T){_.trigger("click",T)})}),v&&c.on("palette.create",function(C){var k=wx(C.container);k.on("panstart",function(T){v.trigger("dragstart",T,!0)}),k.on("press",function(T){v.trigger("dragstart",T,!0)}),k.on("tap",function(T){v.trigger("click",T)})}),c.on("canvas.init",function(C){!function E(C){function k(T){var I=x(T.target),M=I&&l.get(I);if(f&&s.getRootElement()!==M)return f.start(T,M,!0);!function(R){var F=0,N=0;function z(Q){s.scroll({dx:Q.deltaX-F,dy:Q.deltaY-N}),F=Q.deltaX,N=Q.deltaY}function Z(Q){h.off("panmove",z),h.off("panend",Z),h.off("pancancel",Z)}h.on("panmove",z),h.on("panend",Z),h.on("pancancel",Z)}()}(h=wx(C)).on("tap",b("element.click")),h.on("doubletap",b("element.dblclick",1)),h.on("panstart",k),h.on("press",k),h.on("pinchstart",function(T){var I=s.zoom(),M=T.center;function R(N){var Z=Math.max(.2,Math.min(4,(1-(1-N.scale)/1.5)*I));s.zoom(Z,M),rl(N)}function F(N){h.off("pinchmove",R),h.off("pinchend",F),h.off("pinchcancel",F),h.reset(!0)}h.on("pinchmove",R),h.on("pinchend",F),h.on("pinchcancel",F)})}(C.svg)})}function mi(r,s){var c=this;s.on("canvas.init",function(l){c.addBBoxMarker(l.svg)})}Gk.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"],mi.$inject=["canvas","eventBus"],mi.prototype.addBBoxMarker=function(r){var s={fill:"none",class:"outer-bound-marker"},c=Ye("rect");ve(c,{x:-1e4,y:1e4,width:10,height:10}),ve(c,s),rt(r,c);var l=Ye("rect");ve(l,{x:1e4,y:1e4,width:10,height:10}),ve(l,s),rt(r,l)};var Z_={__depends__:[{__depends__:[ih],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",Gk],touchFix:["type",mi]}]};function ol(r){return r&&r[r.length-1]}function Ex(r){return r.y}function fo(r){return r.x}var sl={left:fo,center:fo,right:function(r){return r.x+r.width},top:Ex,middle:Ex,bottom:function(r){return r.y+r.height}};function al(r,s){this._modeling=r,this._rules=s}al.$inject=["modeling","rules"],al.prototype._getOrientationDetails=function(r){var s="x",c="width";return-1!==["top","bottom","middle"].indexOf(r)&&(s="y",c="height"),{axis:s,dimension:c}},al.prototype._isType=function(r,s){return-1!==s.indexOf(r)},al.prototype._alignmentPosition=function(r,s){var c,l,u,E,h=this._getOrientationDetails(r),m=h.axis,f=h.dimension,_={},v={},b=!1;if(this._isType(r,["left","top"]))_[r]=s[0][m];else if(this._isType(r,["right","bottom"]))u=ol(s),_[r]=u[m]+u[f];else if(this._isType(r,["center","middle"])){if(q(s,function(x){var E=x[m]+Math.round(x[f]/2);v[E]?v[E].elements.push(x):v[E]={elements:[x],center:E}}),c=Yo(v,function(x){return x.elements.length>1&&(b=!0),x.elements.length}),b)return _[r]=ol(c).center,_;l=s[0],u=ol(s=Yo(s,function(x){return x[m]+x[f]})),_[r]=(E=u,Math.round((l[m]+E[m]+E[f])/2))}return _},al.prototype.trigger=function(r,s){var c,l=this._modeling,u=pt(r,function(f){return!(f.waypoints||f.host||f.labelTarget)});if(Ae(c=this._rules.allowed("elements.align",{elements:u}))&&(u=c),!(u.length<2)&&c){var h=Yo(u,sl[s]),m=this._alignmentPosition(s,h);l.alignElements(h,m)}};var Im={__init__:["alignElements"],alignElements:["type",al]};function Fr(r,s,c,l){this._canvas=r,this._eventBus=c,this._overlays=l;var u=_n(s&&s.scale)?s.scale:{min:1,max:1.5};this._overlaysConfig={scale:u},this._current=null,this._init()}function Wk(r,s){return-1!==r.indexOf(s)}Fr.$inject=["canvas","config.contextPad","eventBus","overlays"],Fr.prototype._init=function(){var r=this;this._eventBus.on("selection.changed",function(s){var c=s.newSelection,l=c.length?1===c.length?c[0]:c:null;l?r.open(l,!0):r.close()}),this._eventBus.on("elements.changed",function(s){var c=s.elements,l=r._current;if(l){var u=l.target;To(Ae(u)?u:[u],function(h){return Wk(c,h)})&&r.open(u,!0)}})},Fr.prototype.registerProvider=function(r,s){s||(s=r,r=1e3),this._eventBus.on("contextPad.getProviders",r,function(c){c.providers.push(s)})},Fr.prototype.getEntries=function(r){var s=this._getProviders(),c=Ae(r)?"getMultiElementContextPadEntries":"getContextPadEntries",l={};return q(s,function(u){if(mn(u[c])){var h=u[c](r);mn(h)?l=h(l):q(h,function(m,f){l[f]=m})}}),l},Fr.prototype.trigger=function(r,s,c){var l,h=s.delegateTarget||s.target;return h?(l=Tr(h,"data-action"),this.triggerEntry(l,r,s.originalEvent||s,c)):s.preventDefault()},Fr.prototype.triggerEntry=function(r,s,c,l){if(this.isShown()){var u=this._current.target,h=this._current.entries[r];if(h){var m=h.action;if(mn(m)){if("click"===s)return m(c,u,l)}else if(m[s])return m[s](c,u,l);c.preventDefault()}}},Fr.prototype.open=function(r,s){!s&&this.isOpen(r)||(this.close(),this._updateAndOpen(r))},Fr.prototype._getProviders=function(){var r=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(r),r.providers},Fr.prototype._updateAndOpen=function(r){var s,c=this.getEntries(r),l=this.getPad(r),u=l.html;q(c,function(h,m){var f,x,E,_=h.group||"default",v=Sn(h.html||'<div class="entry" draggable="true"></div>');Tr(v,"data-action",m),(f=Cn("[data-group="+xd(_)+"]",u))||(Tr(f=Sn('<div class="group"></div>'),"data-group",_),u.appendChild(f)),f.appendChild(v),h.className&&(x=h.className,E=Ai(v),(x=Ae(x)?x:x.split(/\s+/g)).forEach(function(C){E.add(C)})),h.title&&Tr(v,"title",h.title),h.imageUrl&&(Tr(s=Sn("<img>"),"src",h.imageUrl),s.style.width="100%",s.style.height="100%",v.appendChild(s))}),Ai(u).add("open"),this._current={target:r,entries:c,pad:l},this._eventBus.fire("contextPad.open",{current:this._current})},Fr.prototype.getPad=function(r){if(this.isOpen())return this._current.pad;var s=this,c=this._overlays,l=Sn('<div class="djs-context-pad"></div>'),u=this._getPosition(r),h=ee({html:l},this._overlaysConfig,u);Io_bind(l,".entry","click",function(_){s.trigger("click",_)}),Io_bind(l,".entry","dragstart",function(_){s.trigger("dragstart",_)}),Ke.bind(l,"mousedown",function(_){_.stopPropagation()});var m=this._canvas.getRootElement();this._overlayId=c.add(m,"context-pad",h);var f=c.get(this._overlayId);return this._eventBus.fire("contextPad.create",{target:r,pad:f}),f},Fr.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},Fr.prototype.isOpen=function(r){var s=this._current;if(!s)return!1;if(!r)return!0;var c=s.target;return Ae(r)===Ae(c)&&(Ae(r)?r.length===c.length&&qa(r,function(l){return Wk(c,l)}):c===r)},Fr.prototype.isShown=function(){return this.isOpen()&&this._overlays.isShown()},Fr.prototype._getPosition=function(r){var s=ri(Ae(r)?r:[r]);return{position:{left:s.x+s.width+12,top:s.y-6}}};var Om,Vt,qr,cl,ll,qk={__depends__:[ih,z_],contextPad:["type",Fr]},hh={},Cx=[],Kk=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function nc(r,s){for(var c in s)r[c]=s[c];return r}function Dx(r){var s=r.parentNode;s&&s.removeChild(r)}function kx(r,s,c){var l,u,h,m={};for(h in s)"key"==h?l=s[h]:"ref"==h?u=s[h]:m[h]=s[h];if(arguments.length>2&&(m.children=arguments.length>3?Om.call(arguments,2):c),"function"==typeof r&&null!=r.defaultProps)for(h in r.defaultProps)void 0===m[h]&&(m[h]=r.defaultProps[h]);return Pm(r,m,l,u,null)}function Pm(r,s,c,l,u){var h={type:r,props:s,key:c,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:u??++qr};return null==u&&null!=Vt.vnode&&Vt.vnode(h),h}function kd(r){return r.children}function dl(r,s){this.props=r,this.context=s}function ic(r,s){if(null==s)return r.__?ic(r.__,r.__.__k.indexOf(r)+1):null;for(var c;s<r.__k.length;s++)if(null!=(c=r.__k[s])&&null!=c.__e)return c.__e;return"function"==typeof r.type?ic(r):null}function Rs(r){var s,c;if(null!=(r=r.__)&&null!=r.__c){for(r.__e=r.__c.base=null,s=0;s<r.__k.length;s++)if(null!=(c=r.__k[s])&&null!=c.__e){r.__e=r.__c.base=c.__e;break}return Rs(r)}}function Q_(r){(!r.__d&&(r.__d=!0)&&cl.push(r)&&!_a.__r++||ll!==Vt.debounceRendering)&&((ll=Vt.debounceRendering)||setTimeout)(_a)}function _a(){for(var r;_a.__r=cl.length;)r=cl.sort(function(s,c){return s.__v.__b-c.__v.__b}),cl=[],r.some(function(s){var c,l,u,h,m,f;s.__d&&(m=(h=(c=s).__v).__e,(f=c.__P)&&(l=[],(u=nc({},h)).__v=h.__v+1,rc(f,h,u,c.__n,void 0!==f.ownerSVGElement,null!=h.__h?[m]:null,l,m??ic(h),h.__h),Sd(l,h),h.__e!=m&&Rs(h)))})}function Mx(r,s,c,l,u,h,m,f,_,v){var b,x,E,C,k,T,I,M=l&&l.__k||Cx,R=M.length;for(c.__k=[],b=0;b<s.length;b++)if(null!=(C=c.__k[b]=null==(C=s[b])||"boolean"==typeof C?null:"string"==typeof C||"number"==typeof C||"bigint"==typeof C?Pm(null,C,null,null,C):Array.isArray(C)?Pm(kd,{children:C},null,null,null):C.__b>0?Pm(C.type,C.props,C.key,C.ref?C.ref:null,C.__v):C)){if(C.__=c,C.__b=c.__b+1,null===(E=M[b])||E&&C.key==E.key&&C.type===E.type)M[b]=void 0;else for(x=0;x<R;x++){if((E=M[x])&&C.key==E.key&&C.type===E.type){M[x]=void 0;break}E=null}rc(r,C,E=E||hh,u,h,m,f,_,v),k=C.__e,(x=C.ref)&&E.ref!=x&&(I||(I=[]),E.ref&&I.push(E.ref,null,C),I.push(x,C.__c||k,C)),null!=k?(null==T&&(T=k),"function"==typeof C.type&&C.__k===E.__k?C.__d=_=J_(C,_,r):_=Md(r,C,E,M,k,_),"function"==typeof c.type&&(c.__d=_)):_&&E.__e==_&&_.parentNode!=r&&(_=ic(E))}for(c.__e=T,b=R;b--;)null!=M[b]&&ev(M[b],M[b]);if(I)for(b=0;b<I.length;b++)Xk(I[b],I[++b],I[++b])}function J_(r,s,c){for(var l,u=r.__k,h=0;u&&h<u.length;h++)(l=u[h])&&(l.__=r,s="function"==typeof l.type?J_(l,s,c):Md(c,l,l,u,l.__e,s));return s}function Md(r,s,c,l,u,h){var m,f,_;if(void 0!==s.__d)m=s.__d,s.__d=void 0;else if(null==c||u!=h||null==u.parentNode)e:if(null==h||h.parentNode!==r)r.appendChild(u),m=null;else{for(f=h,_=0;(f=f.nextSibling)&&_<l.length;_+=1)if(f==u)break e;r.insertBefore(u,h),m=h}return void 0!==m?m:u.nextSibling}function ph(r,s,c){"-"===s[0]?r.setProperty(s,c):r[s]=null==c?"":"number"!=typeof c||Kk.test(s)?c:c+"px"}function mh(r,s,c,l,u){var h;e:if("style"===s)if("string"==typeof c)r.style.cssText=c;else{if("string"==typeof l&&(r.style.cssText=l=""),l)for(s in l)c&&s in c||ph(r.style,s,"");if(c)for(s in c)l&&c[s]===l[s]||ph(r.style,s,c[s])}else if("o"===s[0]&&"n"===s[1])h=s!==(s=s.replace(/Capture$/,"")),s=s.toLowerCase()in r?s.toLowerCase().slice(2):s.slice(2),r.l||(r.l={}),r.l[s+h]=c,c?l||r.addEventListener(s,h?Tx:Sx,h):r.removeEventListener(s,h?Tx:Sx,h);else if("dangerouslySetInnerHTML"!==s){if(u)s=s.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==s&&"list"!==s&&"form"!==s&&"tabIndex"!==s&&"download"!==s&&s in r)try{r[s]=c??"";break e}catch{}"function"==typeof c||(null==c||!1===c&&-1==s.indexOf("-")?r.removeAttribute(s):r.setAttribute(s,c))}}function Sx(r){this.l[r.type+!1](Vt.event?Vt.event(r):r)}function Tx(r){this.l[r.type+!0](Vt.event?Vt.event(r):r)}function rc(r,s,c,l,u,h,m,f,_){var v,b,x,E,C,k,T,I,M,R,F,N,z,Z,Q,K=s.type;if(void 0!==s.constructor)return null;null!=c.__h&&(_=c.__h,f=s.__e=c.__e,s.__h=null,h=[f]),(v=Vt.__b)&&v(s);try{e:if("function"==typeof K){if(I=s.props,M=(v=K.contextType)&&l[v.__c],R=v?M?M.props.value:v.__:l,c.__c?T=(b=s.__c=c.__c).__=b.__E:("prototype"in K&&K.prototype.render?s.__c=b=new K(I,R):(s.__c=b=new dl(I,R),b.constructor=K,b.render=Zk),M&&M.sub(b),b.props=I,b.state||(b.state={}),b.context=R,b.__n=l,x=b.__d=!0,b.__h=[],b._sb=[]),null==b.__s&&(b.__s=b.state),null!=K.getDerivedStateFromProps&&(b.__s==b.state&&(b.__s=nc({},b.__s)),nc(b.__s,K.getDerivedStateFromProps(I,b.__s))),E=b.props,C=b.state,x)null==K.getDerivedStateFromProps&&null!=b.componentWillMount&&b.componentWillMount(),null!=b.componentDidMount&&b.__h.push(b.componentDidMount);else{if(null==K.getDerivedStateFromProps&&I!==E&&null!=b.componentWillReceiveProps&&b.componentWillReceiveProps(I,R),!b.__e&&null!=b.shouldComponentUpdate&&!1===b.shouldComponentUpdate(I,b.__s,R)||s.__v===c.__v){for(b.props=I,b.state=b.__s,s.__v!==c.__v&&(b.__d=!1),b.__v=s,s.__e=c.__e,s.__k=c.__k,s.__k.forEach(function(ie){ie&&(ie.__=s)}),F=0;F<b._sb.length;F++)b.__h.push(b._sb[F]);b._sb=[],b.__h.length&&m.push(b);break e}null!=b.componentWillUpdate&&b.componentWillUpdate(I,b.__s,R),null!=b.componentDidUpdate&&b.__h.push(function(){b.componentDidUpdate(E,C,k)})}if(b.context=R,b.props=I,b.__v=s,b.__P=r,N=Vt.__r,z=0,"prototype"in K&&K.prototype.render){for(b.state=b.__s,b.__d=!1,N&&N(s),v=b.render(b.props,b.state,b.context),Z=0;Z<b._sb.length;Z++)b.__h.push(b._sb[Z]);b._sb=[]}else do{b.__d=!1,N&&N(s),v=b.render(b.props,b.state,b.context),b.state=b.__s}while(b.__d&&++z<25);b.state=b.__s,null!=b.getChildContext&&(l=nc(nc({},l),b.getChildContext())),x||null==b.getSnapshotBeforeUpdate||(k=b.getSnapshotBeforeUpdate(E,C)),Q=null!=v&&v.type===kd&&null==v.key?v.props.children:v,Mx(r,Array.isArray(Q)?Q:[Q],s,c,l,u,h,m,f,_),b.base=s.__e,s.__h=null,b.__h.length&&m.push(b),T&&(b.__E=b.__=null),b.__e=!1}else null==h&&s.__v===c.__v?(s.__k=c.__k,s.__e=c.__e):s.__e=function Yk(r,s,c,l,u,h,m,f){var _,v,b,x=c.props,E=s.props,C=s.type,k=0;if("svg"===C&&(u=!0),null!=h)for(;k<h.length;k++)if((_=h[k])&&"setAttribute"in _==!!C&&(C?_.localName===C:3===_.nodeType)){r=_,h[k]=null;break}if(null==r){if(null===C)return document.createTextNode(E);r=u?document.createElementNS("http://www.w3.org/2000/svg",C):document.createElement(C,E.is&&E),h=null,f=!1}if(null===C)x===E||f&&r.data===E||(r.data=E);else{if(h=h&&Om.call(r.childNodes),v=(x=c.props||hh).dangerouslySetInnerHTML,b=E.dangerouslySetInnerHTML,!f){if(null!=h)for(x={},k=0;k<r.attributes.length;k++)x[r.attributes[k].name]=r.attributes[k].value;(b||v)&&(b&&(v&&b.__html==v.__html||b.__html===r.innerHTML)||(r.innerHTML=b&&b.__html||""))}if(function(T,I,M,R,F){var N;for(N in M)"children"===N||"key"===N||N in I||mh(T,N,null,M[N],R);for(N in I)F&&"function"!=typeof I[N]||"children"===N||"key"===N||"value"===N||"checked"===N||M[N]===I[N]||mh(T,N,I[N],M[N],R)}(r,E,x,u,f),b)s.__k=[];else if(k=s.props.children,Mx(r,Array.isArray(k)?k:[k],s,c,l,u&&"foreignObject"!==C,h,m,h?h[0]:c.__k&&ic(c,0),f),null!=h)for(k=h.length;k--;)null!=h[k]&&Dx(h[k]);f||("value"in E&&void 0!==(k=E.value)&&(k!==r.value||"progress"===C&&!k||"option"===C&&k!==x.value)&&mh(r,"value",k,x.value,!1),"checked"in E&&void 0!==(k=E.checked)&&k!==r.checked&&mh(r,"checked",k,x.checked,!1))}return r}(c.__e,s,c,l,u,h,m,_);(v=Vt.diffed)&&v(s)}catch(ie){s.__v=null,(_||null!=h)&&(s.__e=f,s.__h=!!_,h[h.indexOf(f)]=null),Vt.__e(ie,s,c)}}function Sd(r,s){Vt.__c&&Vt.__c(s,r),r.some(function(c){try{r=c.__h,c.__h=[],r.some(function(l){l.call(c)})}catch(l){Vt.__e(l,c.__v)}})}function Xk(r,s,c){try{"function"==typeof r?r(s):r.current=s}catch(l){Vt.__e(l,c)}}function ev(r,s,c){var l,u;if(Vt.unmount&&Vt.unmount(r),(l=r.ref)&&(l.current&&l.current!==r.__e||Xk(l,null,s)),null!=(l=r.__c)){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(h){Vt.__e(h,s)}l.base=l.__P=null,r.__c=void 0}if(l=r.__k)for(u=0;u<l.length;u++)l[u]&&ev(l[u],s,c||"function"!=typeof r.type);c||null==r.__e||Dx(r.__e),r.__=r.__e=r.__d=void 0}function Zk(r,s,c){return this.constructor(r,c)}function Qk(r,s,c){var l,u,h;Vt.__&&Vt.__(r,s),u=(l="function"==typeof c)?null:c&&c.__k||s.__k,h=[],rc(s,r=(!l&&c||s).__k=kx(kd,null,[r]),u||hh,hh,void 0!==s.ownerSVGElement,!l&&c?[c]:u?null:s.firstChild?Om.call(s.childNodes):null,h,!l&&c?c:u?u.__e:s.firstChild,l),Sd(h,r)}Om=Cx.slice,Vt={__e:function(r,s,c,l){for(var u,h,m;s=s.__;)if((u=s.__c)&&!u.__)try{if((h=u.constructor)&&null!=h.getDerivedStateFromError&&(u.setState(h.getDerivedStateFromError(r)),m=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(r,l||{}),m=u.__d),m)return u.__E=u}catch(f){r=f}throw r}},qr=0,dl.prototype.setState=function(r,s){var c;c=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=nc({},this.state),"function"==typeof r&&(r=r(nc({},c),this.props)),r&&nc(c,r),null!=r&&this.__v&&(s&&this._sb.push(s),Q_(this))},dl.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),Q_(this))},dl.prototype.render=kd,cl=[],_a.__r=0;var fh,Qn,Fm,Ix,Ax=function(r,s,c,l){var u;s[0]=0;for(var h=1;h<s.length;h++){var m=s[h++],f=s[h]?(s[0]|=m?1:2,c[s[h++]]):s[++h];3===m?l[0]=f:4===m?l[1]=Object.assign(l[1]||{},f):5===m?(l[1]=l[1]||{})[s[++h]]=f:6===m?l[1][s[++h]]+=f+"":m?(u=r.apply(f,Ax(r,f,c,["",null])),l.push(u),f[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):l.push(f)}return l},Rx=new Map,Di=function(r){var s=Rx.get(this);return s||Rx.set(this,s=new Map),(s=Ax(this,s.get(r)||(s.set(r,s=function(c){for(var l,u,h=1,m="",f="",_=[0],v=function(E){1===h&&(E||(m=m.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?_.push(0,E,m):3===h&&(E||m)?(_.push(3,E,m),h=2):2===h&&"..."===m&&E?_.push(4,E,0):2===h&&m&&!E?_.push(5,0,!0,m):h>=5&&((m||!E&&5===h)&&(_.push(h,0,m,u),h=6),E&&(_.push(h,E,0,u),h=6)),m=""},b=0;b<c.length;b++){b&&(1===h&&v(),v(b));for(var x=0;x<c[b].length;x++)l=c[b][x],1===h?"<"===l?(v(),_=[_],h=3):m+=l:4===h?"--"===m&&">"===l?(h=1,m=""):m=l+m[0]:f?l===f?f="":m+=l:'"'===l||"'"===l?f=l:">"===l?(v(),h=1):h&&("="===l?(h=5,u=m,m=""):"/"===l&&(h<5||">"===c[b][x+1])?(v(),3===h&&(_=_[0]),h=_,(_=_[0]).push(2,0,h),h=0):" "===l||"\t"===l||"\n"===l||"\r"===l?(v(),h=2):m+=l),3===h&&"!--"===m&&(h=4,_=_[0])}return v(),_}(r)),s),arguments,[])).length>1?s:s[0]}.bind(kx),Nm=0,tv=[],nv=[],Ox=Vt.__b,Px=Vt.__r,Lm=Vt.diffed,Jk=Vt.__c,eM=Vt.unmount;function Td(r,s){Vt.__h&&Vt.__h(Qn,r,Nm||s),Nm=0;var c=Qn.__H||(Qn.__H={__:[],__h:[]});return r>=c.__.length&&c.__.push({__V:nv}),c.__[r]}function Fx(r){return Nm=1,function(s,c,l){var u=Td(fh++,2);if(u.t=s,!u.__c&&(u.__=[jx(void 0,c),function(m){var f=u.__N?u.__N[0]:u.__[0],_=u.t(f,m);f!==_&&(u.__N=[_,u.__[1]],u.__c.setState({}))}],u.__c=Qn,!Qn.u)){Qn.u=!0;var h=Qn.shouldComponentUpdate;Qn.shouldComponentUpdate=function(m,f,_){if(!u.__c.__H)return!0;var v=u.__c.__H.__.filter(function(x){return x.__c});if(v.every(function(x){return!x.__N}))return!h||h.call(this,m,f,_);var b=!1;return v.forEach(function(x){if(x.__N){var E=x.__[0];x.__=x.__N,x.__N=void 0,E!==x.__[0]&&(b=!0)}}),!(!b&&u.__c.props===m)&&(!h||h.call(this,m,f,_))}}return u.__N||u.__}(jx,r)}function Nx(r,s){var c=Td(fh++,3);!Vt.__s&&Er(c.__H,s)&&(c.__=r,c.i=s,Qn.__H.__h.push(c))}function iv(r,s){var c=Td(fh++,4);!Vt.__s&&Er(c.__H,s)&&(c.__=r,c.i=s,Qn.__h.push(c))}function Lx(r){return Nm=5,Bm(function(){return{current:r}},[])}function Bm(r,s){var c=Td(fh++,7);return Er(c.__H,s)?(c.__V=r(),c.i=s,c.__h=r,c.__V):c.__}function gh(r,s){return Nm=8,Bm(function(){return r},s)}function Bx(){for(var r;r=tv.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(_h),r.__H.__h.forEach(jm),r.__H.__h=[]}catch(s){r.__H.__h=[],Vt.__e(s,r.__v)}}Vt.__b=function(r){Qn=null,Ox&&Ox(r)},Vt.__r=function(r){Px&&Px(r),fh=0;var s=(Qn=r.__c).__H;s&&(Fm===Qn?(s.__h=[],Qn.__h=[],s.__.forEach(function(c){c.__N&&(c.__=c.__N),c.__V=nv,c.__N=c.i=void 0})):(s.__h.forEach(_h),s.__h.forEach(jm),s.__h=[])),Fm=Qn},Vt.diffed=function(r){Lm&&Lm(r);var s=r.__c;s&&s.__H&&(s.__H.__h.length&&(1!==tv.push(s)&&Ix===Vt.requestAnimationFrame||((Ix=Vt.requestAnimationFrame)||Vx)(Bx)),s.__H.__.forEach(function(c){c.i&&(c.__H=c.i),c.__V!==nv&&(c.__=c.__V),c.i=void 0,c.__V=nv})),Fm=Qn=null},Vt.__c=function(r,s){s.some(function(c){try{c.__h.forEach(_h),c.__h=c.__h.filter(function(l){return!l.__||jm(l)})}catch(l){s.some(function(u){u.__h&&(u.__h=[])}),s=[],Vt.__e(l,c.__v)}}),Jk&&Jk(r,s)},Vt.unmount=function(r){eM&&eM(r);var s,c=r.__c;c&&c.__H&&(c.__H.__.forEach(function(l){try{_h(l)}catch(u){s=u}}),c.__H=void 0,s&&Vt.__e(s,c.__v))};var Vm="function"==typeof requestAnimationFrame;function Vx(r){var s,c=function(){clearTimeout(l),Vm&&cancelAnimationFrame(s),setTimeout(r)},l=setTimeout(c,100);Vm&&(s=requestAnimationFrame(c))}function _h(r){var s=Qn,c=r.__c;"function"==typeof c&&(r.__c=void 0,c()),Qn=s}function jm(r){var s=Qn;r.__c=r.__(),Qn=s}function Er(r,s){return!r||r.length!==s.length||s.some(function(c,l){return c!==r[l]})}function jx(r,s){return"function"==typeof s?s(r):s}function Hx(r){var s,c,l="";if("string"==typeof r||"number"==typeof r)l+=r;else if("object"==typeof r)if(Array.isArray(r))for(s=0;s<r.length;s++)r[s]&&(c=Hx(r[s]))&&(l&&(l+=" "),l+=c);else for(s in r)r[s]&&(l&&(l+=" "),l+=s);return l}function Hm(){for(var r,s,c=0,l="";c<arguments.length;)(r=arguments[c++])&&(s=Hx(r))&&(l&&(l+=" "),l+=s);return l}function zx(r){const{entry:s,selected:c,onMouseEnter:l,onMouseLeave:u,onClick:h}=r;return Di`
    <li
      class=${Hm("entry",{selected:c})}
      data-id=${s.id}
      title=${s.title||s.label}
      onClick=${h}
      onMouseEnter=${l}
      onMouseLeave=${u}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${Hm("djs-popup-entry-name",s.className)}
        >
          ${s.imageUrl?Di`
            <img class="djs-popup-entry-icon" src=${s.imageUrl} />
          `:null}

          ${s.label?Di`
            <span class="djs-popup-label">
              ${s.label}
            </span>
          `:null}
        </span>
        ${s.description&&Di`
          <span
            class="djs-popup-entry-description"
            title=${s.description}
          >
            ${s.description}
          </span>
        `}
      </div>
      ${s.documentationRef&&Di`
        <div class="djs-popup-entry-docs">
          <a
            href="${s.documentationRef}"
            onClick=${m=>m.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function rv(r){const{selectedEntry:s,setSelectedEntry:c,onClick:l,entries:u}=r,h=Lx(),m=Bm(()=>function(f){const _=[],v=E=>_.find(C=>E.id===C.id);return f.forEach(E=>{const C=E.group?(E=>"string"==typeof E?{id:E}:E)(E.group):{id:"default"};(E=>!!v(E))(C)?v(C).entries.push(E):_.push({...C,entries:[E]})}),_}(u),[u]);return iv(()=>{const f=h.current;if(!f)return;const _=f.querySelector(".selected");var v;_&&("function"==typeof(v=_).scrollIntoViewIfNeeded?v.scrollIntoViewIfNeeded():v.scrollIntoView({scrollMode:"if-needed",block:"nearest"}))},[s]),Di`
    <div class="djs-popup-results" ref=${h}>
      ${m.map(f=>Di`
        ${f.name&&Di`
          <div key=${f.id} class="entry-header" title=${f.name}>
            ${f.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${f.id}>
          ${f.entries.map(_=>Di`
            <${zx}
              key=${_.id}
              entry=${_}
              selected=${_===s}
              onMouseEnter=${()=>c(_)}
              onMouseLeave=${()=>c(null)}
              onClick=${l}
            />
          `)}
        </ul>
      `)}
    </div>
  `}function tM(r){const{onClose:s,onSelect:c,className:l,headerEntries:u,position:h,title:m,width:f,scale:_,search:v,entries:b,onOpened:x,onClosed:E}=r,C=Bm(()=>!!_n(v)&&b.length>5,[v,b]),k=Lx(),[T,I]=Fx(""),[M,R]=Fx(b),[F,N]=Fx(M[0]);Nx(()=>(x(),()=>{E()}),[]);const z=gh(ye=>{F&&ye.includes(F)||N(ye[0]),R(ye)},[F,R,N]);Nx(()=>{if(!C)return;const ye=b.filter(Oe=>{if(!T)return!0;const oe=[Oe.description||"",Oe.label||""].join("---").toLowerCase();return T.toLowerCase().split(/\s/g).every(de=>oe.includes(de))});z(ye)},[T,b,C]),Nx(()=>{const ye=Oe=>{if("Escape"===Oe.key)return Oe.preventDefault(),s()};return document.documentElement.addEventListener("keydown",ye),()=>{document.documentElement.removeEventListener("keydown",ye)}},[]),iv(()=>{k.current&&k.current.focus()},[]);const Z=gh(ye=>{let Oe=M.indexOf(F)+ye;Oe<0&&(Oe=M.length-1),Oe>=M.length&&(Oe=0),N(M[Oe])},[M,F,N]),Q=gh(ye=>"Enter"===ye.key&&F?c(ye,F):"Escape"===ye.key?s():"ArrowUp"===ye.key||"Tab"===ye.key&&ye.shiftKey?(Z(-1),ye.preventDefault()):"ArrowDown"===ye.key||"Tab"===ye.key?(Z(1),ye.preventDefault()):void 0,[c,s,F,Z]),K=gh(ye=>{em(ye.target,"input")&&I(()=>ye.target.value)},[I]),ie=Bm(()=>m||u.length>0,[m,u]);return Di`
    <${$x}
      onClose=${s}
      onKeyup=${K}
      onKeydown=${Q}
      className=${l}
      position=${h}
      width=${f}
      scale=${_}
    >
      ${ie&&Di`
        <div class="djs-popup-header">
          <h3 class="djs-popup-title" title=${m}>${m}</h3>
          ${u.map(ye=>{return Di`
            <span
              class=${Oe=ye,oe=ye===F,Hm("entry",Oe.className,Oe.active?"active":"",Oe.disabled?"disabled":"",oe?"selected":"")}
              onClick=${Oe=>c(Oe,ye)}
              title=${ye.title||ye.label}
              data-id=${ye.id}
              onMouseEnter=${()=>N(ye)}
              onMouseLeave=${()=>N(null)}
            >
              ${ye.imageUrl?Di`
                <img class="djs-popup-entry-icon" src=${ye.imageUrl} />
              `:null}

              ${ye.label?Di`
                <span class="djs-popup-label">${ye.label}</span>
              `:null}
            </span>
          `;var Oe,oe})}
        </div>
      `}
      ${b.length>0&&Di`
        <div class="djs-popup-body">

          ${C&&Di`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input
                ref=${k}
                type="text"
              />
          </div>
          `}

          <${rv}
            entries=${M}
            selectedEntry=${F}
            setSelectedEntry=${N}
            onClick=${c}
          />
        </div>
        ${0===M.length&&Di`
          <div class="djs-popup-no-results">No matching entries found.</div>
        `}
      `}
    </${$x}>
  `}function $x(r){const{onClose:s,onKeydown:c,onKeyup:l,className:u,children:h,position:m}=r,f=Lx(),_=gh(v=>{vs(v.target,".djs-popup",!0)||s()},[s]);return iv(()=>{if("function"!=typeof m)return;const v=f.current,b=m(v);v.style.left=`${b.x}px`,v.style.top=`${b.y}px`},[f.current,m]),iv(()=>{f.current&&f.current.focus()},[]),Di`
    <div
      class="djs-popup-backdrop"
      onClick=${_}
    >
      <div
        class=${Hm("djs-popup",u)}
        style=${v=r,{transform:`scale(${v.scale})`,width:`${v.width}px`}}
        onKeydown=${c}
        onKeyup=${l}
        ref=${f}
        tabIndex="-1"
      >
        ${h}
      </div>
    </div>
  `;var v}var Ux=["contextPad.close","canvas.viewbox.changing","commandStack.changed"];function Gn(r,s,c){this._eventBus=s,this._canvas=c,this._current=null;var l=_n(r&&r.scale)?r.scale:{min:1,max:1.5};this._config={scale:l},s.on("diagram.destroy",()=>{this.close()}),s.on("element.changed",u=>{const h=this.isOpen()&&this._current.element;u.element===h&&this._render()})}Gn.$inject=["config.popupMenu","eventBus","canvas"],Gn.prototype._render=function(){const{position:r,className:s,entries:c,headerEntries:l,options:u}=this._current,h=[...Object.entries(c).map(([v,b])=>({id:v,...b}))],m=[...Object.entries(l).map(([v,b])=>({id:v,...b}))],f=r&&(v=>this._ensureVisible(v,r)),_=this._updateScale(this._current.container);Qk(Di`
      <${tM}
        onClose=${v=>this.close(v)}
        onSelect=${(v,b)=>this.trigger(v,b)}
        position=${f}
        className=${s}
        entries=${h}
        headerEntries=${m}
        scale=${_}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        ...${{...u}}
      />
    `,this._current.container)},Gn.prototype.open=function(r,s,c,l){if(!r)throw new Error("Element is missing");if(!s)throw new Error("No registered providers for: "+s);if(!c)throw new Error("the position argument is missing");this.isOpen()&&this.close();const{entries:u,headerEntries:h}=this._getContext(r,s);this._current={position:c,className:s,element:r,entries:u,headerEntries:h,container:this._createContainer({provider:s}),options:l},this._emit("open"),this._bindAutoClose(),this._render()},Gn.prototype._getContext=function(r,s){const c=this._getProviders(s);if(!c||!c.length)throw new Error("No registered providers for: "+s);const l=this._getEntries(r,c),u=this._getHeaderEntries(r,c);return{entries:l,headerEntries:u,empty:!(Object.keys(l).length||Object.keys(u).length)}},Gn.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._current=null)},Gn.prototype.reset=function(){const r=this._current.container;Qk(null,r),na(r)},Gn.prototype._emit=function(r,s){this._eventBus.fire(`popupMenu.${r}`,s)},Gn.prototype._onOpened=function(){this._emit("opened")},Gn.prototype._onClosed=function(){this._emit("closed")},Gn.prototype._createContainer=function(r){var s=this._canvas.getContainer();const c=Sn(`<div class="djs-popup-parent djs-scrollable" data-popup=${r.provider}></div>`);return s.appendChild(c),c},Gn.prototype._bindAutoClose=function(){this._eventBus.once(Ux,this.close,this)},Gn.prototype._unbindAutoClose=function(){this._eventBus.off(Ux,this.close,this)},Gn.prototype._updateScale=function(r){var s,c,l=this._canvas.zoom(),u=this._config.scale,h=l;return!0!==u&&(!1===u?(s=1,c=1):(s=u.min,c=u.max),_n(s)&&l<s&&(h=s),_n(c)&&l>c&&(h=c)),h},Gn.prototype._ensureVisible=function(r,s){var c=document.documentElement.getBoundingClientRect(),l=r.getBoundingClientRect(),u={},h=s.x,m=s.y;return s.x+l.width>c.width&&(u.x=!0),s.y+l.height>c.height&&(u.y=!0),u.x&&u.y?(h=s.x-l.width,m=s.y-l.height):u.x?(h=s.x-l.width,m=s.y):u.y&&s.y<l.height?(h=s.x,m=10):u.y&&(h=s.x,m=s.y-l.height),{x:h,y:m}},Gn.prototype.isEmpty=function(r,s){if(!r)throw new Error("element parameter is missing");if(!s)throw new Error("providerId parameter is missing");const c=this._getProviders(s);return!c||!c.length||this._getContext(r,s).empty},Gn.prototype.registerProvider=function(r,s,c){c||(c=s,s=1e3),this._eventBus.on("popupMenu.getProviders."+r,s,function(l){l.providers.push(c)})},Gn.prototype._getProviders=function(r){var s=this._eventBus.createEvent({type:"popupMenu.getProviders."+r,providers:[]});return this._eventBus.fire(s),s.providers},Gn.prototype._getEntries=function(r,s){var c={};return q(s,function(l){if(l.getPopupMenuEntries){var u=l.getPopupMenuEntries(r);mn(u)?c=u(c):q(u,function(h,m){c[m]=h})}else q(l.getEntries(r),function(h){var m=h.id;if(!m)throw new Error("every entry must have the id property set");c[m]=an(h,["id"])})}),c},Gn.prototype._getHeaderEntries=function(r,s){var c={};return q(s,function(l){if(l.getPopupMenuHeaderEntries){var u=l.getPopupMenuHeaderEntries(r);mn(u)?c=u(c):q(u,function(h,m){c[m]=h})}else{if(!l.getHeaderEntries)return;q(l.getHeaderEntries(r),function(h){var m=h.id;if(!m)throw new Error("every entry must have the id property set");c[m]=an(h,["id"])})}}),c},Gn.prototype.isOpen=function(){return!!this._current},Gn.prototype.trigger=function(r,s){if(r.preventDefault(),!s){let c=Tr(vs(r.delegateTarget||r.target,".entry",!0),"data-id");s=this._getEntry(c)}if(s.action)return s.action.call(null,r,s)},Gn.prototype._getEntry=function(r){var s=this._current.entries[r]||this._current.headerEntries[r];if(!s)throw new Error("entry not found");return s};var ov={__init__:["popupMenu"],popupMenu:["type",Gn]},Gx={align:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%202000%202000%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M200%20150v1700%22%2F%3E%3Crect%20x%3D%22500%22%20y%3D%22150%22%20width%3D%221300%22%20height%3D%22700%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%22500%22%20y%3D%221150%22%20width%3D%22700%22%20height%3D%22700%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",bottom:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M150%201650h1500%22%2F%3E%3Crect%20x%3D%22150%22%20y%3D%22350%22%20width%3D%22600%22%20height%3D%221300%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%221050%22%20y%3D%22850%22%20width%3D%22600%22%20height%3D%22800%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",center:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M900%20150v1500%22%2F%3E%3Crect%20x%3D%22250%22%20y%3D%22150%22%20width%3D%221300%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%22500%22%20y%3D%221050%22%20width%3D%22800%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",left:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M100%20150v1500%22%2F%3E%3Crect%20x%3D%22100%22%20y%3D%22150%22%20width%3D%221300%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%22100%22%20y%3D%221050%22%20width%3D%22800%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",right:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M1650%20150v1500%22%2F%3E%3Crect%20x%3D%22350%22%20y%3D%22150%22%20width%3D%221300%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%22850%22%20y%3D%221050%22%20width%3D%22800%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",top:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M150%20150h1500%22%2F%3E%3Crect%20x%3D%22150%22%20y%3D%22150%22%20width%3D%22600%22%20height%3D%221300%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%221050%22%20y%3D%22150%22%20width%3D%22600%22%20height%3D%22800%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",middle:"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22stroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linecap%3Around%22%20d%3D%22M150%20900h1500%22%2F%3E%3Crect%20x%3D%22150%22%20y%3D%22250%22%20width%3D%22600%22%20height%3D%221300%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%221050%22%20y%3D%22500%22%20width%3D%22600%22%20height%3D%22800%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E"};function Li(r,s,c,l){r.registerProvider(900,this),this._contextPad=r,this._popupMenu=s,this._translate=c,this._canvas=l}Li.$inject=["contextPad","popupMenu","translate","canvas"],Li.prototype.getMultiElementContextPadEntries=function(r){var s={};return this._isAllowed(r)&&ee(s,this._getEntries(r)),s},Li.prototype._isAllowed=function(r){return!this._popupMenu.isEmpty(r,"align-elements")},Li.prototype._getEntries=function(r){var s=this;return{"align-elements":{group:"align-elements",title:s._translate("Align elements"),imageUrl:Gx.align,action:{click:function(c,l){var u=s._getMenuPosition(l);ee(u,{cursor:{x:c.x,y:c.y}}),s._popupMenu.open(l,"align-elements",u)}}}}},Li.prototype._getMenuPosition=function(r){var s=this._contextPad.getPad(r).html.getBoundingClientRect();return{x:s.left,y:s.bottom+5}};var sv=["left","center","right","top","middle","bottom"];function Ad(r,s,c,l){this._alignElements=s,this._translate=c,this._popupMenu=r,this._rules=l,r.registerProvider("align-elements",this)}function Kr(r){Ee.call(this,r),this.init()}function Bi(r){Kr.call(this,r)}Ad.$inject=["popupMenu","alignElements","translate","rules"],Ad.prototype.getPopupMenuEntries=function(r){var s={};return this._isAllowed(r)&&ee(s,this._getEntries(r)),s},Ad.prototype._isAllowed=function(r){return this._rules.allowed("elements.align",{elements:r})},Ad.prototype._getEntries=function(r){var s=this._alignElements,c=this._translate,l=this._popupMenu,u={};return q(sv,function(h){u["align-elements-"+h]={group:"align",title:c("Align elements "+h),className:"bjs-align-elements-menu-entry",imageUrl:Gx[h],action:function(m,f){s.trigger(r,h),l.close()}}}),u},Kr.$inject=["eventBus"],Me(Kr,Ee),Kr.prototype.addRule=function(r,s,c){var l=this;"string"==typeof r&&(r=[r]),r.forEach(function(u){l.canExecute(u,s,function(h,m,f){return c(h)},!0)})},Kr.prototype.init=function(){},Bi.$inject=["eventBus"],Me(Bi,Kr),Bi.prototype.init=function(){this.addRule("elements.align",function(r){var s=pt(r.elements,function(c){return!(c.waypoints||c.host||c.labelTarget)});return!((s=cd(s)).length<2)&&s})};var vh={__depends__:[Im,qk,ov],__init__:["alignElementsContextPadProvider","alignElementsMenuProvider","bpmnAlignElements"],alignElementsContextPadProvider:["type",Li],alignElementsMenuProvider:["type",Ad],bpmnAlignElements:["type",Bi]};function zm(r,s,c,l){for(var u;u=nM(r,c,s);)c=l(s,c,u);return c}function $m(r){return function(s,c,l){var u={x:c.x,y:c.y};return["x","y"].forEach(function(h){var m=r[h];if(m){var f="x"===h?"width":"height",_=m.margin,v=m.minDistance;u[h]=_<0?Math.min(l[h]+_-s[f]/2,c[h]-v+_):Math.max(l[h]+l[f]+_+s[f]/2,c[h]+v+_)}}),u}}function nM(r,s,c){var h,m,l={x:s.x-c.width/2,y:s.y-c.height/2,width:c.width,height:c.height};return wt((m=Um(h=r),h.host&&(m=m.concat(Um(h.host))),h.attachers&&(m=m.concat(h.attachers.reduce(function(f,_){return f.concat(Um(_))},[]))),m),function(h){return h!==c&&"intersect"===Ii(h,l,10)})}function Um(r){return(s=r,s.outgoing.map(function(c){return c.target})).concat(r.incoming.map(function(l){return l.source}));var s}function iM(){return!0}function av(r,s,c){r.on("autoPlace",100,function(l){return function(h,m,f){f||(f={});var _=f.defaultDistance||50,v=tt(h);return{x:Xe(h).right+_+m.width/2,y:v.y}}(l.source,l.shape)}),r.on("autoPlace.end",function(l){c.scrollToElement(l.shape)}),this.append=function(l,u,h){r.fire("autoPlace.start",{source:l,shape:u});var m=r.fire("autoPlace",{source:l,shape:u}),f=s.appendShape(l,u,m,l.parent,h);return r.fire("autoPlace.end",{source:l,shape:f}),f}}function Wx(r,s){r.on("autoPlace.end",500,function(c){s.select(c.shape)})}av.$inject=["eventBus","modeling","canvas"],Wx.$inject=["eventBus","selection"];var qx={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",av],autoPlaceSelectionBehavior:["type",Wx]};function Gm(r,s){for("string"==typeof s&&(s=[s]);r=r.parent;)if(Bt(r,s))return r;return null}function Kx(r,s){return P(s,"bpmn:TextAnnotation")?(l=s,h={x:(u=Xe(c=r)).right+l.width/2,y:u.top-50-l.height/2},!!c.waypoints&&((h=tt(c)).x+=100,h.y-=50),zm(c,l,h,$m({y:{margin:-30,minDistance:20}}))):Bt(s,["bpmn:DataObjectReference","bpmn:DataStoreReference"])?function(c,l){var u=Xe(c);return zm(c,l,{x:u.right-10+l.width/2,y:u.bottom+40+l.width/2},$m({x:{margin:30,minDistance:30}}))}(r,s):P(s,"bpmn:FlowNode")?function(c,l){var u=Xe(c),h=tt(c),m=function(x,E){E||(E={});var C=E.defaultDistance||50,k=E.direction||"e",T=E.filter,I=E.getWeight||function(Q){return Q.source===x?1:-1},M=E.maxDistance||250,R=E.reference||"start";function F(Q,K){return"n"===k?"start"===R?Xe(Q).top-Xe(K).bottom:"center"===R?Xe(Q).top-tt(K).y:Xe(Q).top-Xe(K).top:"w"===k?"start"===R?Xe(Q).left-Xe(K).right:"center"===R?Xe(Q).left-tt(K).x:Xe(Q).left-Xe(K).left:"s"===k?"start"===R?Xe(K).top-Xe(Q).bottom:"center"===R?tt(K).y-Xe(Q).bottom:Xe(K).bottom-Xe(Q).bottom:"start"===R?Xe(K).left-Xe(Q).right:"center"===R?tt(K).x-Xe(Q).right:Xe(K).right-Xe(Q).right}T||(T=iM);var N=x.incoming.filter(T).map(function(Q){var K=I(Q),ie=K<0?F(Q.source,x):F(x,Q.source);return{id:Q.source.id,distance:ie,weight:K}}),z=x.outgoing.filter(T).map(function(Q){var K=I(Q),ie=K>0?F(x,Q.target):F(Q.target,x);return{id:Q.target.id,distance:ie,weight:K}});return mr(N.concat(z).reduce(function(Q,K){return Q[K.id+"__weight_"+K.weight]=K,Q},{}),function(Q,K){var ie=K.distance,ye=K.weight;return ie<0||ie>M||(Q[String(ie)]||(Q[String(ie)]=0),Q[String(ie)]+=1*ye,(!Q.distance||Q[Q.distance]<Q[String(ie)])&&(Q.distance=ie)),Q},{}).distance||C}(c,{filter:function(x){return P(x,"bpmn:SequenceFlow")}}),f=30,v="left";return P(c,"bpmn:BoundaryEvent")&&-1!==(v=Ii(c,c.host,-25)).indexOf("top")&&(f*=-1),zm(c,l,{x:u.right+m+l.width/2,y:h.y+cv(v,80)},$m({y:{margin:f,minDistance:80}}))}(r,s):void 0;var c,l,u,h}function cv(r,s){return-1!=r.indexOf("top")?-1*s:-1!=r.indexOf("bottom")?s:0}function Wm(r){r.on("autoPlace",function(s){return Kx(s.source,s.shape)})}Wm.$inject=["eventBus"];var rM={__depends__:[qx],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",Wm]};function go(r,s,c,l){Ee.call(this,r),this._elementRegistry=s,this._modeling=c,this._rules=l;var u=this;this.postExecuted(["shape.create"],function(h){var m=h.context;!1!==(m.hints||{}).autoResize&&u._expand([m.shape],m.parent||m.newParent)}),this.postExecuted(["elements.move"],function(h){var m=h.context,f=qt(Nu(m.closure.topLevel)),_=m.hints,v=!_||_.autoResize;!1!==v&&q(od(f,function(b){return b.parent.id}),function(b,x){Ae(v)&&(b=b.filter(function(E){return wt(v,Ao({id:E.id}))})),u._expand(b,x)})}),this.postExecuted(["shape.toggleCollapse"],function(h){var m=h.context,f=m.hints,_=m.shape;f&&!1===f.autoResize||_.collapsed||u._expand(_.children||[],_)}),this.postExecuted(["shape.resize"],function(h){var m=h.context,f=m.hints,_=m.shape,v=_.parent;f&&!1===f.autoResize||v&&u._expand([_],v)})}function qm(r){r.invoke(go,this)}function yh(r){Kr.call(this,r);var s=this;this.addRule("element.autoResize",function(c){return s.canResize(c.elements,c.target)})}function Rd(r,s){yh.call(this,r),this._modeling=s}go.$inject=["eventBus","elementRegistry","modeling","rules"],Me(go,Ee),go.prototype._getOptimalBounds=function(r,s){var c=this.getOffset(s),l=this.getPadding(s),u=Xe(ri(r)),h=Xe(s),m={};return u.top-h.top<l.top&&(m.top=u.top-c.top),u.left-h.left<l.left&&(m.left=u.left-c.left),h.right-u.right<l.right&&(m.right=u.right+c.right),h.bottom-u.bottom<l.bottom&&(m.bottom=u.bottom+c.bottom),C_(ee({},h,m))},go.prototype._expand=function(r,s){if("string"==typeof s&&(s=this._elementRegistry.get(s)),this._rules.allowed("element.autoResize",{elements:r,target:s})){var c=this._getOptimalBounds(r,s);if((h=c).x!==(m=s).x||h.y!==m.y||h.width!==m.width||h.height!==m.height){var l=function(h,m){var f="";return h=Xe(h),m=Xe(m),h.top>m.top&&(f=f.concat("n")),h.right<m.right&&(f=f.concat("w")),h.bottom<m.bottom&&(f=f.concat("s")),h.left>m.left&&(f=f.concat("e")),f}(Ro(s,["x","y","width","height"]),c);this.resize(s,c,{autoResize:l});var u=s.parent;u&&this._expand([s],u)}}var h,m},go.prototype.getOffset=function(r){return{top:60,bottom:60,left:100,right:100}},go.prototype.getPadding=function(r){return{top:2,bottom:2,left:15,right:15}},go.prototype.resize=function(r,s,c){this._modeling.resizeShape(r,s,null,c)},qm.$inject=["injector"],Me(qm,go),qm.prototype.resize=function(r,s,c){P(r,"bpmn:Participant")?this._modeling.resizeLane(r,s,null,c):this._modeling.resizeShape(r,s,null,c)},yh.$inject=["eventBus"],Me(yh,Kr),yh.prototype.canResize=function(r,s){return!1},Me(Rd,yh),Rd.$inject=["eventBus","modeling"],Rd.prototype.canResize=function(r,s){if(P(s.di,"bpmndi:BPMNPlane")||!P(s,"bpmn:Participant")&&!P(s,"bpmn:Lane")&&!P(s,"bpmn:SubProcess"))return!1;var c=!0;return q(r,function(l){(P(l,"bpmn:Lane")||l.labelTarget)&&(c=!1)}),c};var lv={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",qm],bpmnAutoResizeProvider:["type",Rd]};function dv(r,s,c){var l,u,h=this,m=c.get("dragging",!1);m&&s.on("drag.start",function(f){s.once("drag.move",1500,function(_){!function(v){if(!v.hover){var b=v.originalEvent,x=h._findTargetGfx(b),E=x&&r.get(x);x&&E&&(v.stopPropagation(),m.hover({element:E,gfx:x}),m.move(b))}}(_)})}),s.on("element.hover",function(f){l=f.gfx,u=f.element}),s.on("element.hover",1500,function(f){u&&s.fire("element.out",{element:u,gfx:l})}),s.on("element.out",function(){l=null,u=null}),this._findTargetGfx=function(f){var _;if(f instanceof MouseEvent)return _=pa(f),vs(document.elementFromPoint(_.x,_.y),"svg, .djs-element",!0)}}dv.$inject=["elementRegistry","eventBus","injector"];var Id={__init__:["hoverFix"],hoverFix:["type",dv]},oc=Math.round,uv="djs-drag-active";function ul(r){r.preventDefault()}function Km(r,s,c,l){var u,h={threshold:5,trapClick:!0};function m(M){var R=s.viewbox(),F=s._container.getBoundingClientRect();return{x:R.x+(M.x-F.left)/R.scale,y:R.y+(M.y-F.top)/R.scale}}function f(M,R){var F=r.createEvent(ee({},(R=R||u).payload,R.data,{isTouch:R.isTouch}));return!1!==r.fire("drag."+M,F)&&r.fire(R.prefix+"."+M,F)}function _(M,R){var F,N=u.payload,z=u.displacement,Z=u.globalStart,Q=pa(M),K=wr(Q,Z),ie=u.localStart,ye=m(Q),Oe=wr(ye,ie);if(!u.active&&(R||(F=K,Math.sqrt(Math.pow(F.x,2)+Math.pow(F.y,2))>u.threshold))){if(ee(N,{x:oc(ie.x+z.x),y:oc(ie.y+z.y),dx:0,dy:0},{originalEvent:M}),!1===f("start"))return T();u.active=!0,u.keepSelection||(N.previousSelection=c.get(),c.select(null)),u.cursor&&uh(u.cursor),s.addMarker(s.getRootElement(),uv)}Dm(M),u.active&&(ee(N,{x:oc(ye.x+z.x),y:oc(ye.y+z.y),dx:oc(Oe.x),dy:oc(Oe.y)},{originalEvent:M}),f("move"))}function v(M){var R=!0;u.active&&(M&&(u.payload.originalEvent=M,Dm(M)),R=f("end")),!1===R&&f("rejected"),f("ended",I(!0!==R))}function b(M){Fi("Escape",M)&&(ul(M),T())}function x(M){var R;u.active&&(R=il(r),setTimeout(R,400),ul(M)),v(M)}function E(M){_(M)}function C(M){var R=u.payload;R.hoverGfx=M.gfx,R.hover=M.element,f("hover")}function k(M){f("out");var R=u.payload;R.hoverGfx=null,R.hover=null}function T(M){var R;if(u){var F=u.active;F&&f("cancel"),R=I(M),F&&f("canceled",R)}}function I(M){var R,F;f("cleanup"),Ts(),F=u.trapClick?x:v,Ke.unbind(document,"mousemove",_),Ke.unbind(document,"dragstart",ul),Ke.unbind(document,"selectstart",ul),Ke.unbind(document,"mousedown",F,!0),Ke.unbind(document,"mouseup",F,!0),Ke.unbind(document,"keyup",b),Ke.unbind(document,"touchstart",E,!0),Ke.unbind(document,"touchcancel",T,!0),Ke.unbind(document,"touchmove",_,!0),Ke.unbind(document,"touchend",v,!0),r.off("element.hover",C),r.off("element.out",k),s.removeMarker(s.getRootElement(),uv);var Z,N=u.payload.previousSelection;return!1!==M&&N&&!c.get().length&&(Z=N.filter(function(Q){return l.get(Q.id)})).length&&c.select(Z),R=u,u=null,R}r.on("diagram.destroy",T),this.init=function(M,R,F,N){u&&T(!1),"string"==typeof R&&(N=F,F=R,R=null);var z,Z,Q,K,ie,ye=(N=ee({},h,N||{})).data||{};K=N.trapClick?x:v,M?(z=Jc(M)||M,Z=pa(M),Dm(M),"dragstart"===z.type&&ul(z)):(z=null,Z={x:0,y:0}),Q=m(Z),R||(R=Q),ie=typeof TouchEvent<"u"&&z instanceof TouchEvent,u=ee({prefix:F,data:ye,payload:{},globalStart:Z,displacement:wr(R,Q),localStart:Q,isTouch:ie},N),N.manual||(ie?(Ke.bind(document,"touchstart",E,!0),Ke.bind(document,"touchcancel",T,!0),Ke.bind(document,"touchmove",_,!0),Ke.bind(document,"touchend",v,!0)):(Ke.bind(document,"mousemove",_),Ke.bind(document,"dragstart",ul),Ke.bind(document,"selectstart",ul),Ke.bind(document,"mousedown",K,!0),Ke.bind(document,"mouseup",K,!0)),Ke.bind(document,"keyup",b),r.on("element.hover",C),r.on("element.out",k)),f("init"),N.autoActivate&&_(M,!0)},this.move=_,this.hover=C,this.out=k,this.end=v,this.cancel=T,this.context=function(){return u},this.setOptions=function(M){ee(h,M)}}Km.$inject=["eventBus","canvas","selection","elementRegistry"];var va={__depends__:[Id,Jo],dragging:["type",Km]};function Od(r,s,c){this._canvas=c,this._opts=ee({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},r);var l=this;s.on("drag.move",function(u){var h=l._toBorderPoint(u);l.startScroll(h)}),s.on(["drag.cleanup"],function(){l.stopScroll()})}function oM(r,s,c){return s<r&&r<c}Od.$inject=["config.autoScroll","eventBus","canvas"],Od.prototype.startScroll=function(r){var s=this._canvas,c=this._opts,l=this,u=s.getContainer().getBoundingClientRect(),h=[r.x,r.y,u.width-r.x,u.height-r.y];this.stopScroll();for(var m=0,f=0,_=0;_<4;_++)oM(h[_],c.scrollThresholdOut[_],c.scrollThresholdIn[_])&&(0===_?m=c.scrollStep:1==_?f=c.scrollStep:2==_?m=-c.scrollStep:3==_&&(f=-c.scrollStep));0===m&&0===f||(s.scroll({dx:m,dy:f}),this._scrolling=setTimeout(function(){l.startScroll(r)},c.scrollRepeatTimeout))},Od.prototype.stopScroll=function(){clearTimeout(this._scrolling)},Od.prototype.setOptions=function(r){this._opts=ee({},this._opts,r)},Od.prototype._toBorderPoint=function(r){var s=this._canvas._container.getBoundingClientRect(),c=pa(r.originalEvent);return{x:c.x-s.left,y:c.y-s.top}};var sM={__depends__:[va],__init__:["autoScroll"],autoScroll:["type",Od]};function hv(r){this._commandStack=r.get("commandStack",!1)}hv.$inject=["injector"],hv.prototype.allowed=function(r,s){var c=!0,l=this._commandStack;return l&&(c=l.canExecute(r,s)),void 0===c||c};var Is={__init__:["rules"],rules:["type",hv]},bh=Math.round,pv=Math.max;function Ym(r,s){return function(c,l){var u,h;for(u=0;h=c[u];u++)if(Et(h,l)<=10)return{point:c[u],bendpoint:!0,index:u};return null}(r,s)||(_=(m=E_([["M",(v=s).x,v.y],["m",0,-(b=10)],["a",b,b,0,1,1,0,20],["a",b,b,0,1,1,0,-20],["z"]],(u=[],(c=r).forEach(function(v,b){u.push([0===b?"M":"L",v.x,v.y])}),u)))[m.length-1],(f=m[0])?f!==_?f.segment2!==_.segment2?{point:c[h=pv(f.segment2,_.segment2)-1],bendpoint:!0,index:h}:{point:{x:bh(f.x+_.x)/2,y:bh(f.y+_.y)/2},index:f.segment2}:{point:{x:bh(f.x),y:bh(f.y)},index:f.segment2}:null);var c,u,h,v,b,m,f,_}function Xm(r){return Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2))}function Yx(r){return Math.atan((r[1].y-r[0].y)/(r[1].x-r[0].x))}function mv(r,s){var m,f,_,v,c=s[0],l=s[1],u={x:l.x-c.x,y:l.y-c.y},h=-((v=[{n:(m=[c.x,c.y])[0]-(_=[r.x,r.y])[0],lambda:(f=[u.x,u.y])[0]},{n:m[1]-_[1],lambda:f[1]}])[0].n*f[0]+v[1].n*f[1])/(v[0].lambda*f[0]+v[1].lambda*f[1]);return{x:c.x+h*u.x,y:c.y+h*u.y}}function fv(r,s){var c=mv(r,s);return Xm({x:c.x-r.x,y:c.y-r.y})}function xh(r,s){return Xm({x:r.x-s.x,y:r.y-s.y})}function Zm(r,s,c){return Ym(s,function(u,h){var m,f=pa(h),_=u._container.getBoundingClientRect();m={x:_.left,y:_.top};var v=u.viewbox();return{x:v.x+(f.x-m.x)/v.scale,y:v.y+(f.y-m.y)/v.scale}}(r,c))}function gv(r,s){var c=Ye("g");Nt(c).add("djs-bendpoint"),rt(r,c);var l=Ye("circle");ve(l,{cx:0,cy:0,r:4}),Nt(l).add("djs-visual"),rt(c,l);var u=Ye("circle");return ve(u,{cx:0,cy:0,r:10}),Nt(u).add("djs-hit"),rt(c,u),s&&Nt(c).add(s),c}function wh(r,s,c){var l=Ye("g"),u=b_(s,c),h=oa(s,c);return rt(r,l),function o2(r,s,c,l){var u=Ye("g");rt(r,u);var _,v,h=(_=s,v=c,Zx("h"===l?v.x-_.x:v.y-_.y)),m=Ye("rect");ve(m,{x:-9,y:-3,width:18,height:6}),Nt(m).add("djs-visual"),rt(u,m);var f=Ye("rect");return ve(f,{x:-h/2,y:-8.5,width:h,height:17}),Nt(f).add("djs-hit"),rt(u,f),S_(u,"v"===l?90:0),u}(l,s,c,h),Nt(l).add("djs-segment-dragger"),Nt(l).add("h"===h?"horizontal":"vertical"),Ir(l,u.x,u.y),l}function Zx(r){return Math.abs(Math.round(2*r/3))}function _v(r,s,c,l,u){function m(k,T,I){Ke.bind(k,T,function(M){c.triggerMouseEvent(T,M,I),M.stopPropagation()})}function f(k,T){var I=s.getLayer("overlays"),M=Cn('.djs-bendpoints[data-element-id="'+xd(k.id)+'"]',I);return!M&&T&&(ve(M=Ye("g"),{"data-element-id":k.id}),Nt(M).add("djs-bendpoints"),rt(I,M),m(M,"mousedown",k),m(M,"click",k),m(M,"dblclick",k)),M}function _(k,T){return Cn('.djs-segment-dragger[data-segment-idx="'+k+'"]',T)}function v(k,T){T.waypoints.forEach(function(I,M){var R=gv(k);rt(k,R),Ir(R,I.x,I.y)}),gv(k,"floating")}function b(k,T){for(var I,M,R,F=T.waypoints,N=1;N<F.length;N++)oa(I=F[N-1],M=F[N])&&(ve(R=wh(k,I,M),{"data-segment-idx":N}),m(R,"mousemove",T))}function x(k){var T=f(k);return T||(v(T=f(k,!0),k),b(T,k)),T}function E(k){var T=f(k);T&&(q(H0(".djs-segment-dragger",T),function(M){$n(M)}),q(H0(".djs-bendpoint",T),function(M){$n(M)}),b(T,k),v(T,k))}r.on("connection.changed",function(k){E(k.element)}),r.on("connection.remove",function(k){var T=f(k.element);T&&$n(T)}),r.on("element.marker.update",function(k){var T,I=k.element;I.waypoints&&(T=x(I),k.add?Nt(T).add(k.marker):Nt(T).remove(k.marker))}),r.on("element.mousemove",function(k){var T,I,N,z,Z,M=k.element,R=M.waypoints;if(R){if(T=f(M,!0),!(I=Zm(s,R,k.originalEvent)))return;N=I,z=Cn(".floating",T),Z=N.point,z&&Ir(z,Z.x,Z.y),I.bendpoint||function C(k,T,I){var M,R,F=_(T.index,k),N=I[T.index-1],z=I[T.index],Z=T.point,Q=b_(N,z),K=oa(N,z);F&&(M=Cn(".djs-visual",F),R={x:Z.x-Q.x,y:Z.y-Q.y},"v"===K&&(R={x:R.y,y:R.x}),Ir(M,R.x,R.y))}(T,I,R)}}),r.on("element.mousedown",function(k){if(Ja(k)){var I=k.element;if(I.waypoints)return function h(k,T){var N,z,Z,Q,M=T.waypoints,R=Zm(s,M,k);if(R)return Q=T.waypoints,function(F,N,z){var Z,Q,K,ie,ye,Oe,oe=F.index,de=F.point;return!(oe<=0||F.bendpoint)&&(K=b_(Z=N[oe-1],Q=N[oe]),ie=oa(Z,Q),ye=Math.abs(de.x-K.x),Oe=Math.abs(de.y-K.y),ie&&ye<=z&&Oe<=z)}(R,M,(N=R).index<=0||N.bendpoint?null:(Z=oa((z={start:Q[N.index-1],end:Q[N.index]}).start,z.end))?Zx("h"===Z?z.end.x-z.start.x:z.end.y-z.start.y)/2:null)?u.start(k,T,R.index):l.start(k,T,R.index,!R.bendpoint),!0}(k.originalEvent,I)}}),r.on("selection.changed",function(k){var T=k.newSelection[0];T&&T.waypoints&&x(T)}),r.on("element.hover",function(k){var T=k.element;T.waypoints&&(x(T),c.registerEvent(k.gfx,"mousemove","element.mousemove"))}),r.on("element.out",function(k){c.unregisterEvent(k.gfx,"mousemove","element.mousemove")}),r.on("element.updateId",function(k){var T=k.element,I=k.newId;if(T.waypoints){var M=f(T);M&&ve(M,{"data-element-id":I})}}),this.addHandles=x,this.updateHandles=E,this.getBendpointsContainer=f,this.getSegmentDragger=_}_v.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var vv=Math.round,ya="reconnectStart",sc="reconnectEnd",ac="updateWaypoints";function Pd(r,s,c,l,u,h){this._injector=r,this.start=function(m,f,_,v){var b,x=c.getGraphics(f),E=f.source,C=f.target,T=(b=v||0!==_?v||_!==f.waypoints.length-1?ac:sc:ya)===ac?"connection.updateWaypoints":"connection.reconnect",I=u.allowed(T,{connection:f,source:E,target:C});!1===I&&(I=u.allowed(T,{connection:f,source:C,target:E})),!1!==I&&l.init(m,"bendpoint.move",{data:{connection:f,connectionGfx:x,context:{allowed:I,bendpointIndex:_,connection:f,source:E,target:C,insert:v,type:b}}})},s.on("bendpoint.move.hover",function(m){var f,_=m.context,v=_.connection,b=v.source,x=v.target,E=m.hover,C=_.type;if(_.hover=E,E){var k=C===ac?"connection.updateWaypoints":"connection.reconnect";if(f=_.allowed=u.allowed(k,{connection:v,source:C===ya?E:b,target:C===sc?E:x}))return _.source=C===ya?E:b,void(_.target=C===sc?E:x);!1===f&&(f=_.allowed=u.allowed(k,{connection:v,source:C===sc?E:x,target:C===ya?E:b})),f&&(_.source=C===sc?E:x,_.target=C===ya?E:b)}}),s.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(m){var f=m.context,_=f.type;f.hover=null,f.source=null,f.target=null,_!==ac&&(f.allowed=!1)}),s.on("bendpoint.move.end",function(m){var f=m.context,_=f.allowed,v=f.bendpointIndex,b=f.connection,x=f.insert,E=b.waypoints.slice(),C=f.source,k=f.target,T=f.type,I=f.hints||{},M={x:vv(m.x),y:vv(m.y)};if(!_)return!1;T===ac?(x?E.splice(v,0,M):E[v]=M,I.bendpointMove={insert:x,bendpointIndex:v},E=this.cropWaypoints(b,E),h.updateWaypoints(b,function(R){R=R.slice();for(var F,N,z,Z=0;R[Z];)N=R[Z-1],0===Et(F=R[Z],z=R[Z+1])||cn(N,z,F)?R.splice(Z,1):Z++;return R}(E),I)):(T===ya?(I.docking="source",Eh(f)&&(I.docking="target",I.newWaypoints=E.reverse())):T===sc&&(I.docking="target",Eh(f)&&(I.docking="source",I.newWaypoints=E.reverse())),h.reconnect(b,C,k,M,I))},this)}function Eh(r){var s=r.hover,c=r.source,l=r.target,u=r.type;return u===ya?s&&l&&s===l&&c!==l:u===sc?s&&c&&s===c&&c!==l:void 0}Pd.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],Pd.prototype.cropWaypoints=function(r,s){var c=this._injector.get("connectionDocking",!1);if(!c)return s;var l=r.waypoints;return r.waypoints=s,r.waypoints=c.getCroppedWaypoints(r),s=r.waypoints,r.waypoints=l,s};var Qm="updateWaypoints",pl="connect-ok",Fd="connect-not-ok",Nd="connect-hover",Jx="djs-updating",yv="djs-element-hidden";function ew(r,s,c,l){this._injector=s;var u=s.get("connectionPreview",!1);c.on("bendpoint.move.start",function(h){var m=h.context,f=m.bendpointIndex,_=m.connection,v=m.insert,b=_.waypoints,x=b.slice();m.waypoints=b,v&&x.splice(f,0,{x:h.x,y:h.y}),_.waypoints=x,Nt(m.draggerGfx=gv(l.getLayer("overlays"))).add("djs-dragging"),l.addMarker(_,yv),l.addMarker(_,Jx)}),c.on("bendpoint.move.hover",function(h){var m=h.context,f=m.allowed,_=m.hover,v=m.type;if(_){if(l.addMarker(_,Nd),v===Qm)return;f?(l.removeMarker(_,Fd),l.addMarker(_,pl)):!1===f&&(l.removeMarker(_,pl),l.addMarker(_,Fd))}}),c.on(["bendpoint.move.out","bendpoint.move.cleanup"],1100,function(h){var m=h.context,f=m.hover,_=m.target;f&&(l.removeMarker(f,Nd),l.removeMarker(f,_?pl:Fd))}),c.on("bendpoint.move.move",function(h){var m=h.context,f=m.allowed,_=m.bendpointIndex,v=m.draggerGfx,b=m.hover,x=m.type,E=m.connection,C=E.source,k=E.target,T=E.waypoints.slice(),I={x:h.x,y:h.y},M=m.hints||{},R={};u&&(M.connectionStart&&(R.connectionStart=M.connectionStart),M.connectionEnd&&(R.connectionEnd=M.connectionEnd),"reconnectStart"===x?Eh(m)?(R.connectionEnd=R.connectionEnd||I,R.source=k,R.target=b||C,T=T.reverse()):(R.connectionStart=R.connectionStart||I,R.source=b||C,R.target=k):"reconnectEnd"===x?Eh(m)?(R.connectionStart=R.connectionStart||I,R.source=b||k,R.target=C,T=T.reverse()):(R.connectionEnd=R.connectionEnd||I,R.source=C,R.target=b||k):(R.noCropping=!0,R.noLayout=!0,T[_]=I),x===Qm&&(T=r.cropWaypoints(E,T)),R.waypoints=T,u.drawPreview(m,f,R)),Ir(v,h.x,h.y)},this),c.on(["bendpoint.move.end","bendpoint.move.cancel"],1100,function(h){var m=h.context,f=m.connection,_=m.draggerGfx,v=m.hover,b=m.target;f.waypoints=m.waypoints,$n(_),l.removeMarker(f,Jx),l.removeMarker(f,yv),v&&(l.removeMarker(v,pl),l.removeMarker(v,b?pl:Fd)),u&&u.cleanUp(m)})}ew.$inject=["bendpointMove","injector","eventBus","canvas"];var tw="connect-hover",nw="djs-updating";function bv(r,s,c){return Jm(r,s,r[s]+c)}function Jm(r,s,c){return{x:"x"===s?c:r.x,y:"y"===s?c:r.y}}function Ch(r){return"x"===r?"y":"x"}function ef(r,s,c){var l,u;return r.original?r.original:(l=tt(s),Jm(r,u=Ch(c),l[u]))}function cc(r,s,c,l,u,h){var m=r.get("connectionDocking",!1);function f(b,x){if(!m)return x;var E,C=b.waypoints;return b.waypoints=x,E=m.getCroppedWaypoints(b),b.waypoints=C,E}function _(b){u.update("connection",b.connection,b.connectionGfx)}this.start=function(b,x,E){var C,k,T,I,M=c.getGraphics(x),R=E-1,F=E,N=x.waypoints,z=N[R],Z=N[F],Q=Zm(c,N,b);(k=oa(z,Z))&&(T="v"===k?"x":"y",0===R&&(z=ef(z,x.source,T)),F===N.length-1&&(Z=ef(Z,x.target,T)),C={connection:x,segmentStartIndex:R,segmentEndIndex:F,segmentStart:z,segmentEnd:Z,axis:T,dragPosition:I=Q?Q.point:{x:(z.x+Z.x)/2,y:(z.y+Z.y)/2}},l.init(b,I,"connectionSegment.move",{cursor:"x"===T?"resize-ew":"resize-ns",data:{connection:x,connectionGfx:M,context:C}}))},s.on("connectionSegment.move.start",function(b){var x=b.context,E=b.connection,C=c.getLayer("overlays");x.originalWaypoints=E.waypoints.slice(),x.draggerGfx=wh(C,x.segmentStart,x.segmentEnd),Nt(x.draggerGfx).add("djs-dragging"),c.addMarker(E,nw)}),s.on("connectionSegment.move.move",function(b){var x,E,C=b.context,k=C.connection,T=C.segmentStartIndex,I=C.segmentEndIndex,M=C.segmentStart,R=C.segmentEnd,F=C.axis,N=C.originalWaypoints.slice(),z=bv(M,F,b["d"+F]),Z=bv(R,F,b["d"+F]),Q=N.length,K=0;N[T]=z,N[I]=Z,T<2&&(x=Ii(k.source,z),1===T?"intersect"===x&&(N.shift(),N[0]=z,K--):"intersect"!==x&&(N.unshift(M),K++)),I>Q-3&&(E=Ii(k.target,Z),I===Q-2?"intersect"===E&&(N.pop(),N[N.length-1]=Z):"intersect"!==E&&N.push(R)),C.newWaypoints=k.waypoints=f(k,N),function v(b,x,E){var T,I,M,R,F,N,C=b.newWaypoints,k=(T=E,I=C[b.segmentStartIndex+x],M=C[b.segmentEndIndex+x],R=Ch(b.axis),F=Math.max(I[R],M[R]),N=Math.min(I[R],M[R]),Jm(I,R,Math.min(Math.max(N+20,T[R]),F-20)));Ir(b.draggerGfx,k.x,k.y)}(C,K,b),C.newSegmentStartIndex=T+K,_(b)}),s.on("connectionSegment.move.hover",function(b){b.context.hover=b.hover,c.addMarker(b.hover,tw)}),s.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(b){var x=b.context.hover;x&&c.removeMarker(x,tw)}),s.on("connectionSegment.move.cleanup",function(b){var x=b.context,E=x.connection;x.draggerGfx&&$n(x.draggerGfx),c.removeMarker(E,nw)}),s.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(b){var x=b.context;x.connection.waypoints=x.originalWaypoints,_(b)}),s.on("connectionSegment.move.end",function(b){var x=b.context,E=x.connection,C=x.newWaypoints,k=x.newSegmentStartIndex;C=C.map(function(F){return{original:F.original,x:Math.round(F.x),y:Math.round(F.y)}});var F,N,z,T=(N=k,z=0,{waypoints:(F=C).filter(function(Q,K){return!cn(F[K-1],F[K+1],Q)||(z=K<=N?z-1:z,!1)}),segmentOffset:z}),I=f(E,T.waypoints);h.updateWaypoints(E,I,{segmentMove:{segmentStartIndex:x.segmentStartIndex,newSegmentStartIndex:k+T.segmentOffset}})})}cc.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var aM=Math.abs,iw=Math.round;function cM(r){return{x:r.x,y:r.y}}function rw(r){return{x:r.x+r.width,y:r.y+r.height}}function Yr(r,s){return!r||isNaN(r.x)||isNaN(r.y)?s:{x:iw(r.x+r.width/2),y:iw(r.y+r.height/2)}}function Ld(r,s){var c=r.snapped;return!!c&&("string"==typeof s?c[s]:c.x&&c.y)}function Jn(r,s,c){if("string"!=typeof s)throw new Error("axis must be in [x, y]");if("number"!=typeof c&&!1!==c)throw new Error("value must be Number or false");var l,u=r[s],h=r.snapped=r.snapped||{};return!1===c?h[s]=!1:(h[s]=!0,r[s]+=l=c-u,r["d"+s]+=l),u}function Dh(r){return r.children||[]}var xv=Math.abs,wv=Math.round;function Ev(r){function s(l,u){if(Ae(l)){for(var h=l.length;h--;)if(xv(l[h]-u)<=10)return l[h]}else{var m=u%(l=+l);if(m<10)return u-m;if(m>l-10)return u-m+l}return u}function c(l,u){return l.waypoints?function Qx(r,s){return mv(r,function(l,u){for(var h,m=u.waypoints,f=1/0,_=0;_<m.length-1;_++){var v=fv(l,[m[_],m[_+1]]);v<f&&(f=v,h=_)}return[m[h],m[h+1]]}(r,s))}(u,l):l.width?{x:wv(l.width/2+l.x),y:wv(l.height/2+l.y)}:void 0}r.on("connectionSegment.move.move",1500,function(l){var u,h,m=function(x){var E=x.context,C=E.snapPoints,k=E.connection,T=k.waypoints,M=E.segmentStartIndex,F=E.segmentEndIndex,N=E.axis;if(C)return C;var z=[T[M-1],E.segmentStart,E.segmentEnd,T[F+1]];return M<2&&z.unshift(c(k.source,x)),F>T.length-3&&z.unshift(c(k.target,x)),E.snapPoints=C={horizontal:[],vertical:[]},q(z,function(Z){Z&&(Z=Z.original||Z,"y"===N&&C.horizontal.push(Z.y),"x"===N&&C.vertical.push(Z.x))}),C}(l),f=l.x,_=l.y;if(m){var v=f-(u=s(m.vertical,f)),b=_-(h=s(m.horizontal,_));ee(l,{dx:l.dx-v,dy:l.dy-b,x:u,y:h}),(v||-1!==m.vertical.indexOf(f))&&Jn(l,"x",u),(b||-1!==m.horizontal.indexOf(_))&&Jn(l,"y",h)}}),r.on(["connect.hover","connect.move","connect.end"],1500,function(l){var u,h=l.context.hover,m=h&&c(h,l);(u=h)&&u.waypoints&&m&&m.x&&m.y&&(Jn(l,"x",m.x),Jn(l,"y",m.y))}),r.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(l){var u,h,m=l.context,f=function(k){var T=k.snapPoints,I=k.connection.waypoints,M=k.bendpointIndex;if(T)return T;var R=[I[M-1],I[M+1]];return k.snapPoints=T={horizontal:[],vertical:[]},q(R,function(F){F&&(T.horizontal.push((F=F.original||F).y),T.vertical.push(F.x))}),T}(m),_=m.hover,v=_&&c(_,l),b=l.x,x=l.y;if(f){var E=b-(u=s(v?f.vertical.concat([v.x]):f.vertical,b)),C=x-(h=s(v?f.horizontal.concat([v.y]):f.horizontal,x));ee(l,{dx:l.dx-E,dy:l.dy-C,x:l.x-E,y:l.y-C}),(E||-1!==f.vertical.indexOf(b))&&Jn(l,"x",u),(C||-1!==f.horizontal.indexOf(x))&&Jn(l,"y",h)}})}Ev.$inject=["eventBus"];var ow={__depends__:[va,Is],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",_v],bendpointMove:["type",Pd],bendpointMovePreview:["type",ew],connectionSegmentMove:["type",cc],bendpointSnapping:["type",Ev]};function lc(r,s,c,l){function u(h,m){return l.allowed("connection.create",{source:h,target:m})}r.on("connect.hover",function(h){var m,f=h.context,_=f.start,v=h.hover;if(f.hover=v,!Ht(m=f.canExecute=u(_,v))){if(!1!==m)return f.source=_,void(f.target=v);Ht(m=f.canExecute=u(v,_))||!1!==m&&(f.source=v,f.target=_)}}),r.on(["connect.out","connect.cleanup"],function(h){var m=h.context;m.hover=null,m.source=null,m.target=null,m.canExecute=!1}),r.on("connect.end",function(h){var m=h.context,f=m.canExecute,_=m.connectionStart,v={x:h.x,y:h.y},b=m.source,x=m.target;if(!f)return!1;var E=null,C={connectionStart:Cv(m)?v:_,connectionEnd:Cv(m)?_:v};on(f)&&(E=f),m.connection=c.connect(b,x,E,C)}),this.start=function(h,m,f,_){on(f)||(_=f,f=tt(m)),s.init(h,"connect",{autoActivate:_,data:{shape:m,context:{start:m,connectionStart:f}}})}}function Cv(r){var s=r.hover,c=r.source;return s&&c&&s===c&&c!==r.target}lc.$inject=["eventBus","dragging","modeling","rules"];var sw="connect-ok",aw="connect-not-ok";function cw(r,s,c){var l=r.get("connectionPreview",!1);l&&s.on("connect.move",function(u){var h=u.context,m=h.canExecute,f=h.hover,_=h.source,v=h.start,x=h.target,E=h.connectionStart||h.startPosition,C=h.connectionEnd||{x:u.x,y:u.y},k=E,T=C;Cv(h)&&(k=C,T=E),l.drawPreview(h,m,{source:_||v,target:x||f,connectionStart:k,connectionEnd:T})}),s.on("connect.hover",900,function(u){var f=u.context.canExecute;null!==f&&c.addMarker(u.hover,f?sw:aw)}),s.on(["connect.out","connect.cleanup"],1100,function(u){var h=u.hover;h&&(c.removeMarker(h,sw),c.removeMarker(h,aw))}),l&&s.on("connect.cleanup",function(u){l.cleanUp(u.context)})}cw.$inject=["injector","eventBus","canvas"];var Dv={__depends__:[Jo,Is,va],__init__:["connectPreview"],connect:["type",lc],connectPreview:["type",cw]};function fi(r,s,c,l){this._canvas=s,this._graphicsFactory=c,this._elementFactory=l,this._connectionDocking=r.get("connectionDocking",!1),this._layouter=r.get("layouter",!1)}fi.$inject=["injector","canvas","graphicsFactory","elementFactory"],fi.prototype.drawPreview=function(r,s,c){var l,u,h,m=r.connectionPreviewGfx,f=r.getConnection,_=(c=c||{}).source,v=c.target,b=c.waypoints,x=c.connectionStart,E=c.connectionEnd,C=c.noLayout,k=c.noCropping,T=c.noNoop,I=this;m||(m=r.connectionPreviewGfx=this.createConnectionPreviewGfx()),Bu(m),f||(f=r.getConnection=(u=function(M,R,F){return I.getConnection(M,R,F)},h={},function(M){var R=JSON.stringify(M),F=h[R];return F||(F=h[R]=u.apply(null,arguments)),F})),s&&(l=f(s,_,v)),l?(l.waypoints=b||[],this._layouter&&!C&&(l.waypoints=this._layouter.layoutConnection(l,{source:_,target:v,connectionStart:x,connectionEnd:E,waypoints:c.waypoints||l.waypoints})),l.waypoints&&l.waypoints.length||(l.waypoints=[_?tt(_):x,v?tt(v):E]),this._connectionDocking&&(_||v)&&!k&&(l.waypoints=this._connectionDocking.getCroppedWaypoints(l,_,v)),this._graphicsFactory.drawConnection(m,l)):!T&&this.drawNoopPreview(m,c)},fi.prototype.drawNoopPreview=function(r,s){var c=s.source,l=s.target,u=s.connectionStart||tt(c),h=s.connectionEnd||tt(l),m=this.cropWaypoints(u,h,c,l);rt(r,this.createNoopConnection(m[0],m[1]))},fi.prototype.cropWaypoints=function(r,s,c,l){var u=this._graphicsFactory,h=c&&u.getShapePath(c),m=l&&u.getShapePath(l),f=u.getConnectionPath({waypoints:[r,s]});return[r=c&&dd(h,f,!0)||r,s=l&&dd(m,f,!1)||s]},fi.prototype.cleanUp=function(r){r&&r.connectionPreviewGfx&&$n(r.connectionPreviewGfx)},fi.prototype.getConnection=function(r){var c,s=on(c=r)?c:{};return this._elementFactory.createConnection(s)},fi.prototype.createConnectionPreviewGfx=function(){var r=Ye("g");return ve(r,{pointerEvents:"none"}),Nt(r).add("djs-connection-preview"),rt(this._canvas.getActiveLayer(),r),r},fi.prototype.createNoopConnection=function(r,s){var c=Ye("polyline");return ve(c,{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"}),ve(c,{points:[r.x,r.y,s.x,s.y]}),c};var Os={__init__:["connectionPreview"],connectionPreview:["type",fi]},lw=Math.min,dw=Math.max;function kv(r){r.preventDefault()}function kh(r){r.stopPropagation()}function es(r){this.container=r.container,this.parent=Sn('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=Cn("[contenteditable]",this.parent),this.keyHandler=r.keyHandler||function(){},this.resizeHandler=r.resizeHandler||function(){},this.autoResize=Ne(this.autoResize,this),this.handlePaste=Ne(this.handlePaste,this)}function Vo(r,s){this._eventBus=r,this._providers=[],this._textbox=new es({container:s.getContainer(),keyHandler:Ne(this._handleKey,this),resizeHandler:Ne(this._handleResize,this)})}es.prototype.create=function(r,s,c,l){var u=this.parent,h=this.content,m=this.container;l=this.options=l||{};var f=Ro(s=this.style=s||{},["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);ee(u.style,{width:r.width+"px",height:r.height+"px",maxWidth:r.maxWidth+"px",maxHeight:r.maxHeight+"px",minWidth:r.minWidth+"px",minHeight:r.minHeight+"px",left:r.x+"px",top:r.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},f);var _=Ro(s,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return ee(h.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},_),l.centerVertically&&ee(h.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},_),h.innerText=c,Ke.bind(h,"keydown",this.keyHandler),Ke.bind(h,"mousedown",kh),Ke.bind(h,"paste",this.handlePaste),l.autoResize&&Ke.bind(h,"input",this.autoResize),l.resizable&&this.resizable(s),m.appendChild(u),this.setSelection(h.lastChild,h.lastChild&&h.lastChild.length),u},es.prototype.handlePaste=function(r){var s,c=this.options,l=this.style;if(r.preventDefault(),s=r.clipboardData?r.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(s),c.autoResize){var u=this.autoResize(l);u&&this.resizeHandler(u)}},es.prototype.insertText=function(r){r=r.replace(/\r\n|\r|\n/g,"\n"),document.execCommand("insertText",!1,r)||this._insertTextIE(r)},es.prototype._insertTextIE=function(r){var c,l,u=this.getSelection(),h=u.startContainer,m=u.endContainer,f=u.startOffset,_=u.endOffset,v=u.commonAncestorContainer,b=[].slice.call(v.childNodes);if(v.nodeType===Node.TEXT_NODE){var x=h.textContent;h.textContent=x.substring(0,f)+r+x.substring(_),c=h,l=f+r.length}else if(h===this.content&&m===this.content){var E=document.createTextNode(r);this.content.insertBefore(E,b[f]),c=E,l=E.textContent.length}else{var C=b.indexOf(h),k=b.indexOf(m);b.forEach(function(T,I){I===C?T.textContent=h.textContent.substring(0,f)+r+m.textContent.substring(_):I>C&&I<=k&&na(T)}),c=h,l=f+r.length}c&&void 0!==l&&setTimeout(function(){self.setSelection(c,l)})},es.prototype.autoResize=function(){var r=this.parent,s=this.content,c=parseInt(this.style.fontSize)||12;if(s.scrollHeight>r.offsetHeight||s.scrollHeight<r.offsetHeight-c){var l=r.getBoundingClientRect(),u=s.scrollHeight;r.style.height=u+"px",this.resizeHandler({width:l.width,height:l.height,dx:0,dy:u-l.height})}},es.prototype.resizable=function(){var r=this,s=this.parent,c=this.resizeHandle,l=parseInt(this.style.minWidth)||0,u=parseInt(this.style.minHeight)||0,h=parseInt(this.style.maxWidth)||1/0,m=parseInt(this.style.maxHeight)||1/0;if(!c){var f,_,v,b;c=this.resizeHandle=Sn('<div class="djs-direct-editing-resize-handle"></div>');var x=function(C){kv(C),kh(C);var k=lw(dw(v+C.clientX-f,l),h),T=lw(dw(b+C.clientY-_,u),m);s.style.width=k+"px",s.style.height=T+"px",r.resizeHandler({width:v,height:b,dx:C.clientX-f,dy:C.clientY-_})},E=function(C){kv(C),kh(C),Ke.unbind(document,"mousemove",x,!1),Ke.unbind(document,"mouseup",E,!1)};Ke.bind(c,"mousedown",function(C){kv(C),kh(C),f=C.clientX,_=C.clientY;var k=s.getBoundingClientRect();v=k.width,b=k.height,Ke.bind(document,"mousemove",x),Ke.bind(document,"mouseup",E)})}ee(c.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),s.appendChild(c)},es.prototype.destroy=function(){var r=this.parent,s=this.content,c=this.resizeHandle;s.innerText="",r.removeAttribute("style"),s.removeAttribute("style"),Ke.unbind(s,"keydown",this.keyHandler),Ke.unbind(s,"mousedown",kh),Ke.unbind(s,"input",this.autoResize),Ke.unbind(s,"paste",this.handlePaste),c&&(c.removeAttribute("style"),na(c)),na(r)},es.prototype.getValue=function(){return this.content.innerText.trim()},es.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},es.prototype.setSelection=function(r,s){var c=document.createRange();null===r?c.selectNodeContents(this.content):(c.setStart(r,s),c.setEnd(r,s));var l=window.getSelection();l.removeAllRanges(),l.addRange(c)},Vo.$inject=["eventBus","canvas"],Vo.prototype.registerProvider=function(r){this._providers.push(r)},Vo.prototype.isActive=function(r){return!(!this._active||r&&this._active.element!==r)},Vo.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},Vo.prototype._fire=function(r,s){this._eventBus.fire("directEditing."+r,s||{active:this._active})},Vo.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},Vo.prototype.complete=function(){var r=this._active;if(r){var s,c=r.context.bounds,l=this.$textbox.getBoundingClientRect(),u=this.getValue();u===r.context.text&&l.height===c.height&&l.width===c.width||(s=this._textbox.container.getBoundingClientRect(),r.provider.update(r.element,u,r.context.text,{x:l.left-s.left,y:l.top-s.top,width:l.width,height:l.height})),this._fire("complete"),this.close()}},Vo.prototype.getValue=function(){return this._textbox.getValue()},Vo.prototype._handleKey=function(r){r.stopPropagation();var s=r.keyCode||r.charCode;return 27===s?(r.preventDefault(),this.cancel()):13!==s||r.shiftKey?void 0:(r.preventDefault(),this.complete())},Vo.prototype._handleResize=function(r){this._fire("resize",r)},Vo.prototype.activate=function(r){var s;this.isActive()&&this.cancel();var c=wt(this._providers,function(l){return(s=l.activate(r))?l:null});return s&&(this.$textbox=this._textbox.create(s.bounds,s.style,s.text,s.options),this._active={element:r,context:s,provider:c},s.options&&s.options.resizable&&(this.resizable=!0),this._fire("activate")),!!s};var Mv={__depends__:[ih],__init__:["directEditing"],directEditing:["type",Vo]},lM=["marker-start","marker-mid","marker-end"],dM=["circle","ellipse","line","path","polygon","polyline","rect"];function ml(r,s,c,l){this._elementRegistry=r,this._canvas=c,this._styles=l,this._clonedMarkers={};var u=this;s.on("drag.cleanup",function(){q(u._clonedMarkers,function(h){$n(h)}),u._clonedMarkers={}})}ml.$inject=["elementRegistry","eventBus","canvas","styles"],ml.prototype.getGfx=function(r){return this._elementRegistry.getGraphics(r)},ml.prototype.addDragger=function(r,s,c){var l=fr(c=c||this.getGfx(r)),u=c.getBoundingClientRect();return this._cloneMarkers(kt(l)),ve(l,this._styles.cls("djs-dragger",[],{x:u.top,y:u.left})),rt(s,l),l},ml.prototype.addFrame=function(r,s){var c=Ye("rect",{class:"djs-resize-overlay",width:r.width,height:r.height,x:r.x,y:r.y});return rt(s,c),c},ml.prototype._cloneMarkers=function(r){var s=this;if(r.childNodes)for(var c=0;c<r.childNodes.length;c++)s._cloneMarkers(r.childNodes[c]);-1!==dM.indexOf(r.nodeName)&&lM.forEach(function(l){if(ve(r,l)){var u=(h=r,m=l,f=s._canvas.getContainer(),Cn("marker#"+ve(h,m).match(/url\(['"]?#([^'"]*)['"]?\)/)[1],f||document));s._cloneMarker(r,u,l)}var h,m,f})},ml.prototype._cloneMarker=function(r,s,c){var l=s.id,u=this._clonedMarkers[l];if(!u){var h=l+"-clone";(u=fr(s)).id=h,Nt(u).add("djs-dragger").add("djs-dragger-marker"),this._clonedMarkers[l]=u;var m=Cn("defs",this._canvas._svg);m||(m=Ye("defs"),rt(this._canvas._svg,m)),rt(m,u)}ve(r,c,"url(#"+this._clonedMarkers[l].id+")")};var Mh={__init__:["previewSupport"],previewSupport:["type",ml]},tf="drop-ok",Ps="drop-not-ok",Bd="attach-ok",Sv="new-parent";function Av(r,s,c,l,u){function h(f,_){[Bd,tf,Ps,Sv].forEach(function(v){v===_?r.addMarker(f,v):r.removeMarker(f,v)})}function m(){var f=s.context();f&&"create"===f.prefix&&s.cancel()}c.on(["create.move","create.hover"],function(f){var _=f.context,v=_.elements,b=f.hover,x=_.source,E=_.hints||{};if(!b)return _.canExecute=!1,void(_.target=null);uM(f);var k=_.canExecute=b&&function(T,I,M,R,F){if(!I)return!1;var N=wt(T=pt(T,function(ie){var Oe;return!(ie.parent||(Oe=ie,Oe.labelTarget&&-1!==T.indexOf(ie.labelTarget)))}),function(ie){return!nf(ie)}),z=!1,Z=!1,Q=!1;hM(T)&&(z=u.allowed("shape.attach",{position:M,shape:N,target:I})),z||(Q=hM(T)?u.allowed("shape.create",{position:M,shape:N,source:R,target:I}):u.allowed("elements.create",{elements:T,position:M,target:I}));var K=F.connectionTarget;return Q||z?(N&&R&&(Z=u.allowed("connection.create",{source:K===R?N:R,target:K===R?R:N,hints:{targetParent:I,targetAttach:z}})),{attach:z,connect:Z}):(null===Q||null===z)&&null}(v,b,{x:f.x,y:f.y},x,E);b&&null!==k&&(_.target=b,h(b,k&&k.attach?Bd:k?Sv:Ps))}),c.on(["create.end","create.out","create.cleanup"],function(f){var _=f.hover;_&&h(_,null)}),c.on("create.end",function(f){var _=f.context,v=_.source,b=_.shape,x=_.elements,E=_.target,C=_.canExecute,k=C&&C.attach,T=C&&C.connect,I=_.hints||{};if(!1===C||!E)return!1;uM(f);var M={x:f.x,y:f.y};b=T?l.appendShape(v,b,M,E,{attach:k,connection:!0===T?{}:T,connectionTarget:I.connectionTarget}):wt(x=l.createElements(x,M,E,ee({},I,{attach:k})),function(R){return!nf(R)}),ee(_,{elements:x,shape:b}),ee(f,{elements:x,shape:b})}),c.on("create.init",function(){c.on("elements.changed",m),c.once(["create.cancel","create.end"],2e3,function(){c.off("elements.changed",m)})}),this.start=function(f,_,v){Ae(_)||(_=[_]);var b=wt(_,function(E){return!nf(E)});if(b){v=ee({elements:_,hints:{},shape:b},v||{}),q(_,function(E){Re(E.x)||(E.x=0),Re(E.y)||(E.y=0)});var x=ri(pt(_,function(E){return!E.hidden}));q(_,function(E){nf(E)&&(E.waypoints=ii(E.waypoints,function(C){return{x:C.x-x.x-x.width/2,y:C.y-x.y-x.height/2}})),ee(E,{x:E.x-x.x-x.width/2,y:E.y-x.y-x.height/2})}),s.init(f,"create",{cursor:"grabbing",autoActivate:!0,data:{shape:b,elements:_,context:v}})}}}function uM(r){var s=r.context.createConstraints;s&&(s.left&&(r.x=Math.max(r.x,s.left)),s.right&&(r.x=Math.min(r.x,s.right)),s.top&&(r.y=Math.max(r.y,s.top)),s.bottom&&(r.y=Math.min(r.y,s.bottom)))}function nf(r){return!!r.waypoints}function hM(r){return r&&1===r.length&&!nf(r[0])}function rf(r,s,c,l,u){s.on("create.move",750,function(h){var m=h.hover,f=h.context,v=f.dragGroup;v||(v=f.dragGroup=function(b){var x=Ye("g");ve(x,u.cls("djs-drag-group",["no-events"]));var E=Ye("g");return b.forEach(function(C){var k;C.hidden||(C.waypoints?(k=c._createContainer("connection",E),c.drawConnection(kt(k),C)):(k=c._createContainer("shape",E),c.drawShape(kt(k),C),Ir(k,C.x,C.y)),l.addDragger(C,x,k))}),x}(f.elements)),m?(v.parentNode||rt(r.getActiveLayer(),v),Ir(v,h.x,h.y)):$n(v)}),s.on("create.cleanup",function(h){var m=h.context.dragGroup;m&&$n(m)})}Av.$inject=["canvas","dragging","eventBus","modeling","rules"],rf.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];var Vd={__depends__:[va,Mh,Is,Jo],__init__:["create","createPreview"],create:["type",Av],createPreview:["type",rf]};function sf(){}sf.prototype.get=function(){return this._data},sf.prototype.set=function(r){this._data=r},sf.prototype.clear=function(){var r=this._data;return delete this._data,r},sf.prototype.isEmpty=function(){return!this._data};var s2={clipboard:["type",sf]};function af(r){var s=this;function c(l){s._lastMoveEvent=l}this._lastMoveEvent=null,r.on("canvas.init",function(l){(s._svg=l.svg).addEventListener("mousemove",c)}),r.on("canvas.destroy",function(){s._lastMouseEvent=null,s._svg.removeEventListener("mousemove",c)})}af.$inject=["eventBus"],af.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||((c=document.createEvent("MouseEvent")).initMouseEvent&&c.initMouseEvent("mousemove",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c);var c};var Sh={__init__:["mouse"],mouse:["type",af]};function ts(r,s,c,l,u,h,m,f){this._canvas=r,this._create=s,this._clipboard=c,this._elementFactory=l,this._eventBus=u,this._modeling=h,this._mouse=m,this._rules=f,u.on("copyPaste.copyElement",function(_){var v=_.descriptor,b=_.element,x=_.elements;v.priority=1,v.id=b.id;var E=wt(x,function(C){return C===b.parent});E&&(v.parent=b.parent.id),!!b.host&&(v.priority=2,v.host=b.host.id),cf(b)&&(v.priority=3,v.source=b.source.id,v.target=b.target.id,v.waypoints=ii(b.waypoints,function(k){return(k=Rv(k)).original&&(k.original=Rv(k.original)),k})),lf(b)&&(v.priority=4,v.labelTarget=b.labelTarget.id),q(["x","y","width","height"],function(C){Re(b[C])&&(v[C]=b[C])}),v.hidden=b.hidden,v.collapsed=b.collapsed}),u.on("copyPaste.pasteElements",function(_){ee(_.hints,{createElementsBehavior:!1})})}function cf(r){return!!r.waypoints}function lf(r){return!!r.labelTarget}function Rv(r){return ee({},r)}ts.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],ts.prototype.copy=function(r){var s,c;return Ae(r)||(r=r?[r]:[]),c=!1===(s=this._eventBus.fire("copyPaste.canCopyElements",{elements:r}))?{}:this.createTree(Ae(s)?s:r),this._clipboard.set(c),this._eventBus.fire("copyPaste.elementsCopied",{elements:r,tree:c}),c},ts.prototype.paste=function(r){var s=this._clipboard.get();if(!this._clipboard.isEmpty()){var c=r&&r.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:c});var l=this._createElements(s);if(r&&r.element&&r.point)return this._paste(l,r.element,r.point,c);this._create.start(this._mouse.getLastMoveEvent(),l,{hints:c||{}})}},ts.prototype._paste=function(r,s,c,l){q(r,function(h){Re(h.x)||(h.x=0),Re(h.y)||(h.y=0)});var u=ri(r);return q(r,function(h){cf(h)&&(h.waypoints=ii(h.waypoints,function(m){return{x:m.x-u.x-u.width/2,y:m.y-u.y-u.height/2}})),ee(h,{x:h.x-u.x-u.width/2,y:h.y-u.y-u.height/2})}),this._modeling.createElements(r,c,s,ee({},l))},ts.prototype._createElements=function(r){var s=this,c=this._eventBus,l={},u=[];return q(r,function(h,m){q(h=Yo(h,"priority"),function(f){var _,v=ee({},an(f,["priority"]));return l[f.parent]?v.parent=l[f.parent]:delete v.parent,c.fire("copyPaste.pasteElement",{cache:l,descriptor:v}),cf(v)?(v.source=l[f.source],v.target=l[f.target],_=l[f.id]=s.createConnection(v),void u.push(_)):lf(v)?(v.labelTarget=l[v.labelTarget],_=l[f.id]=s.createLabel(v),void u.push(_)):(v.host&&(v.host=l[v.host]),_=l[f.id]=s.createShape(v),void u.push(_))})}),u},ts.prototype.createConnection=function(r){return this._elementFactory.createConnection(an(r,["id"]))},ts.prototype.createLabel=function(r){return this._elementFactory.createLabel(an(r,["id"]))},ts.prototype.createShape=function(r){return this._elementFactory.createShape(an(r,["id"]))},ts.prototype.hasRelations=function(r,s){var c,l;return!(cf(r)&&(c=wt(s,Ao({id:r.source.id})),l=wt(s,Ao({id:r.target.id})),!c||!l)||lf(r)&&!wt(s,Ao({id:r.labelTarget.id})))},ts.prototype.createTree=function(r){var s=this._rules,c=this,l={},u=[];function h(m,f){var b,x,_=wt(u,function(v){return m===v.element});_?_.depth<f&&(-1!==(x=(b=u).indexOf(_))&&b.splice(x,1),(u=b).push({element:_.element,depth:f})):u.push({element:m,depth:f})}return Xt(cd(r),function(m,f,_){if(!lf(m)){q(m.labels,function(b){h(b,_)}),q([m.attachers,m.incoming,m.outgoing],function(b){b&&b.length&&q(b,function(x){q(x.labels,function(E){h(E,_)}),h(x,_)})}),h(m,_);var v=[];return m.children&&(v=m.children.slice()),c._eventBus.fire("copyPaste.createTree",{element:m,children:v}),v}}),r=ii(u,function(m){return m.element}),u=Yo(u=ii(u,function(m){return m.descriptor={},c._eventBus.fire("copyPaste.copyElement",{descriptor:m.descriptor,element:m.element,elements:r}),m}),function(m){return m.descriptor.priority}),r=ii(u,function(m){return m.element}),q(u,function(m){var f=m.depth;c.hasRelations(m.element,r)&&s.allowed("element.copy",{element:m.element,elements:r})?(l[f]||(l[f]=[]),l[f].push(m.descriptor)):function Th(r,s){var c=s.indexOf(r);return-1===c?s:s.splice(c,1)}(m.element,r)}),l};var uw={__depends__:[s2,Vd,Sh,Is],__init__:["copyPaste"],copyPaste:["type",ts]};function Ah(r,s,c){Ae(c)||(c=[c]),q(c,function(l){pr(r[l])||(s[l]=r[l])})}function hw(r,s,c){function l(h,m){var f=r.create(h.$type);return c.copyElement(h,f,null,m)}s.on("copyPaste.copyElement",750,function(h){var m=h.descriptor,f=h.element,_=Ie(f);if(pn(f))return m;var v=m.businessObject=l(_,!0),b=m.di=l(st(f),!0);b.bpmnElement=v,Ah(v,m,"name"),Ah(b,m,"isExpanded"),_.default&&(m.default=_.default.id)});var u="-bpmn-js-refs";s.on("copyPaste.pasteElement",function(h){var m=h.cache,f=h.descriptor,_=f.businessObject,v=f.di;if(pn(f))return f.businessObject=Ie(m[f.labelTarget]),void(f.di=st(m[f.labelTarget]));_=f.businessObject=l(_),(v=f.di=l(v)).bpmnElement=_,Ah(f,_,["isExpanded","name"]),f.type=_.$type}),s.on("copyPaste.copyElement",750,function(h){var m=h.descriptor,f=h.element;if(P(f,"bpmn:Participant")){var _=Ie(f);_.processRef&&(m.processRef=l(_.processRef,!0))}}),s.on("copyPaste.pasteElement",function(h){var m=h.descriptor,f=m.processRef;f&&(m.processRef=l(f))}),s.on("copyPaste.pasteElement",750,function(h){var f,m=h.cache;!function(f,_){f[u]=_}(m,function(f,_,v){var b=Ie(f);return f.default&&(v[f.default]={element:b,property:"default"}),f.host&&(Ie(f).attachedToRef=Ie(_[f.host])),an(v,mr(v,function(x,E,C){return C===f.id&&(E.element[E.property]=b,x.push(f.id)),x},[]))}(h.descriptor,m,(f=m,f[u]=f[u]||{})))})}function pn(r){return!!r.labelTarget}hw.$inject=["bpmnFactory","eventBus","moddleCopy"];var pM=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing","categoryValue"];function Rh(r,s,c){this._bpmnFactory=s,this._eventBus=r,this._moddle=c,r.on("moddleCopy.canCopyProperties",function(l){var u=l.propertyNames;if(u&&u.length)return Yo(u,function(h){return"extensionElements"===h})}),r.on("moddleCopy.canCopyProperty",function(l){var u=l.parent,h=on(u)&&u.$descriptor,m=l.propertyName;return(!m||-1===pM.indexOf(m))&&!(m&&h&&!wt(h.properties,Ao({name:m})))&&void 0}),r.on("moddleCopy.canSetCopiedProperty",function(l){var u,m=l.property;if((u=m)&&"function"==typeof u.$instanceOf&&u.$instanceOf("bpmn:ExtensionElements")&&(!m.values||!m.values.length))return!1})}function df(r,s){return mr(r.properties,function(c,l){return s&&l.default?c:c.concat(l.name)},[])}Rh.$inject=["eventBus","bpmnFactory","moddle"],Rh.prototype.copyElement=function(r,s,c,l){var u=this;c&&!Ae(c)&&(c=[c]),c=c||df(r.$descriptor);var h=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:c,sourceElement:r,targetElement:s,clone:l});return!1===h||(Ae(h)&&(c=h),q(c,function(m){var f;Sr(r,m)&&(f=r.get(m));var _=u.copyProperty(f,s,m,l);_n(_)&&!1!==u._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:s,property:_,propertyName:m})&&s.set(m,_)})),s},Rh.prototype.copyProperty=function(r,s,c,l){var u=this,h=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:s,property:r,propertyName:c,clone:l});if(!1!==h){if(h)return on(h)&&h.$type&&!h.$parent&&(h.$parent=s),h;var m=this._moddle.getPropertyDescriptor(s,c);if(!m.isReference)return m.isId?r&&this._copyId(r,s,l):Ae(r)?mr(r,function(f,_){return(h=u.copyProperty(_,s,c,l))?f.concat(h):f},[]):on(r)&&r.$type?this._moddle.getElementDescriptor(r).isGeneric?void 0:((h=u._bpmnFactory.create(r.$type)).$parent=s,h=u.copyElement(r,h,null,l)):r}},Rh.prototype._copyId=function(r,s,c){return c?r:this._moddle.ids.assigned(r)?void 0:(this._moddle.ids.claim(r,s),r)};var Iv={__depends__:[uw],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",hw],moddleCopy:["type",Rh]},pw=Math.round;function Ov(r){this._modeling=r}Ov.$inject=["modeling"],Ov.prototype.replaceElement=function(r,s,c){if(r.waypoints)return null;var l=this._modeling,u=s.width||r.width,h=s.height||r.height,f=s.y||r.y,_=pw((s.x||r.x)+u/2),v=pw(f+h/2);return l.replaceShape(r,ee({},s,{x:_,y:v,width:u,height:h}),c)};var mM={__init__:["replace"],replace:["type",Ov]},fM=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function Pv(r,s,c,l,u,h,m){this.replaceElement=function(f,_,v){v=v||{};var N,z,Z,b=_.type,x=f.businessObject;if(Fv(x)&&"bpmn:SubProcess"===b&&(z=_,(Z=(N=f)&&Sr(N,"collapsed")?N.collapsed:!zt(N))!==(z&&(Sr(z,"collapsed")||Sr(z,"isExpanded"))?Sr(z,"collapsed")?z.collapsed:!z.isExpanded:Z)))return l.toggleCollapse(f),f;var E=r.create(b),C={type:b,businessObject:E,di:{}};!function(N,z,Z){Ae(Z)||(Z=[Z]),q(Z,function(Q){pr(N[Q])||(z[Q]=N[Q])})}(f.di,C.di,["fill","stroke","background-color","border-color","color"]);var k,T=df(x.$descriptor),I=df(E.$descriptor,!0),M=(k=I,T.filter(function(N){return-1!==k.indexOf(N)}));ee(E,Ro(_,fM));var R=pt(M,function(N){return"eventDefinitions"===N?gM(f,_.eventDefinitionType):"loopCharacteristics"===N?!mo(E):!Sr(E,N)&&("processRef"!==N||!1!==_.isExpanded)&&"triggeredByEvent"!==N});if(E=c.copyElement(x,E,R),_.eventDefinitionType&&(gM(E,_.eventDefinitionType)||(C.eventDefinitionType=_.eventDefinitionType,C.eventDefinitionAttrs=_.eventDefinitionAttrs)),P(x,"bpmn:Activity")){if(Fv(x))C.isExpanded=zt(f);else if(_&&Sr(_,"isExpanded")){C.isExpanded=_.isExpanded;var F=s.getDefaultSize(E,{isExpanded:C.isExpanded});C.width=F.width,C.height=F.height,C.x=f.x-(C.width-f.width)/2,C.y=f.y-(C.height-f.height)/2}zt(f)&&!P(x,"bpmn:Task")&&C.isExpanded&&(C.width=f.width,C.height=f.height)}return Fv(x)&&!Fv(E)&&(v.moveChildren=!1),P(x,"bpmn:Participant")&&(!0===_.isExpanded?E.processRef=r.create("bpmn:Process"):v.moveChildren=!1,C.width=f.width,C.height=s.getDefaultSize(C).height),h.allowed("shape.resize",{shape:E})||(C.height=s.getDefaultSize(C).height,C.width=s.getDefaultSize(C).width),E.name=x.name,Bt(x,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&Bt(E,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(E.default=x.default),_.host&&!P(x,"bpmn:BoundaryEvent")&&P(E,"bpmn:BoundaryEvent")&&(C.host=_.host),"bpmn:DataStoreReference"!==C.type&&"bpmn:DataObjectReference"!==C.type||(C.x=f.x+(f.width-C.width)/2),C=u.replaceElement(f,C,v),!1!==v.select&&m.select(C),C}}function Fv(r){return P(r,"bpmn:SubProcess")}function gM(r,s){var c=Ie(r);return s&&c.get("eventDefinitions").some(function(l){return P(l,s)})}Pv.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules","selection"];var jd={__depends__:[Iv,mM,Jo],bpmnReplace:["type",Pv]};function Ih(r){return function(s){var c=s.target,l=Ie(r),u=l.eventDefinitions&&l.eventDefinitions[0],h=l.$type===c.type,m=(u&&u.$type)===c.eventDefinitionType,f=!!c.triggeredByEvent==!!l.triggeredByEvent,_=void 0===c.isExpanded||c.isExpanded===zt(r);return!(h&&m&&f&&_)}}var mw=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],fw=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],gw=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message Intermediate Catch Event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message Intermediate Throw Event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Intermediate Catch Event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Intermediate Throw Event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Intermediate Catch Event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link Intermediate Catch Event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link Intermediate Throw Event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation Intermediate Throw Event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal Intermediate Catch Event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal Intermediate Throw Event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],a2=[{label:"Start Event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate Throw Event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End Event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message End Event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation End Event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error End Event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel End Event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation End Event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal End Event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate End Event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],_M=[{label:"Exclusive Gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel Gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive Gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex Gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event based Gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],_w=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],Nv=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Sub Process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Event Sub Process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],Lv=Nv,vM=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"Send Task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive Task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"User Task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Manual Task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business Rule Task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Service Task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Script Task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call Activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub Process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub Process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}}],Bv=[{label:"Data Store Reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],yM=[{label:"Data Object Reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],Vv=[{label:"Message Boundary Event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Boundary Event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation Boundary Event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional Boundary Event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Error Boundary Event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel Boundary Event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Signal Boundary Event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Compensation Boundary Event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal Boundary Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],vw=[{label:"Message Start Event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer Start Event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional Start Event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal Start Event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Error Start Event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Escalation Start Event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Compensation Start Event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Message Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation Start Event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],yw=[{label:"Sequence Flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default Flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional Flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],fl=[{label:"Expanded Pool",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(r){var s="Empty Pool";return r.children&&r.children.length&&(s+=" (removes content)"),s},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}];function jo(r,s,c,l,u,h,m){this._bpmnFactory=r,this._popupMenu=s,this._modeling=c,this._moddle=l,this._bpmnReplace=u,this._rules=h,this._translate=m,this.register()}jo.$inject=["bpmnFactory","popupMenu","modeling","moddle","bpmnReplace","rules","translate"],jo.prototype.register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},jo.prototype.getEntries=function(r){var s,c=r.businessObject;if(!this._rules.allowed("shape.replace",{element:r}))return[];var l=Ih(r);return P(c,"bpmn:DataObjectReference")?this._createEntries(r,Bv):P(c,"bpmn:DataStoreReference")&&!P(r.parent,"bpmn:Collaboration")?this._createEntries(r,yM):P(c,"bpmn:StartEvent")&&!P(c.$parent,"bpmn:SubProcess")?(s=pt(mw,l),this._createEntries(r,s)):P(c,"bpmn:Participant")?(s=pt(fl,function(u){return zt(r)!==u.target.isExpanded}),this._createEntries(r,s)):P(c,"bpmn:StartEvent")&&mo(c.$parent)?(s=pt(vw,function(u){var h=!1!==u.target.isInterrupting,m=Ie(r).isInterrupting===h;return l(u)||!l(u)&&!m}),this._createEntries(r,s)):P(c,"bpmn:StartEvent")&&!mo(c.$parent)&&P(c.$parent,"bpmn:SubProcess")?(s=pt(fw,l),this._createEntries(r,s)):P(c,"bpmn:EndEvent")?(s=pt(a2,function(u){return!("bpmn:CancelEventDefinition"==u.target.eventDefinitionType&&!P(c.$parent,"bpmn:Transaction"))&&l(u)}),this._createEntries(r,s)):P(c,"bpmn:BoundaryEvent")?(s=pt(Vv,function(u){var h=u.target;if("bpmn:CancelEventDefinition"==h.eventDefinitionType&&!P(c.attachedToRef,"bpmn:Transaction"))return!1;var f=c.cancelActivity==(!1!==h.cancelActivity);return l(u)||!l(u)&&!f}),this._createEntries(r,s)):P(c,"bpmn:IntermediateCatchEvent")||P(c,"bpmn:IntermediateThrowEvent")?(s=pt(gw,l),this._createEntries(r,s)):P(c,"bpmn:Gateway")?(s=pt(_M,l),this._createEntries(r,s)):P(c,"bpmn:Transaction")?(s=pt(Nv,l),this._createEntries(r,s)):mo(c)&&zt(r)?(s=pt(Lv,l),this._createEntries(r,s)):P(c,"bpmn:SubProcess")&&zt(r)?(s=pt(_w,l),this._createEntries(r,s)):P(c,"bpmn:AdHocSubProcess")&&!zt(r)?(s=pt(vM,function(u){var h=u.target,m="bpmn:SubProcess"===h.type,f=!0===h.isExpanded;return Ih(r)&&(!m||f)}),this._createEntries(r,s)):P(c,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(r,yw):P(c,"bpmn:FlowNode")?(s=pt(vM,l),P(c,"bpmn:SubProcess")&&!zt(r)&&(s=pt(s,function(u){return"Sub Process (collapsed)"!==u.label})),this._createEntries(r,s)):[]},jo.prototype.getHeaderEntries=function(r){var s=[];return P(r,"bpmn:Activity")&&!mo(r)&&(s=s.concat(this._getLoopEntries(r))),P(r,"bpmn:DataObjectReference")&&(s=s.concat(this._getDataObjectIsCollection(r))),P(r,"bpmn:Participant")&&(s=s.concat(this._getParticipantMultiplicity(r))),!P(r,"bpmn:SubProcess")||P(r,"bpmn:Transaction")||mo(r)||s.push(this._getAdHocEntry(r)),s},jo.prototype._createEntries=function(r,s){var c=[],l=this;return q(s,function(u){var h=l._createMenuEntry(u,r);c.push(h)}),c},jo.prototype._createSequenceFlowEntries=function(r,s){var c=Ie(r),l=[],u=this._modeling,h=this._moddle,m=this;return q(s,function(f){switch(f.actionName){case"replace-with-default-flow":c.sourceRef.default!==c&&(P(c.sourceRef,"bpmn:ExclusiveGateway")||P(c.sourceRef,"bpmn:InclusiveGateway")||P(c.sourceRef,"bpmn:ComplexGateway")||P(c.sourceRef,"bpmn:Activity"))&&l.push(m._createMenuEntry(f,r,function(){u.updateProperties(r.source,{default:c})}));break;case"replace-with-conditional-flow":!c.conditionExpression&&P(c.sourceRef,"bpmn:Activity")&&l.push(m._createMenuEntry(f,r,function(){var _=h.create("bpmn:FormalExpression",{body:""});u.updateProperties(r,{conditionExpression:_})}));break;default:if(P(c.sourceRef,"bpmn:Activity")&&c.conditionExpression)return l.push(m._createMenuEntry(f,r,function(){u.updateProperties(r,{conditionExpression:void 0})}));if((P(c.sourceRef,"bpmn:ExclusiveGateway")||P(c.sourceRef,"bpmn:InclusiveGateway")||P(c.sourceRef,"bpmn:ComplexGateway")||P(c.sourceRef,"bpmn:Activity"))&&c.sourceRef.default===c)return l.push(m._createMenuEntry(f,r,function(){u.updateProperties(r.source,{default:void 0})}))}}),l},jo.prototype._createMenuEntry=function(r,s,c){var l=this._translate,u=this._bpmnReplace.replaceElement,h=r.label;return h&&"function"==typeof h&&(h=h(s)),c=c||function(){return u(s,r.target)},{label:l(h),className:r.className,id:r.actionName,action:c}},jo.prototype._getLoopEntries=function(r){var s=this,c=this._translate;function l(_,v){var b=Ie(r).loopCharacteristics;v.active?b=void 0:(!pr(v.options.isSequential)&&b&&P(b,v.options.loopCharacteristics)||(b=s._moddle.create(v.options.loopCharacteristics)),b.isSequential=v.options.isSequential),s._modeling.updateProperties(r,{loopCharacteristics:b})}var u,h,m,f=Ie(r).loopCharacteristics;return f&&(u=f.isSequential,h=void 0===f.isSequential,m=void 0!==f.isSequential&&!f.isSequential),[{id:"toggle-parallel-mi",className:"bpmn-icon-parallel-mi-marker",title:c("Parallel Multi Instance"),active:m,action:l,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},{id:"toggle-sequential-mi",className:"bpmn-icon-sequential-mi-marker",title:c("Sequential Multi Instance"),active:u,action:l,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},{id:"toggle-loop",className:"bpmn-icon-loop-marker",title:c("Loop"),active:h,action:l,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}]},jo.prototype._getDataObjectIsCollection=function(r){var s=this,l=r.businessObject.dataObjectRef,u=l.isCollection;return[{id:"toggle-is-collection",className:"bpmn-icon-parallel-mi-marker",title:(0,this._translate)("Collection"),active:u,action:function(h,m){s._modeling.updateModdleProperties(r,l,{isCollection:!m.active})}}]},jo.prototype._getParticipantMultiplicity=function(r){var s=this,c=this._bpmnFactory,u=r.businessObject.participantMultiplicity;return[{id:"toggle-participant-multiplicity",className:"bpmn-icon-parallel-mi-marker",title:(0,this._translate)("Participant Multiplicity"),active:!!u,action:function(m,f){var _;f.active||(_=c.create("bpmn:ParticipantMultiplicity")),s._modeling.updateProperties(r,{participantMultiplicity:_})}}]},jo.prototype._getAdHocEntry=function(r){var s=this._translate,c=P(Ie(r),"bpmn:AdHocSubProcess"),l=this._bpmnReplace.replaceElement;return{id:"toggle-adhoc",className:"bpmn-icon-ad-hoc-marker",title:s("Ad-hoc"),active:c,action:function(u,h){return l(r,c?{type:"bpmn:SubProcess"}:{type:"bpmn:AdHocSubProcess"},{autoResize:!1,layoutConnection:!1})}}};var jv={__depends__:[ov,jd],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",jo]},gl=Math.max,uf=Math.min;function hf(r,s){return{top:r.top-s.top,right:r.right-s.right,bottom:r.bottom-s.bottom,left:r.left-s.left}}function _l(r,s,c){var l=s[r],u=c.min&&c.min[r],h=c.max&&c.max[r];return Re(u)&&(l=(/top|left/.test(r)?uf:gl)(l,u)),Re(h)&&(l=(/top|left/.test(r)?gl:uf)(l,h)),l}function _o(r,s){return void 0!==r?r:20}function bw(r){return!r.waypoints&&"label"!==r.type}function pf(r,s){var c,l,u,h,m,f,_;if((c=void 0===r.length?pt(r.children,bw):r).length)return l=ri(c),"object"==typeof(u=s)?(h=_o(u.left),m=_o(u.right),f=_o(u.top),_=_o(u.bottom)):h=m=f=_=_o(u),{x:l.x-h,y:l.y-f,width:l.width+h+m,height:l.height+f+_}}var mf=Math.abs,bM=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"];function ba(r,s){return s=s||[],r.children.filter(function(c){P(c,"bpmn:Lane")&&(ba(c,s),s.push(c))}),s}function yl(r){return r.children.filter(function(s){return P(s,"bpmn:Lane")})}function ns(r){return Gm(r,bM)||r}function bl(r,s,c,l,u,h,m,f,_,v,b,x){r=r||{},l.registerProvider(this),this._contextPad=l,this._modeling=u,this._elementFactory=h,this._connect=m,this._create=f,this._popupMenu=_,this._canvas=v,this._rules=b,this._translate=x,!1!==r.autoPlace&&(this._autoPlace=s.get("autoPlace",!1)),c.on("create.end",250,function(E){var C=E.context.shape;if(gd(E)&&l.isOpen(C)){var k=l.getEntries(C);k.replace&&k.replace.action.click(E,C)}})}function xw(r,s,c){var l=r.$instanceOf(s),u=!1;return q(r.eventDefinitions||[],function(h){h.$type===c&&(u=!0)}),l&&u}bl.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate"],bl.prototype.getMultiElementContextPadEntries=function(r){var s=this._modeling,c={};return this._isDeleteAllowed(r)&&ee(c,{delete:{group:"edit",className:"bpmn-icon-trash",title:this._translate("Remove"),action:{click:function(l,u){s.removeElements(u.slice())}}}}),c},bl.prototype._isDeleteAllowed=function(r){var s=this._rules.allowed("elements.delete",{elements:r});return Ae(s)?qa(s,function(c){return-1!==s.indexOf(c)}):s},bl.prototype.getContextPadEntries=function(r){var s=this._contextPad,c=this._modeling,l=this._elementFactory,u=this._connect,h=this._create,m=this._popupMenu,f=this._rules,_=this._autoPlace,v=this._translate,b={};if("label"===r.type)return b;var x=r.businessObject;function E(M,R){u.start(M,R)}function C(M,R,F,N){function z(Q,K){var ie=l.createShape(ee({type:M},N));h.start(Q,ie,{source:K})}return"string"!=typeof F&&(N=F,F=v("Append {type}",{type:M.replace(/^bpmn:/,"")})),{group:"model",className:R,title:F,action:{dragstart:z,click:_?function(Q,K){var ie=l.createShape(ee({type:M},N));_.append(K,ie)}:z}}}function k(M){return function(R,F){c.splitLane(F,M),s.open(F,!0)}}if(Bt(x,["bpmn:Lane","bpmn:Participant"])&&zt(r)){var T=yl(r);ee(b,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:v("Add Lane above"),action:{click:function(M,R){c.addLane(R,"top")}}}}),T.length<2&&(r.height>=120&&ee(b,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:v("Divide into two Lanes"),action:{click:k(2)}}}),r.height>=180&&ee(b,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:v("Divide into three Lanes"),action:{click:k(3)}}})),ee(b,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:v("Add Lane below"),action:{click:function(M,R){c.addLane(R,"bottom")}}}})}P(x,"bpmn:FlowNode")&&(P(x,"bpmn:EventBasedGateway")?ee(b,{"append.receive-task":C("bpmn:ReceiveTask","bpmn-icon-receive-task",v("Append ReceiveTask")),"append.message-intermediate-event":C("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",v("Append MessageIntermediateCatchEvent"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":C("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",v("Append TimerIntermediateCatchEvent"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":C("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",v("Append ConditionIntermediateCatchEvent"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":C("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",v("Append SignalIntermediateCatchEvent"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):xw(x,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?ee(b,{"append.compensation-activity":C("bpmn:Task","bpmn-icon-task",v("Append compensation activity"),{isForCompensation:!0})}):P(x,"bpmn:EndEvent")||x.isForCompensation||xw(x,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")||mo(x)||ee(b,{"append.end-event":C("bpmn:EndEvent","bpmn-icon-end-event-none",v("Append EndEvent")),"append.gateway":C("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",v("Append Gateway")),"append.append-task":C("bpmn:Task","bpmn-icon-task",v("Append Task")),"append.intermediate-event":C("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",v("Append Intermediate/Boundary Event"))})),m.isEmpty(r,"bpmn-replace")||ee(b,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:v("Change type"),action:{click:function(M,R){var z,F=ee({x:(z=s.getPad(R).html.getBoundingClientRect()).left,y:z.bottom+5},{cursor:{x:M.x,y:M.y}});m.open(R,"bpmn-replace",F,{title:v("Change element"),width:300,search:!0})}}}}),P(x,"bpmn:SequenceFlow")&&ee(b,{"append.text-annotation":C("bpmn:TextAnnotation","bpmn-icon-text-annotation")}),Bt(x,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&ee(b,{"append.text-annotation":C("bpmn:TextAnnotation","bpmn-icon-text-annotation"),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:v("Connect using "+(x.isForCompensation?"":"Sequence/MessageFlow or ")+"Association"),action:{click:E,dragstart:E}}}),P(x,"bpmn:TextAnnotation")&&ee(b,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:v("Connect using Association"),action:{click:E,dragstart:E}}}),Bt(x,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&ee(b,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:v("Connect using DataInputAssociation"),action:{click:E,dragstart:E}}}),P(x,"bpmn:Group")&&ee(b,{"append.text-annotation":C("bpmn:TextAnnotation","bpmn-icon-text-annotation")});var I=f.allowed("elements.delete",{elements:[r]});return Ae(I)&&(I=I[0]===r),I&&ee(b,{delete:{group:"edit",className:"bpmn-icon-trash",title:v("Remove"),action:{click:function(M,R){c.removeElements([R])}}}}),b};var ww={__depends__:[Mv,qk,Jo,Dv,Vd,jv],__init__:["contextPadProvider"],contextPadProvider:["type",bl]},wM={horizontal:["x","width"],vertical:["y","height"]};function Fs(r,s){this._modeling=r,this._filters=[],this.registerFilter(function(c){var l=s.allowed("elements.distribute",{elements:c});return Ae(l)?l:l?c:[]})}Fs.$inject=["modeling","rules"],Fs.prototype.registerFilter=function(r){if("function"!=typeof r)throw new Error("the filter has to be a function");this._filters.push(r)},Fs.prototype.trigger=function(r,s){var c,l,u=this._modeling;if(!(r.length<3||(this._setOrientation(s),l=this._filterElements(r),(c=this._createGroups(l)).length<=2)))return u.distributeElements(c,this._axis,this._dimension),c},Fs.prototype._filterElements=function(r){var s=this._filters,c=this._axis,l=this._dimension,u=[].concat(r);return s.length?(q(s,function(h){u=h(u,c,l)}),u):r},Fs.prototype._createGroups=function(r){var s=[],c=this,l=this._axis,u=this._dimension;if(!l)throw new Error('must have a defined "axis" and "dimension"');return q(Yo(r,l),function(h,m){var _=c._findRange(h,l,u),v=s[s.length-1];v&&c._hasIntersection(v.range,_)?s[s.length-1].elements.push(h):s.push({range:_,elements:[h]})}),s},Fs.prototype._setOrientation=function(r){var s=wM[r];this._axis=s[0],this._dimension=s[1]},Fs.prototype._hasIntersection=function(r,s){return Math.max(r.min,r.max)>=Math.min(s.min,s.max)&&Math.min(r.min,r.max)<=Math.max(s.min,s.max)},Fs.prototype._findRange=function(r){var s=r[this._axis];return{min:s+5,max:s+r[this._dimension]-5}};var c2={__init__:["distributeElements"],distributeElements:["type",Fs]};function ff(r,s,c){Kr.call(this,s)}ff.$inject=["distributeElements","eventBus","rules"],Me(ff,Kr),ff.prototype.init=function(){this.addRule("elements.distribute",function(r){var s=r.elements;return!((s=cd(s=pt(s,function(c){var l=Bt(c,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(c.labelTarget||l)}))).length<3)&&s})};var dc_horizontal="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linejoin%3Around%22%20d%3D%22M450%20400V150h900v250%22%2F%3E%3Crect%20x%3D%22150%22%20y%3D%22450%22%20width%3D%22600%22%20height%3D%221200%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%221050%22%20y%3D%22450%22%20width%3D%22600%22%20height%3D%22800%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E",dc_vertical="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201800%201800%22%3E%3Cpath%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bstroke-linejoin%3Around%22%20d%3D%22M400%201350H150V450h250%22%2F%3E%3Crect%20x%3D%22450%22%20y%3D%22150%22%20width%3D%221200%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3Anone%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%22%2F%3E%3Crect%20x%3D%22450%22%20y%3D%221050%22%20width%3D%22800%22%20height%3D%22600%22%20rx%3D%221%22%20style%3D%22fill%3AcurrentColor%3Bstroke%3AcurrentColor%3Bstroke-width%3A100%3Bopacity%3A.5%22%2F%3E%3C%2Fsvg%3E";function Oh(r,s,c,l){this._distributeElements=s,this._translate=c,this._popupMenu=r,this._rules=l,r.registerProvider("align-elements",900,this)}Oh.$inject=["popupMenu","distributeElements","translate","rules"],Oh.prototype.getPopupMenuEntries=function(r){var s={};return this._isAllowed(r)&&ee(s,this._getEntries(r)),s},Oh.prototype._isAllowed=function(r){return this._rules.allowed("elements.distribute",{elements:r})},Oh.prototype._getEntries=function(r){var s=this._distributeElements,c=this._translate,l=this._popupMenu;return{"distribute-elements-horizontal":{group:"distribute",title:c("Distribute elements horizontally"),className:"bjs-align-elements-menu-entry",imageUrl:dc_horizontal,action:function(u,h){s.trigger(r,"horizontal"),l.close()}},"distribute-elements-vertical":{group:"distribute",title:c("Distribute elements vertically"),imageUrl:dc_vertical,action:function(u,h){s.trigger(r,"vertical"),l.close()}}}};var Hd={__depends__:[ov,c2],__init__:["bpmnDistributeElements","distributeElementsMenuProvider"],bpmnDistributeElements:["type",ff],distributeElementsMenuProvider:["type",Oh]},qe="is not a registered action";function Ho(r,s){this._actions={};var c=this;r.on("diagram.init",function(){c._registerDefaultActions(s),r.fire("editorActions.init",{editorActions:c})})}function xl(r,s){return new Error(r+" "+s)}Ho.$inject=["eventBus","injector"],Ho.prototype._registerDefaultActions=function(r){var s=r.get("commandStack",!1),c=r.get("modeling",!1),l=r.get("selection",!1),u=r.get("zoomScroll",!1),h=r.get("copyPaste",!1),m=r.get("canvas",!1),f=r.get("rules",!1),_=r.get("keyboardMove",!1),v=r.get("keyboardMoveSelection",!1);s&&(this.register("undo",function(){s.undo()}),this.register("redo",function(){s.redo()})),h&&l&&this.register("copy",function(){var b=l.get();if(b.length)return h.copy(b)}),h&&this.register("paste",function(){h.paste()}),u&&this.register("stepZoom",function(b){u.stepZoom(b.value)}),m&&this.register("zoom",function(b){m.zoom(b.value)}),c&&l&&f&&this.register("removeSelection",function(){var b=l.get();if(b.length){var x,E=f.allowed("elements.delete",{elements:b});!1!==E&&(x=Ae(E)?E:b).length&&c.removeElements(x.slice())}}),_&&this.register("moveCanvas",function(b){_.moveCanvas(b)}),v&&this.register("moveSelection",function(b){v.moveSelection(b.direction,b.accelerated)})},Ho.prototype.trigger=function(r,s){if(!this._actions[r])throw xl(r,qe);return this._actions[r](s)},Ho.prototype.register=function(r,s){var c=this;if("string"==typeof r)return this._registerAction(r,s);q(r,function(l,u){c._registerAction(u,l)})},Ho.prototype._registerAction=function(r,s){if(this.isRegistered(r))throw xl(r,"is already registered");this._actions[r]=s},Ho.prototype.unregister=function(r){if(!this.isRegistered(r))throw xl(r,qe);this._actions[r]=void 0},Ho.prototype.getActions=function(){return Object.keys(this._actions)},Ho.prototype.isRegistered=function(r){return!!this._actions[r]};var xa={__init__:["editorActions"],editorActions:["type",Ho]};function gf(r){r.invoke(Ho,this)}Me(gf,Ho),gf.$inject=["injector"],gf.prototype._registerDefaultActions=function(r){Ho.prototype._registerDefaultActions.call(this,r);var s=r.get("canvas",!1),c=r.get("elementRegistry",!1),l=r.get("selection",!1),u=r.get("spaceTool",!1),h=r.get("lassoTool",!1),m=r.get("handTool",!1),f=r.get("globalConnect",!1),_=r.get("distributeElements",!1),v=r.get("alignElements",!1),b=r.get("directEditing",!1),x=r.get("searchPad",!1),E=r.get("modeling",!1),C=r.get("contextPad",!1);s&&c&&l&&this._registerAction("selectElements",function(){var k=s.getRootElement(),T=c.filter(function(I){return I!==k});return l.select(T),T}),u&&this._registerAction("spaceTool",function(){u.toggle()}),h&&this._registerAction("lassoTool",function(){h.toggle()}),m&&this._registerAction("handTool",function(){m.toggle()}),f&&this._registerAction("globalConnectTool",function(){f.toggle()}),l&&_&&this._registerAction("distributeElements",function(k){var T=l.get();T.length&&_.trigger(T,k.type)}),l&&v&&this._registerAction("alignElements",function(k){var T=l.get(),I=[],M=k.type;T.length&&(I=pt(T,function(R){return!P(R,"bpmn:Lane")}),v.trigger(I,M))}),l&&E&&this._registerAction("setColor",function(k){var T=l.get();T.length&&E.setColor(T,k)}),l&&b&&this._registerAction("directEditing",function(){var k=l.get();k.length&&b.activate(k[0])}),x&&this._registerAction("find",function(){x.toggle()}),s&&E&&this._registerAction("moveToOrigin",function(){var k,T,I=s.getRootElement();k=ri(T=P(I,"bpmn:Collaboration")?c.filter(function(M){return P(M.parent,"bpmn:Collaboration")}):c.filter(function(M){return M!==I&&!P(M.parent,"bpmn:SubProcess")})),E.moveElements(T,{x:-k.x,y:-k.y},I)}),l&&C&&this._registerAction("replaceElement",function(k){C.triggerEntry("replace","click",k)})};var EM={__depends__:[xa],editorActions:["type",gf]};function uc(r){r.on(["create.init","shape.move.init"],function(s){var c=s.context;Bt(s.shape,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(c.gridSnappingContext||(c.gridSnappingContext={}),c.gridSnappingContext.snapLocation="top-left")})}function Hv(r,s,c){return c||(c="round"),Math[c](r/s)*s}function Ns(r,s,c){var l=!c||!1!==c.active;this._eventBus=s;var u=this;s.on("diagram.init",800,function(){u.setActive(l)}),s.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],1200,function(h){var m=h.originalEvent;if(!(!u.active||m&&Wr(m))){var f=h.context,_=f.gridSnappingContext;_||(_=f.gridSnappingContext={}),["x","y"].forEach(function(v){var C,k,T,M,R,F,N,b={},x=(k=v,T=r,M=(C=h).shape,F=(R=C.context.gridSnappingContext).snapLocation,(N=R.snapOffset)&&Re(N[k])||(N||(N=R.snapOffset={}),Re(N[k])||(N[k]=0),!M)||(T.get(M.id)||(zd(k)?N[k]+=M[k]+M.width/2:N[k]+=M[k]+M.height/2),!F)||("x"===k?/left/.test(F)?N[k]-=M.width/2:/right/.test(F)&&(N[k]+=M.width/2):/top/.test(F)?N[k]-=M.height/2:/bottom/.test(F)&&(N[k]+=M.height/2)),N[k]);x&&(b.offset=x);var E=function(C,k){var T=C.context,I=T.createConstraints,M=T.resizeConstraints||{},R=T.gridSnappingContext,F=R.snapConstraints;if(F&&F[k])return F[k];F||(F=R.snapConstraints={}),F[k]||(F[k]={});var N=T.direction;I&&(zd(k)?(F.x.min=I.left,F.x.max=I.right):(F.y.min=I.top,F.y.max=I.bottom));var z=M.min,Z=M.max;return z&&(zd(k)?_f(N)?F.x.max=z.left:F.x.min=z.right:Ew(N)?F.y.max=z.top:F.y.min=z.bottom),Z&&(zd(k)?_f(N)?F.x.min=Z.left:F.x.max=Z.right:Ew(N)?F.y.min=Z.top:F.y.max=Z.bottom),F[k]}(h,v);E&&ee(b,E),Ld(h,v)||u.snapEvent(h,v,b)})}})}function zd(r){return"x"===r}function Ew(r){return-1!==r.indexOf("n")}function _f(r){return-1!==r.indexOf("w")}function Nr(r,s){Ee.call(this,r),this._gridSnapping=s;var c=this;this.preExecute("shape.resize",function(l){var u=l.context,h=(u.hints||{}).autoResize;if(h){var m=u.shape,f=u.newBounds;u.newBounds=Mr(h)?c.snapComplex(f,h):c.snapSimple(m,f)}})}function Cw(r,s){r.on(["spaceTool.move","spaceTool.end"],2e3,function(c){var l,u=c.context;u.initialized&&("x"===u.axis?(l=s.snapValue(c.dx),c.x=c.x+l-c.dx,c.dx=l):(l=s.snapValue(c.dy),c.y=c.y+l-c.dy,c.dy=l))})}uc.$inject=["eventBus"],Ns.prototype.snapEvent=function(r,s,c){Jn(r,s,this.snapValue(r[s],c))},Ns.prototype.getGridSpacing=function(){return 10},Ns.prototype.snapValue=function(r,s){var c,l,u=0;return s&&s.offset&&(u=s.offset),r=Hv(r+=u,10),s&&s.min&&Re(c=s.min)&&(c=Hv(c+u,10,"ceil"),r=Math.max(r,c)),s&&s.max&&Re(l=s.max)&&(l=Hv(l+u,10,"floor"),r=Math.min(r,l)),r-u},Ns.prototype.isActive=function(){return this.active},Ns.prototype.setActive=function(r){this.active=r,this._eventBus.fire("gridSnapping.toggle",{active:r})},Ns.prototype.toggleActive=function(){this.setActive(!this.active)},Ns.$inject=["elementRegistry","eventBus","config.gridSnapping"],Nr.$inject=["eventBus","gridSnapping","modeling"],Me(Nr,Ee),Nr.prototype.snapSimple=function(r,s){var c=this._gridSnapping;return s.width=c.snapValue(s.width,{min:s.width}),s.height=c.snapValue(s.height,{min:s.height}),s.x=r.x+r.width/2-s.width/2,s.y=r.y+r.height/2-s.height/2,s},Nr.prototype.snapComplex=function(r,s){return/w|e/.test(s)&&(r=this.snapHorizontally(r,s)),/n|s/.test(s)&&(r=this.snapVertically(r,s)),r},Nr.prototype.snapHorizontally=function(r,s){var c=this._gridSnapping,l=/w/.test(s),u=/e/.test(s),h={};return h.width=c.snapValue(r.width,{min:r.width}),u&&(l?(h.x=c.snapValue(r.x,{max:r.x}),h.width+=c.snapValue(r.x-h.x,{min:r.x-h.x})):r.x=r.x+r.width-h.width),ee(r,h),r},Nr.prototype.snapVertically=function(r,s){var c=this._gridSnapping,l=/n/.test(s),u=/s/.test(s),h={};return h.height=c.snapValue(r.height,{min:r.height}),l&&(u?(h.y=c.snapValue(r.y,{max:r.y}),h.height+=c.snapValue(r.y-h.y,{min:r.y-h.y})):r.y=r.y+r.height-h.height),ee(r,h),r},Cw.$inject=["eventBus","gridSnapping"];var CM={__depends__:[{__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",Nr],gridSnappingSpaceToolBehavior:["type",Cw]}],__init__:["gridSnapping"],gridSnapping:["type",Ns]};function Dw(r,s){r.on("autoPlace",2e3,function(c){var l=c.source,u=tt(l),h=c.shape,m=Kx(l,h);return["x","y"].forEach(function(f){var _={};m[f]!==u[f]&&(m[f]>u[f]?_.min=m[f]:_.max=m[f],P(h,"bpmn:TextAnnotation")&&(_.offset="x"===f?-h.width/2:-h.height/2),m[f]=s.snapValue(m[f],_))}),m})}function kw(r,s,c){s.on(["create.start","shape.move.start"],1750,function(l){var u=l.context,h=u.shape,m=r.getRootElement();P(h,"bpmn:Participant")&&P(m,"bpmn:Process")&&m.children.length&&u.createConstraints&&(h.width=c.snapValue(h.width,{min:h.width}),h.height=c.snapValue(h.height,{min:h.height}))})}function vf(r,s,c){Ee.call(this,r),this._gridSnapping=s;var l=this;this.postExecuted(["connection.create","connection.layout"],3e3,function(u){var h=u.context,m=h.connection,f=h.hints||{},_=m.waypoints;f.connectionStart||f.connectionEnd||!1===f.createElementsBehavior||_.length>3&&c.updateWaypoints(m,l.snapMiddleSegments(_))})}function Mw(r,s,c){var l=oa(s,c),u={};return"h"===l&&(u.y=r.snapValue(s.y)),"v"===l&&(u.x=r.snapValue(s.x)),("x"in u||"y"in u)&&(s=ee({},s,u),c=ee({},c,u)),[s,c]}Dw.$inject=["eventBus","gridSnapping"],kw.$inject=["canvas","eventBus","gridSnapping"],vf.$inject=["eventBus","gridSnapping","modeling"],Me(vf,Ee),vf.prototype.snapMiddleSegments=function(r){var s,c=this._gridSnapping;r=r.slice();for(var l=1;l<r.length-2;l++)s=Mw(c,r[l],r[l+1]),r[l]=s[0],r[l+1]=s[1];return r};var DM={__depends__:[CM,{__init__:["gridSnappingAutoPlaceBehavior","gridSnappingParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",Dw],gridSnappingParticipantBehavior:["type",kw],gridSnappingLayoutConnectionBehavior:["type",vf]}],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",uc]};function Ls(r,s){this._interactionEvents=s;var c=this;r.on(["interactionEvents.createHit","interactionEvents.updateHit"],function(l){var u=l.element,h=l.gfx;return P(u,"bpmn:Lane")?c.createParticipantHit(u,h):P(u,"bpmn:Participant")?zt(u)?c.createParticipantHit(u,h):c.createDefaultHit(u,h):P(u,"bpmn:SubProcess")?zt(u)?c.createSubProcessHit(u,h):c.createDefaultHit(u,h):void 0})}Ls.$inject=["eventBus","interactionEvents"],Ls.prototype.createDefaultHit=function(r,s){return this._interactionEvents.removeHits(s),this._interactionEvents.createDefaultHit(r,s),!0},Ls.prototype.createParticipantHit=function(r,s){return this._interactionEvents.removeHits(s),this._interactionEvents.createBoxHit(s,"no-move",{width:r.width,height:r.height}),this._interactionEvents.createBoxHit(s,"click-stroke",{width:r.width,height:r.height}),this._interactionEvents.createBoxHit(s,"all",{width:30,height:r.height}),!0},Ls.prototype.createSubProcessHit=function(r,s){return this._interactionEvents.removeHits(s),this._interactionEvents.createBoxHit(s,"no-move",{width:r.width,height:r.height}),this._interactionEvents.createBoxHit(s,"click-stroke",{width:r.width,height:r.height}),this._interactionEvents.createBoxHit(s,"all",{width:r.width,height:30}),!0};var wa={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",Ls]};function yf(r){r.invoke(nl,this)}Me(yf,nl),yf.$inject=["injector"],yf.prototype.registerBindings=function(r,s){function c(l,u){s.isRegistered(l)&&r.addListener(u)}nl.prototype.registerBindings.call(this,r,s),c("selectElements",function(l){var u=l.keyEvent;if(r.isKey(["a","A"],u)&&r.isCmd(u))return s.trigger("selectElements"),!0}),c("find",function(l){var u=l.keyEvent;if(r.isKey(["f","F"],u)&&r.isCmd(u))return s.trigger("find"),!0}),c("spaceTool",function(l){var u=l.keyEvent;if(!r.hasModifier(u))return r.isKey(["s","S"],u)?(s.trigger("spaceTool"),!0):void 0}),c("lassoTool",function(l){var u=l.keyEvent;if(!r.hasModifier(u))return r.isKey(["l","L"],u)?(s.trigger("lassoTool"),!0):void 0}),c("handTool",function(l){var u=l.keyEvent;if(!r.hasModifier(u))return r.isKey(["h","H"],u)?(s.trigger("handTool"),!0):void 0}),c("globalConnectTool",function(l){var u=l.keyEvent;if(!r.hasModifier(u))return r.isKey(["c","C"],u)?(s.trigger("globalConnectTool"),!0):void 0}),c("directEditing",function(l){var u=l.keyEvent;if(!r.hasModifier(u))return r.isKey(["e","E"],u)?(s.trigger("directEditing"),!0):void 0}),c("replaceElement",function(l){var u=l.keyEvent;if(!r.hasModifier(u))return r.isKey(["r","R"],u)?(s.trigger("replaceElement",u),!0):void 0})};var kM={__depends__:[ec],__init__:["keyboardBindings"],keyboardBindings:["type",yf]},l2={moveSpeed:1,moveSpeedAccelerated:10},Sw={ArrowLeft:"left",Left:"left",ArrowUp:"up",Up:"up",ArrowRight:"right",Right:"right",ArrowDown:"down",Down:"down"},Tw={left:function(r){return{x:-r,y:0}},up:function(r){return{x:0,y:-r}},right:function(r){return{x:r,y:0}},down:function(r){return{x:0,y:r}}};function Aw(r,s,c,l,u){var h=this;this._config=ee({},l2,r||{}),s.addListener(1500,function(m){var f=m.keyEvent,_=Sw[f.key];if(_&&!s.isCmd(f)){var v=s.isShift(f);return h.moveSelection(_,v),!0}}),this.moveSelection=function(m,f){var _=u.get();if(_.length){var b=Tw[m](this._config[f?"moveSpeedAccelerated":"moveSpeed"]);l.allowed("elements.move",{shapes:_})&&c.moveElements(_,b)}}}Aw.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];var Rw={__depends__:[ec,Jo],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",Aw]};function Ph(r,s,c,l){this._dragging=l,this._rules=s;var u=this;r.on("resize.start",function(m){var f,v;v=(f=m.context).minBounds,void 0===f.resizeConstraints&&(void 0===v&&(v=u.computeMinResizeBox(f)),f.resizeConstraints={min:Xe(v)})}),r.on("resize.move",function(m){!function h(m,f){var E,C,k,T,I,M,v=m.shape,b=m.direction,x=m.resizeConstraints;m.delta=f,T=(k=f).x,I=k.y,M={x:(E=v).x,y:E.y,width:E.width,height:E.height},-1!==(C=b).indexOf("n")?(M.y=E.y+I,M.height=E.height-I):-1!==C.indexOf("s")&&(M.height=E.height+I),-1!==C.indexOf("e")?M.width=E.width+T:-1!==C.indexOf("w")&&(M.x=E.x+T,M.width=E.width-T),m.newBounds=function(E,C){if(!C)return E;var k=Xe(E);return C_({top:_l("top",k,C),right:_l("right",k,C),bottom:_l("bottom",k,C),left:_l("left",k,C)})}(M,x),m.canExecute=u.canResize(m)}(m.context,{x:m.dx,y:m.dy})}),r.on("resize.end",function(m){!function(f){var x,E,_=f.shape,b=f.newBounds;if(f.canExecute){if(x=_,E=b=fk(b),x.x===E.x&&x.y===E.y&&x.width===E.width&&x.height===E.height)return;c.resizeShape(_,b)}}(m.context)})}function Iw(r,s){var c=tt(r),l=Xe(r),u={x:c.x,y:c.y};return-1!==s.indexOf("n")?u.y=l.top:-1!==s.indexOf("s")&&(u.y=l.bottom),-1!==s.indexOf("e")?u.x=l.right:-1!==s.indexOf("w")&&(u.x=l.left),u}function is(r){return"n"===r||"s"===r?"resize-ns":"e"===r||"w"===r?"resize-ew":"nw"===r||"se"===r?"resize-nwse":"resize-nesw"}Ph.prototype.canResize=function(r){var s=this._rules,c=Ro(r,["newBounds","shape","delta","direction"]);return s.allowed("shape.resize",c)},Ph.prototype.activate=function(r,s,c){var l,u,h=this._dragging;if("string"==typeof c&&(c={direction:c}),!(u=(l=ee({shape:s},c)).direction))throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");h.init(r,Iw(s,u),"resize",{autoActivate:!0,cursor:is(u),data:{shape:s,context:l}})},Ph.prototype.computeMinResizeBox=function(r){var c,l,u,h,m,f,_,s=r.shape;return c=r.direction,l=s,u=r.minDimensions||{width:10,height:10},h=pf(s,r.childrenBoxPadding),m=Xe(l),f={top:/n/.test(c)?m.bottom-u.height:m.top,left:/w/.test(c)?m.right-u.width:m.left,bottom:/s/.test(c)?m.top+u.height:m.bottom,right:/e/.test(c)?m.left+u.width:m.right},_=h?Xe(h):f,C_({top:uf(f.top,_.top),left:uf(f.left,_.left),bottom:gl(f.bottom,_.bottom),right:gl(f.right,_.right)})},Ph.$inject=["eventBus","rules","modeling","dragging"];var Ow="djs-resizing",$v="resize-not-ok";function Pw(r,s,c){r.on("resize.move",500,function(l){var u,h,m,f;h=(u=l.context).shape,m=u.newBounds,(f=u.frame)||(f=u.frame=c.addFrame(h,s.getActiveLayer()),s.addMarker(h,Ow)),m.width>5&&ve(f,{x:m.x,width:m.width}),m.height>5&&ve(f,{y:m.y,height:m.height}),u.canExecute?Nt(f).remove($v):Nt(f).add($v)}),r.on("resize.cleanup",function(l){var u,h;h=(u=l.context).shape,u.frame&&$n(u.frame),s.removeMarker(h,Ow)})}Pw.$inject=["eventBus","canvas","previewSupport"];var AM=["n","w","s","e","nw","ne","se","sw"];function Ea(r,s,c,l){this._resize=l,this._canvas=s;var u=this;r.on("selection.changed",function(h){var m=h.newSelection;u.removeResizers(),1===m.length&&q(m,Ne(u.addResizer,u))}),r.on("shape.changed",function(h){var m=h.element;c.isSelected(m)&&(u.removeResizers(),u.addResizer(m))})}Ea.prototype.makeDraggable=function(r,s,c){var l=this._resize;function u(h){Ja(h)&&l.activate(h,r,c)}Ke.bind(s,"mousedown",u),Ke.bind(s,"touchstart",u)},Ea.prototype._createResizer=function(r,s,c,l){var v,b,u=this._getResizersParent(),h=(b={x:0,y:0},-1!==(v=l).indexOf("e")?b.x=6:-1!==v.indexOf("w")&&(b.x=-6),-1!==v.indexOf("s")?b.y=6:-1!==v.indexOf("n")&&(b.y=-6),b),m=Ye("g");Nt(m).add("djs-resizer"),Nt(m).add("djs-resizer-"+r.id),Nt(m).add("djs-resizer-"+l),rt(u,m);var f=Ye("rect");ve(f,{x:-4+h.x,y:-4+h.y,width:8,height:8}),Nt(f).add("djs-resizer-visual"),rt(m,f);var _=Ye("rect");return ve(_,{x:-10+h.x,y:-10+h.y,width:20,height:20}),Nt(_).add("djs-resizer-hit"),rt(m,_),M_(m,s,c),m},Ea.prototype.createResizer=function(r,s){var c=Iw(r,s),l=this._createResizer(r,c.x,c.y,s);this.makeDraggable(r,l,s)},Ea.prototype.addResizer=function(r){var s=this;!r.waypoints&&this._resize.canResize({shape:r})&&q(AM,function(c){s.createResizer(r,c)})},Ea.prototype.removeResizers=function(){Bu(this._getResizersParent())},Ea.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},Ea.$inject=["eventBus","canvas","selection","resize"];var Nw={__depends__:[Is,va,Mh],__init__:["resize","resizePreview","resizeHandles"],resize:["type",Ph],resizePreview:["type",Pw],resizeHandles:["type",Ea]};function Fh(r,s,c,l,u,h,m){function f(_,v){(v||Bt(_,["bpmn:Task","bpmn:TextAnnotation"])||Uv(_))&&l.activate(_)}this._bpmnFactory=s,this._canvas=c,this._modeling=u,this._textRenderer=m,l.registerProvider(this),r.on("element.dblclick",function(_){f(_.element,!0)}),r.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open","root.set","selection.changed"],function(_){l.isActive()&&l.complete()}),r.on(["shape.remove","connection.remove"],2e3,function(_){l.isActive(_.element)&&l.cancel()}),r.on(["commandStack.changed"],function(_){l.isActive()&&l.cancel()}),r.on("directEditing.activate",function(_){h.removeResizers()}),r.on("create.end",500,function(_){var v=_.context;_.isTouch||_.context.canExecute&&(v.hints&&!1===v.hints.createElementsBehavior||f(v.shape))}),r.on("autoPlace.end",500,function(_){f(_.shape)})}function Uv(r){return P(r,"bpmn:SubProcess")&&!zt(r)}Fh.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],Fh.prototype.activate=function(r){var s=Lo(r);if(void 0!==s){var c={text:s};ee(c,this.getEditingBBox(r));var l={};return(Bt(r,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||Uv(r))&&ee(l,{centerVertically:!0}),Qa(r)&&ee(l,{autoResize:!0}),P(r,"bpmn:TextAnnotation")&&ee(l,{resizable:!0,autoResize:!0}),ee(c,{options:l}),c}},Fh.prototype.getEditingBBox=function(r){var z,s=this._canvas,c=r.label||r,l=s.getAbsoluteBBox(c),u=l.x+l.width/2,h=l.y+l.height/2,m={x:l.x,y:l.y},f=s.zoom(),_=this._textRenderer.getDefaultStyle(),v=this._textRenderer.getExternalStyle(),b=v.fontSize*f,x=v.lineHeight,E=_.fontSize*f,C=_.lineHeight,k={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};(P(r,"bpmn:Lane")||P(z=r,"bpmn:Participant")&&zt(z))&&(ee(m,{width:l.height,height:30*f,x:l.x-l.height/2+15*f,y:h-30*f/2}),ee(k,{fontSize:E+"px",lineHeight:C,paddingTop:7*f+"px",paddingBottom:7*f+"px",paddingLeft:5*f+"px",paddingRight:5*f+"px",transform:"rotate(-90deg)"})),(Bt(r,["bpmn:Task","bpmn:CallActivity"])||function(z){return P(z,"bpmn:Participant")&&!zt(z)}(r)||Uv(r))&&(ee(m,{width:l.width,height:l.height}),ee(k,{fontSize:E+"px",lineHeight:C,paddingTop:7*f+"px",paddingBottom:7*f+"px",paddingLeft:5*f+"px",paddingRight:5*f+"px"})),function(z){return P(z,"bpmn:SubProcess")&&zt(z)}(r)&&(ee(m,{width:l.width,x:l.x}),ee(k,{fontSize:E+"px",lineHeight:C,paddingTop:7*f+"px",paddingBottom:7*f+"px",paddingLeft:5*f+"px",paddingRight:5*f+"px"}));var T=90*f,I=7*f,M=4*f;if(c.labelTarget&&(ee(m,{width:T,height:l.height+I+M,x:u-T/2,y:l.y-I}),ee(k,{fontSize:b+"px",lineHeight:x,paddingTop:I+"px",paddingBottom:M+"px"})),Qa(c)&&!Cm(c)&&!Ci(c)){var R=fd(r),F=s.getAbsoluteBBox({x:R.x,y:R.y,width:0,height:0}),N=b+I+M;ee(m,{width:T,height:N,x:F.x-T/2,y:F.y-N/2}),ee(k,{fontSize:b+"px",lineHeight:x,paddingTop:I+"px",paddingBottom:M+"px"})}return P(r,"bpmn:TextAnnotation")&&(ee(m,{width:l.width,height:l.height,minWidth:30*f,minHeight:10*f}),ee(k,{textAlign:"left",paddingTop:5*f+"px",paddingBottom:7*f+"px",paddingLeft:7*f+"px",paddingRight:5*f+"px",fontSize:E+"px",lineHeight:C})),{bounds:m,style:k}},Fh.prototype.update=function(r,s,c,l){var u,h,m;P(r,"bpmn:TextAnnotation")&&(h=this._canvas.getAbsoluteBBox(r),u={x:r.x,y:r.y,width:r.width/h.width*l.width,height:r.height/h.height*l.height}),(m=s)&&m.trim()||(s=null),this._modeling.updateLabel(r,s,u)};var Rt="djs-element-hidden",xe="djs-label-hidden";function Gv(r,s,c,l){var u,h,m,f=this,_=s.getDefaultLayer();r.on("directEditing.activate",function(v){var b=v.active;if(P(u=b.element.label||b.element,"bpmn:TextAnnotation")){h=s.getAbsoluteBBox(u),m=Ye("g");var x=l.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:u.width,containerHeight:u.height,position:{mx:0,my:0}}),E=f.path=Ye("path");ve(E,{d:x,strokeWidth:2,stroke:Lw(u)}),rt(m,E),rt(_,m),Ir(m,u.x,u.y)}P(u,"bpmn:TextAnnotation")||u.labelTarget?s.addMarker(u,Rt):(P(u,"bpmn:Task")||P(u,"bpmn:CallActivity")||P(u,"bpmn:SubProcess")||P(u,"bpmn:Participant"))&&s.addMarker(u,xe)}),r.on("directEditing.resize",function(v){if(P(u,"bpmn:TextAnnotation")){var E=Math.max(u.height/h.height*(v.height+v.dy),0),C=l.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:u.width,containerHeight:E,position:{mx:0,my:0}});ve(f.path,{d:C})}}),r.on(["directEditing.complete","directEditing.cancel"],function(v){var b=v.active;b&&(s.removeMarker(b.element.label||b.element,Rt),s.removeMarker(u,xe)),u=void 0,h=void 0,m&&($n(m),m=void 0)})}function Lw(r,s){return st(r).get("stroke")||s||"black"}Gv.$inject=["eventBus","canvas","elementRegistry","pathMap"];var RM={__depends__:[$_,Nw,Mv],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",Fh],labelEditingPreview:["type",Gv]},Wv=["top","bottom","left","right"];function qv(r,s){function c(l){if(Cm(l)){var u=function(h){var E,C,m=tt(h.label),f=Kv(tt(h),m);if(-1!==Wv.indexOf(f)){var v=(C=tt(E=h),[].concat(E.incoming.map(function(T){return T.waypoints[T.waypoints.length-2]}),E.outgoing.map(function(T){return T.waypoints[1]})).map(function(T){return Kv(C,T)}));if(h.host){var b=function(E){var C,k=E.host,T=Ii(tt(E),k);return C=T.indexOf("-")>=0?T.split("-"):[T],Wv.filter(function(I){return-1===C.indexOf(I)})}(h);v=v.concat(b)}var x=Wv.filter(function(E){return-1===v.indexOf(E)});if(-1===x.indexOf(f))return x[0]}}(l);u&&function(h,m){var f=tt(h),_=h.label,v=tt(_);if(_.parent){var b,x=Xe(h);switch(m){case"top":b={x:f.x,y:x.top-10-_.height/2};break;case"left":b={x:x.left-10-_.width/2,y:f.y};break;case"bottom":b={x:f.x,y:x.bottom+10+_.height/2};break;case"right":b={x:x.right+10+_.width/2,y:f.y}}var E=wr(b,v);s.moveShape(_,E)}}(l,u)}}Ee.call(this,r),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],function(l){var u=l.context,h=u.connection,f=h.target;!1!==(u.hints||{}).createElementsBehavior&&(c(h.source),c(f))}),this.postExecuted(["label.create"],function(l){var u=l.context;!1!==(u.hints||{}).createElementsBehavior&&c(u.shape.labelTarget)}),this.postExecuted(["elements.create"],function(l){var u=l.context;!1!==(u.hints||{}).createElementsBehavior&&u.elements.forEach(function(m){c(m)})})}function Kv(r,s){return Ii(s,r,5)}function Yv(r,s,c){Ee.call(this,r),this.preExecute("shape.append",function(l){var u=l.source,h=l.shape;l.position||(l.position=P(h,"bpmn:TextAnnotation")?{x:u.x+u.width/2+75,y:u.y-50-h.height/2}:{x:u.x+u.width+80+h.width/2,y:u.y+u.height/2})},!0)}function Xv(r,s){r.invoke(Ee,this),this.postExecute("shape.move",function(c){var l=c.newParent,u=c.shape;q(pt(u.incoming.concat(u.outgoing),function(h){return P(h,"bpmn:Association")}),function(h){s.moveConnection(h,{x:0,y:0},l)})},!0)}function Zv(r,s){s.invoke(Ee,this),this._bpmnReplace=r;var c=this;this.postExecuted("elements.create",500,function(l){var u=l.elements;1===(u=u.filter(function(h){return Qv(h,h.host)})).length&&u.map(function(h){return u.indexOf(h)}).forEach(function(h){l.elements[h]=c.replaceShape(u[h],u[h])})},!0),this.preExecute("elements.move",500,function(l){var u=l.shapes,h=l.newHost;if(1===u.length){var m=u[0];Qv(m,h)&&(l.shapes=[c.replaceShape(m,h)])}},!0)}function Qv(r,s){return!Ci(r)&&Bt(r,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!s}function bf(r,s){function c(l){return pt(l.attachers,function(u){return P(u,"bpmn:BoundaryEvent")})}Ee.call(this,r),this.postExecute("connection.create",function(l){var u=l.context.source,h=l.context.target,m=c(h);P(u,"bpmn:EventBasedGateway")&&P(h,"bpmn:ReceiveTask")&&m.length>0&&s.removeElements(m)}),this.postExecute("connection.reconnect",function(l){var h=l.context.newSource;P(l.context.oldSource,"bpmn:Gateway")&&P(h,"bpmn:EventBasedGateway")&&q(h.outgoing,function(m){var f=m.target,_=c(f);P(f,"bpmn:ReceiveTask")&&_.length>0&&s.removeElements(_)})})}function gi(r){r.invoke(Ee,this),this.preExecute("shape.create",1500,function(s){var c=s.context,l=c.parent,u=c.shape;P(l,"bpmn:Lane")&&!P(u,"bpmn:Lane")&&(c.parent=Gm(l,"bpmn:Participant"))})}function Jv(r,s,c){Ee.call(this,r),this.preExecute("shape.create",function(l){var u=l.context.shape;if(P(u,"bpmn:DataObjectReference")&&"label"!==u.type){var h=s.create("bpmn:DataObject");u.businessObject.dataObjectRef=h}})}Me(qv,Ee),qv.$inject=["eventBus","modeling"],Me(Yv,Ee),Yv.$inject=["eventBus","elementFactory","bpmnRules"],Me(Xv,Ee),Xv.$inject=["injector","modeling"],Zv.$inject=["bpmnReplace","injector"],Me(Zv,Ee),Zv.prototype.replaceShape=function(r,s){var c,l=(c=Ie(r).eventDefinitions)&&c[0],u={type:"bpmn:BoundaryEvent",host:s};return l&&(u.eventDefinitionType=l.$type),this._bpmnReplace.replaceElement(r,u,{layoutConnection:!1})},bf.$inject=["eventBus","modeling"],Me(bf,Ee),gi.$inject=["injector"],Me(gi,Ee),Jv.$inject=["eventBus","bpmnFactory","moddle"],Me(Jv,Ee);function Bw(r,s,c){function l(){var u=r.getRootElement();return P(u,"bpmn:Collaboration")?u:c.makeCollaboration()}Ee.call(this,s),s.on(["create.start","shape.move.start"],2e3,function(u){var x,E,h=u.context,m=h.shape,f=r.getRootElement();if(P(m,"bpmn:Participant")&&P(f,"bpmn:Process")&&f.children.length){var _=f.children.filter(function(x){return!P(x,"bpmn:Group")&&!Ci(x)&&!x.waypoints});if(_.length){var v=ri(_),b=function(x,E){E={width:E.width+40+30,height:E.height+40};var C=Math.max(x.width,E.width),k=Math.max(x.height,E.height);return{x:-C/2,y:-k/2,width:C,height:k}}(m,v);ee(m,b),h.createConstraints=(x=m,{bottom:(E=Xe(E=v)).top+x.height/2-20,left:E.right-x.width/2+20,top:E.bottom-x.height/2+20,right:E.left+x.width/2-20-30})}}}),s.on("create.start",2e3,function(u){var h=u.context.shape,m=r.getRootElement(),f=r.getGraphics(m);function _(v){v.element=m,v.gfx=f}P(h,"bpmn:Participant")&&P(m,"bpmn:Process")&&(s.on("element.hover",2e3,_),s.once("create.cleanup",function(){s.off("element.hover",_)}))}),this.preExecute("elements.create",2e3,function(u){var h,f=u.parent,_=wt(u.elements,function(b){return P(b,"bpmn:Participant")});_&&P(f,"bpmn:Process")&&(u.parent=l(),(h=u.hints=u.hints||{}).participant=_,h.process=f,h.processRef=Ie(_).get("processRef"))},!0),this.preExecute("shape.create",function(u){var h=u.parent,m=u.shape;P(m,"bpmn:Participant")&&P(h,"bpmn:Process")&&(u.parent=l(),u.process=h,u.processRef=Ie(m).get("processRef"))},!0),this.execute("shape.create",function(u){var h=u.hints||{},m=u.process||h.process,f=u.shape,_=h.participant;!m||_&&f!==_||Ie(f).set("processRef",Ie(m))},!0),this.revert("shape.create",function(u){var h=u.hints||{},f=u.processRef||h.processRef,_=u.shape,v=h.participant;!u.process&&!h.process||v&&_!==v||Ie(_).set("processRef",f)},!0),this.postExecute("shape.create",function(u){var m=u.process||u.hints.process,f=u.shape,_=(u.hints||{}).participant;if(m){var v=m.children.slice();_?f===_&&c.moveElements(v,{x:0,y:0},_):c.moveElements(v,{x:0,y:0},f)}},!0)}Bw.$inject=["canvas","eventBus","modeling"],Me(Bw,Ee);var IM="__targetRef_placeholder";function Vw(r,s){function c(h,m){var f=h.get("properties"),_=wt(f,function(v){return v.name===IM});return!_&&m&&re(f,_=s.create("bpmn:Property",{name:IM})),_}function l(h,m){var v,b,f=c(h);f&&(v=f,b=m,wt(h.get("dataInputAssociations"),function(x){return x!==b&&x.targetRef===v})||Vn(h.get("properties"),f))}function u(h){var m,f=h.context,_=f.connection,v=_.businessObject,b=_.target,x=b&&b.businessObject,E=f.newTarget,C=E&&E.businessObject,k=f.oldTarget||f.target,T=k&&k.businessObject,I=_.businessObject;T&&T!==x&&l(T,v),C&&C!==x&&l(C,v),x?(m=c(x,!0),I.targetRef=m):I.targetRef=null}Ee.call(this,r),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],jw(u)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],jw(u))}function jw(r){return function(s){if(P(s.context.connection,"bpmn:DataInputAssociation"))return r(s)}}function Lh(r){this._bpmnUpdater=r}function Hw(r,s,c,l){function u(m){return m.children.filter(function(f){return P(f,"bpmn:DataStoreReference")&&!f.labelTarget})}function h(m,f){var _=m.businessObject||m;if(f=f||c.filter(function(b){return P(b,"bpmn:Participant")&&Ie(b).processRef})[0]){var v=f.businessObject||f;s.execute("dataStore.updateContainment",{dataStoreBo:_,dataStoreDi:st(m),newSemanticParent:v.processRef||v,newDiParent:st(f)})}}Ee.call(this,l),s.registerHandler("dataStore.updateContainment",Lh),this.preExecute("shape.create",function(m){var f=m.context,_=f.shape;P(_,"bpmn:DataStoreReference")&&"label"!==_.type&&(f.hints||(f.hints={}),f.hints.autoResize=!1)}),this.preExecute("elements.move",function(m){var f=m.context,_=f.shapes;_.filter(function(v){return P(v,"bpmn:DataStoreReference")}).length&&(f.hints||(f.hints={}),f.hints.autoResize=_.filter(function(v){return!P(v,"bpmn:DataStoreReference")}))}),this.postExecute("shape.create",function(m){var f=m.context.shape,_=f.parent;P(f,"bpmn:DataStoreReference")&&"label"!==f.type&&P(_,"bpmn:Collaboration")&&h(f)}),this.postExecute("shape.move",function(m){var f=m.context,_=f.shape,v=f.oldParent,b=_.parent;P(v,"bpmn:Collaboration")||P(_,"bpmn:DataStoreReference")&&"label"!==_.type&&P(b,"bpmn:Collaboration")&&h(_,P(v,"bpmn:Participant")?v:function(x,E){for(;x.parent;){if(P(x.parent,"bpmn:Participant"))return x.parent;x=x.parent}}(v))}),this.postExecute("shape.delete",function(m){var f=m.context.shape,_=r.getRootElement();Bt(f,["bpmn:Participant","bpmn:SubProcess"])&&P(_,"bpmn:Collaboration")&&u(_).filter(function(v){return function(b,x){for(var E=b.businessObject||b,C=x.businessObject||x;E.$parent;){if(E.$parent===C.processRef||C)return!0;E=E.$parent}return!1}(v,f)}).forEach(function(v){h(v)})}),this.postExecute("canvas.updateRoot",function(m){var f=m.context,v=f.newRoot;u(f.oldRoot).forEach(function(b){P(v,"bpmn:Process")&&h(b,v)})})}function ey(r,s,c){Ee.call(this,r),this.postExecuted("shape.delete",500,function(l){var _,b,x,E,C,k,T,u=l.context,h=u.hints,m=u.shape,f=u.oldParent;P(m,"bpmn:Lane")&&(h&&h.nested||(_=m,C=yl(f),k=[],T=[],Xt(C,function(I){return I.y>_.y?T.push(I):k.push(I),I.children}),C.length&&(b=T.length&&k.length?_.height/2:_.height,k.length&&(x=c.calculateAdjustments(k,"y",b,_.y-10),c.makeSpace(x.movingShapes,x.resizingShapes,{x:0,y:b},"s")),T.length&&(E=c.calculateAdjustments(T,"y",-b,_.y+_.height+10),c.makeSpace(E.movingShapes,E.resizingShapes,{x:0,y:-b},"n")))))})}function Ca(r,s){s.invoke(Ee,this),this._bpmnReplace=r;var c=this;this.postExecuted("elements.create",500,function(l){var u=l.elements;u.filter(function(h){return zw(h,h.host)}).map(function(h){return u.indexOf(h)}).forEach(function(h){l.elements[h]=c.replaceShape(u[h])})},!0),this.preExecute("elements.move",500,function(l){var u=l.shapes,h=l.newHost;u.forEach(function(m,f){var v=m.host;zw(m,-1!==u.indexOf(v)?v:h)&&(u[f]=c.replaceShape(m))})},!0)}function zw(r,s){return!Ci(r)&&P(r,"bpmn:BoundaryEvent")&&!s}function Cf(r,s,c){function l(u,h,m){var f,_,v,x,E,C,k,T=h.waypoints,I=u.outgoing.slice(),M=u.incoming.slice(),R=Ym(T,k=Re(m.width)?tt(m):m);if(R){if(f=T.slice(0,R.index),_=T.slice(R.index+(R.bendpoint?1:0)),!f.length||!_.length)return;v=R.bendpoint?T[R.index]:k,1!==f.length&&Bh(u,f[f.length-1])||f.push($w(v)),1!==_.length&&Bh(u,_[0])||_.unshift($w(v))}x=h.target,s.canConnect(h.source,u,h)&&(c.reconnectEnd(h,u,f||k),E=h),s.canConnect(u,x,h)&&(E?C=c.connect(u,x,{type:h.type,waypoints:_}):(c.reconnectStart(h,u,_||k),C=h));var F=[].concat(E&&pt(M,function(N){return N.source===E.source})||[],C&&pt(I,function(N){return N.target===C.target})||[]);F.length&&c.removeElements(F)}Ee.call(this,r),this.preExecute("elements.move",function(u){var h=u.newParent,m=u.shapes,f=u.delta,_=m[0];if(_&&h){h&&h.waypoints&&(u.newParent=h=h.parent);var v=tt(_),b={x:v.x+f.x,y:v.y+f.y},x=wt(h.children,function(E){return s.canInsert(m,E)&&Ym(E.waypoints,b)});x&&(u.targetFlow=x,u.position=b)}},!0),this.postExecuted("elements.move",function(u){var m=u.targetFlow;m&&l(u.shapes[0],m,u.position)},!0),this.preExecute("shape.create",function(u){var h=u.parent;s.canInsert(u.shape,h)&&(u.targetFlow=h,u.parent=h.parent)},!0),this.postExecuted("shape.create",function(u){var m=u.targetFlow;m&&l(u.shape,m,u.position)},!0)}function Bh(r,s){var c=s.x,l=s.y;return c>=r.x&&c<=r.x+r.width&&l>=r.y&&l<=r.y+r.height}function $w(r){return ee({},r)}function Df(r,s){Ee.call(this,r),this.preExecuted("connection.create",function(c){var l=c.context,h=l.source,m=l.target,f=l.hints;f&&!1===f.createElementsBehavior||!$d(l.connection)||(P(h,"bpmn:EventBasedGateway")?m.incoming.filter($d):m.incoming.filter(function(v){return $d(v)&&P(v.source,"bpmn:EventBasedGateway")})).forEach(function(v){s.removeConnection(v)})}),this.preExecuted("shape.replace",function(c){var l=c.context.newShape;P(l,"bpmn:EventBasedGateway")&&l.outgoing.filter($d).reduce(function(u,h){return u.includes(h.target)?u:u.concat(h.target)},[]).forEach(function(u){u.incoming.filter($d).forEach(function(h){const m=u.incoming.filter($d).filter(function(f){return f.source===l});(h.source!==l||m.length>1)&&s.removeConnection(h)})})})}function $d(r){return P(r,"bpmn:SequenceFlow")}Vw.$inject=["eventBus","bpmnFactory"],Me(Vw,Ee),Lh.$inject=["bpmnUpdater"],Lh.prototype.execute=function(r){var s=r.dataStoreBo,c=r.dataStoreDi,l=r.newSemanticParent,u=r.newDiParent;r.oldSemanticParent=s.$parent,r.oldDiParent=c.$parent,this._bpmnUpdater.updateSemanticParent(s,l),this._bpmnUpdater.updateDiParent(c,u)},Lh.prototype.revert=function(r){var c=r.dataStoreDi,u=r.oldDiParent;this._bpmnUpdater.updateSemanticParent(r.dataStoreBo,r.oldSemanticParent),this._bpmnUpdater.updateDiParent(c,u)},Hw.$inject=["canvas","commandStack","elementRegistry","eventBus"],Me(Hw,Ee),ey.$inject=["eventBus","modeling","spaceTool"],Me(ey,Ee),Ca.$inject=["bpmnReplace","injector"],Me(Ca,Ee),Ca.prototype.replaceShape=function(r){var c,l=(c=Ie(r).eventDefinitions)&&c[0];return this._bpmnReplace.replaceElement(r,l?{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:l.$type}:{type:"bpmn:IntermediateThrowEvent"},{layoutConnection:!1})},Me(Cf,Ee),Cf.$inject=["eventBus","bpmnRules","modeling"],Df.$inject=["eventBus","modeling"],Me(Df,Ee);function Uw(r,s,c){s.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],1500,function(l){var u=l.context.shape||l.shape,h=l.hover;P(h,"bpmn:Lane")&&!Bt(u,["bpmn:Lane","bpmn:Participant"])&&(l.hover=ns(h),l.hoverGfx=r.getGraphics(l.hover));var m=c.getRootElement();h!==m&&(u.labelTarget||P(u,"bpmn:Group"))&&(l.hover=m,l.hoverGfx=r.getGraphics(l.hover))}),s.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],1500,function(l){var u=l.hover;P(u,"bpmn:Lane")&&(l.hover=ns(u)||u,l.hoverGfx=r.getGraphics(l.hover))}),s.on(["bendpoint.move.hover"],1500,function(l){var h=l.hover,m=l.context.type;P(h,"bpmn:Lane")&&/reconnect/.test(m)&&(l.hover=ns(h)||h,l.hoverGfx=r.getGraphics(l.hover))}),s.on(["connect.start"],1500,function(l){var u=l.context,h=u.start;P(h,"bpmn:Lane")&&(u.start=ns(h)||h)}),s.on("shape.move.start",2e3,function(l){var u=l.shape;P(u,"bpmn:Lane")&&(l.shape=ns(u)||u)})}function ty(r,s,c,l,u,h){function m(x,E,C){var I,k=c.filter(function(T){return P(T,"bpmn:Group")}).filter(function(T){return T.businessObject!==C});E&&(I=E,!k.some(function(M){var R=Ie(M);return(R.categoryValueRef&&R.categoryValueRef.$parent)===I}))&&function(T){var I=T.$parent;I&&(Vn(I.get("rootElements"),T),T.$parent=null)}(E),x&&!function(T,I){return T.some(function(M){return Ie(M).categoryValueRef===I})}(k,x)&&function(T){var I=T.$parent;I&&(Vn(I.get("categoryValue"),T),T.$parent=null)}(x)}function f(x,E){return C=x,k=E,T=s.getDefinitions(),re(k.get("categoryValue"),C),C.$parent=k,re(T.get("rootElements"),k),k.$parent=T,C;var C,k,T}function _(x,E){var C=Ie(x),k=C.categoryValueRef;k||(k=C.categoryValueRef=E.categoryValue=E.categoryValue||r.create("bpmn:CategoryValue"));var T=k.$parent;T||(T=k.$parent=E.category=E.category||r.create("bpmn:Category")),f(k,T,s.getDefinitions())}function v(x,E){var C=E.category,k=E.categoryValue,T=Ie(x);k?(T.categoryValueRef=null,m(k,C,T)):m(null,T.categoryValueRef.$parent,T)}function b(x,E){var C=r.create(x.$type);return h.copyElement(x,C,null,E)}u.invoke(Ee,this),this.execute("label.create",function(x){var E=x.context,C=E.labelTarget;P(C,"bpmn:Group")&&_(C,E)}),this.revert("label.create",function(x){var E=x.context,C=E.labelTarget;P(C,"bpmn:Group")&&v(C,E)}),this.execute("shape.delete",function(x){var E=x.context,C=E.shape,k=Ie(C);if(P(C,"bpmn:Group")&&!C.labelTarget){var T=E.categoryValue=k.categoryValueRef;T&&(m(T,E.category=T.$parent,k),k.categoryValueRef=null)}}),this.reverted("shape.delete",function(x){var E=x.context,C=E.shape;if(P(C,"bpmn:Group")&&!C.labelTarget){var k=E.category,T=E.categoryValue,I=Ie(C);T&&(I.categoryValueRef=T,f(T,k))}}),this.execute("shape.create",function(x){var E=x.context,C=E.shape;P(C,"bpmn:Group")&&!C.labelTarget&&Ie(C).categoryValueRef&&_(C,E)}),this.reverted("shape.create",function(x){var E=x.context,C=E.shape;P(C,"bpmn:Group")&&!C.labelTarget&&Ie(C).categoryValueRef&&v(C,E)}),l.on("copyPaste.copyElement",770,function(x){var E=x.descriptor,C=x.element;if(P(C,"bpmn:Group")&&!C.labelTarget){var k=Ie(C);if(k.categoryValueRef){var T=k.categoryValueRef;E.categoryValue=b(T,!0),T.$parent&&(E.category=b(T.$parent,!0))}}}),l.on("copyPaste.pasteElement",770,function(x){var E=x.descriptor,k=E.categoryValue,T=E.category;k&&(k=E.businessObject.categoryValueRef=b(k)),T&&(k.$parent=b(T)),delete E.category,delete E.categoryValue})}function ny(r,s,c,l){var u,f;return 0==(u=(l.y-c.y)*(s.x-r.x)-(l.x-c.x)*(s.y-r.y))?null:(f=((l.x-c.x)*(r.y-c.y)-(l.y-c.y)*(r.x-c.x))/u,{x:Math.round(r.x+f*(s.x-r.x)),y:Math.round(r.y+f*(s.y-r.y))})}function iy(r){function s(c,l,u){var h,f={x:u.x-50,y:u.y},_=ny(c,l,u,{x:u.x,y:u.y-50}),v=ny(c,l,u,f);h=_&&v?Gw(_,u)>Gw(v,u)?v:_:_||v,c.original=h}r.on("bpmnElement.added",function(c){var l,u,h=c.element;h.waypoints&&(s((u=(l=h).waypoints)[0],u[1],tt(l.source)),s(u[u.length-1],u[u.length-2],tt(l.target)))})}function Gw(r,s){return Math.sqrt(Math.pow(r.x-s.x,2)+Math.pow(r.y-s.y,2))}function Mf(r){Ee.call(this,r);var s=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],function(c){var l=c.context.shape,u=Ie(l),h=st(l);Bt(u,s)&&!h.get("isHorizontal")&&h.set("isHorizontal",!0)})}Uw.$inject=["elementRegistry","eventBus","canvas"],ty.$inject=["bpmnFactory","bpmnjs","elementRegistry","eventBus","injector","moddleCopy"],Me(ty,Ee),iy.$inject=["eventBus"],Mf.$inject=["eventBus"],Me(Mf,Ee);var ry=Math.sqrt,Sf=Math.min,d2=Math.max,Tf=Math.abs;function Ww(r){return Math.pow(r,2)}function Af(r,s){return ry(Ww(r.x-s.x)+Ww(r.y-s.y))}function B(r,s,c,l){var u=s.x-r.x,h=s.y-r.y,m=c.x-r.x,f=c.y-r.y,_=u*u+h*h,v=(u*m+h*f)/_,b=v*v-(m*m+f*f-l*l)/_;if(b<0&&b>-1e-6&&(b=0),b<0)return[];var x=ry(b),E=-v+x,C=-v-x,k={x:r.x-u*E,y:r.y-h*E};return 0===b?[k]:[k,{x:r.x-u*C,y:r.y-h*C}].filter(function(T){return hc((I=T).x,(M=r).x,(R=s).x)&&hc(I.y,M.y,R.y);var I,M,R})}function hc(r,s,c){return r>=Sf(s,c)-Rf&&r<=d2(s,c)+Rf}var Rf=.1;function oy(r,s){return Tf(r.x-s.x)<=Rf&&Tf(r.y-s.y)<=Rf}function qw(r,s,c,l){var u=0,h=0,m={point:r,delta:{x:0,y:0}},f=function(ie,ye){var Oe,oe,de,H,A,W,te,pe,Ue,ze,$e,_t,Le=0;for(Le=0;Le<ye.length-1;Le++){if(oy(Oe=ye[Le],oe=ye[Le+1])?W=[Oe]:(de=Af(ie,Oe),H=Af(ie,oe),W=B(Oe,oe,ie,Sf(de,H))),W.length<1)throw new Error("expected between [1, 2] circle -> line intersections");1===W.length&&(te={type:"bendpoint",position:W[0],segmentIndex:Le,bendpointIndex:oy(Oe,W[0])?Le:Le+1}),2===W.length&&(te={type:"segment",position:A={x:(($e=W[0]).x+(_t=W[1]).x)/2,y:($e.y+_t.y)/2},segmentIndex:Le,relativeLocation:Af(Oe,A)/Af(Oe,oe)}),pe=Af(te.position,ie),(!ze||Ue>pe)&&(ze=te,Ue=pe)}return ze}(r,c),_=f.segmentIndex,v=function(ie,ye,Oe,oe){var de=Oe.segmentIndex,H=ye.length-ie.length;if(oe.segmentMove){var W=oe.segmentMove.newSegmentStartIndex;return de===oe.segmentMove.segmentStartIndex?W:de>=W?de+H<W?W:de+H:de}if(oe.bendpointMove){var te,pe=oe.bendpointMove.insert,Ue=oe.bendpointMove.bendpointIndex;return 0===H?de:(de>=Ue&&(te=pe?de+1:de-1),de<Ue&&(te=de,pe&&"bendpoint"!==Oe.type&&Ue-1===de&&Kw(ye,Ue)<Oe.relativeLocation&&te++),te)}return 0===H?de:oe.connectionStart&&0===de?0:oe.connectionEnd&&de===ie.length-2?ye.length-2:Math.floor((ye.length-2)/2)}(c,s,f,l);if(v<0||v>s.length-2||null===v)return m;var b,x,ie,ye,Oe,oe,E=Vh(c,_),C=Vh(s,v),k=f.position,T=(ye=k,Oe=xh((ie=E)[0],ie[1]),oe=xh(ie[0],ye),0===Oe?0:oe/Oe),I=(b=C,x=Yx(E),Yx(b)-x);if("bendpoint"===f.type){var M=s.length-c.length,R=f.bendpointIndex;if(-1!==s.indexOf(c[R]))return m;if(0===M){var N=s[R];return{delta:{x:u=N.x-f.position.x,y:h=N.y-f.position.y},point:{x:r.x+u,y:r.y+h}}}M<0&&0!==R&&R<c.length-1&&(T=Kw(c,R))}var z,Z,Q={x:(C[1].x-C[0].x)*T+C[0].x,y:(C[1].y-C[0].y)*T+C[0].y},K=(z={x:r.x-k.x,y:r.y-k.y},(Z=I)?{x:Math.cos(Z)*z.x-Math.sin(Z)*z.y,y:Math.sin(Z)*z.x+Math.cos(Z)*z.y}:z);return u=Q.x+K.x-r.x,h=Q.y+K.y-r.y,{point:Zt(Q),delta:Zt({x:u,y:h})}}function Kw(r,s){var c=xh(r[s-1],r[s]);return c/(c+xh(r[s],r[s+1]))}function Vh(r,s){return[r[s],r[s+1]]}function Bs(r,s,c){var l=As(s),u=As(c),h=wr(r,l);return Zt({x:u.x+h.x*(c.width/s.width),y:u.y+h.y*(c.height/s.height)})}function If(r,s,c){var l=As(r),u=As(s),h=As(c),m=wr(r,l),f=wr(l,u);return function(C,k,T){var z,Z,Q,K,I=Xe(k),M=Xe(T);if((Q=z=I).right!==(K=Z=M).right&&Q.left!==K.left||function(Q,K){return Q.top!==K.top&&Q.bottom!==K.bottom}(z,Z))return null;var R,N=Ii(k,C);if("top"===N)R={x:0,y:M.bottom-I.bottom};else if("bottom"===N)R={x:0,y:M.top-I.top};else if("right"===N)R={x:M.left-I.left,y:0};else{if("left"!==N)return null;R={x:M.right-I.right,y:0}}return Ii(T,{x:C.x+R.x,y:C.y+R.y})!==N?null:R}(l,s,c)||Zt({x:h.x+f.x*(c.width/s.width)+m.x-r.x,y:h.y+f.y*(c.height/s.height)+m.y-r.y})}var jh={width:90,height:20};function Pf(r,s,c,l){Ee.call(this,r),this.postExecute("element.updateProperties",function(h){var m=h.context,f=m.element,_=m.properties;if("name"in _&&s.updateLabel(f,_.name),"text"in _&&P(f,"bpmn:TextAnnotation")){var v=l.getTextAnnotationBounds({x:f.x,y:f.y,width:f.width,height:f.height},_.text||"");s.updateLabel(f,_.text,v)}}),this.postExecute(["shape.create","connection.create"],function(h){var m=h.context;if(!1!==(m.hints||{}).createElementsBehavior){var f=m.shape||m.connection,_=f.businessObject;if(!Ci(f)&&Qa(f)&&Lo(f)){var v=fd(f),b=l.getExternalLabelBounds(jh,Lo(f));s.createLabel(f,v,{id:_.id+"_label",businessObject:_,width:b.width,height:b.height})}}}),this.postExecute("shape.delete",function(h){var m=h.context,f=m.labelTarget;f&&!1!==(m.hints||{}).unsetLabel&&s.updateLabel(f,null,null,{removeShape:!1})}),this.postExecute(["label.create"],function(h){var m,f=h.context,_=f.shape,v=f.labelTarget;v&&P(v,"bpmn:BaseElement")&&((m=st(v)).label||(m.label=c.create("bpmndi:BPMNLabel",{bounds:c.create("dc:Bounds")}),_.di=m),ee(m.label.bounds,{x:_.x,y:_.y,width:_.width,height:_.height}))}),this.postExecute(["connection.layout","connection.updateWaypoints"],function(h){var m=h.context;if(!1!==(m.hints||{}).labelBehavior){var f,_=m.connection.label;_&&_.parent&&(f=function u(h){var M,m=h.context,f=m.connection,_=f.label,v=ee({},m.hints),b=m.newWaypoints||f.waypoints,x=m.oldWaypoints;return void 0===v.startChanged&&(v.startChanged=!!v.connectionStart),void 0===v.endChanged&&(v.endChanged=!!v.connectionEnd),qw({x:(M=_).x+M.width/2,y:M.y+M.height/2},b,x,v).delta}(h),s.moveShape(_,f))}}),this.postExecute(["shape.replace"],function(h){var m=h.context,f=m.newShape,_=m.oldShape,v=Ie(f);v&&Qa(v)&&_.label&&f.label&&(f.label.x=_.label.x,f.label.y=_.label.y)}),this.postExecute("shape.resize",function(h){var m,f=h.context,_=f.shape,v=f.newBounds,b=f.oldBounds;if(Cm(_)){var x=_.label,C=function ay(r,s,c){return Zt(wr(Bs(r,s,c),r))}(function(k,T){var M;if(T.length)return mv(k,(M=k,Yo(T.map(function(N){return{line:N,distance:fv(M,N)}}),"distance")[0].line))}(tt(x),[[{x:(m=b).x,y:m.y},{x:m.x+(m.width||0),y:m.y}],[{x:m.x+(m.width||0),y:m.y},{x:m.x+(m.width||0),y:m.y+(m.height||0)}],[{x:m.x,y:m.y+(m.height||0)},{x:m.x+(m.width||0),y:m.y+(m.height||0)}],[{x:m.x,y:m.y},{x:m.x,y:m.y+(m.height||0)}]]),b,v);s.moveShape(x,C)}})}function Hh(r,s){function c(l,u){var h=l.context,m=h.connection,f=ee({},h.hints),_=h.newWaypoints||m.waypoints,v=h.oldWaypoints;return void 0===f.startChanged&&(f.startChanged=!!f.connectionStart),void 0===f.endChanged&&(f.endChanged=!!f.connectionEnd),qw(u,_,v,f).point}Ee.call(this,r),this.postExecute(["connection.layout","connection.updateWaypoints"],function(l){var u=l.context.connection,h=u.outgoing;u.incoming.forEach(function(m){var _=c(l,m.waypoints[m.waypoints.length-1]),v=[].concat(m.waypoints.slice(0,-1),[_]);s.updateWaypoints(m,v)}),h.forEach(function(m){var _=c(l,m.waypoints[0]),v=[].concat([_],m.waypoints.slice(1));s.updateWaypoints(m,v)})}),this.postExecute(["connection.move"],function(l){var u=l.context,h=u.connection,m=h.outgoing,_=u.delta;h.incoming.forEach(function(v){var b=v.waypoints[v.waypoints.length-1],x={x:b.x+_.x,y:b.y+_.y},E=[].concat(v.waypoints.slice(0,-1),[x]);s.updateWaypoints(v,E)}),m.forEach(function(v){var b=v.waypoints[0],E=[].concat([{x:b.x+_.x,y:b.y+_.y}],v.waypoints.slice(1));s.updateWaypoints(v,E)})})}function Ud(r,s,c){var l=Uh(r),u=Xw(l,s),h=l[0];return u.length?u[u.length-1]:Bs(h.original||h,c,s)}function zh(r,s,c){var l=Uh(r),u=Xw(l,s),h=l[l.length-1];return u.length?u[0]:Bs(h.original||h,c,s)}function $h(r,s,c){var l=Uh(r),u=Yw(s,c),h=l[0];return Bs(h.original||h,u,s)}function cy(r,s,c){var l=Uh(r),u=Yw(s,c),h=l[l.length-1];return Bs(h.original||h,u,s)}function Yw(r,s){return{x:r.x-s.x,y:r.y-s.y,width:r.width,height:r.height}}function Uh(r){var s=r.waypoints;if(!s.length)throw new Error("connection#"+r.id+": no waypoints");return s}function Xw(r,s){return pt(ii(r,Zw),function(c){return"intersect"===Ii(s,c,1)})}function Zw(r){return r.original||r}function Ff(r,s){Ee.call(this,r),this.postExecute("shape.replace",function(c){var b,x,l=c.oldShape,u=c.newShape;if(x=u,P(b=l,"bpmn:Participant")&&zt(b)&&P(x,"bpmn:Participant")&&!zt(x)){var h,m,f,_,v=(m=Lc([h=l],!1),f=[],_=[],m.forEach(function(b){b!==h&&(b.incoming.forEach(function(x){P(x,"bpmn:MessageFlow")&&f.push(x)}),b.outgoing.forEach(function(x){P(x,"bpmn:MessageFlow")&&_.push(x)}))},[]),{incoming:f,outgoing:_});v.incoming.forEach(function(b){var x=zh(b,u,l);s.reconnectEnd(b,u,x)}),v.outgoing.forEach(function(b){var x=Ud(b,u,l);s.reconnectStart(b,u,x)})}},!0)}function Qw(r,s,c){r.on(["shape.move.rejected","create.rejected"],function(l){var u,h,f=l.context,_=f.shape;P(f.target,"bpmn:Collaboration")&&P(_,"bpmn:FlowNode")&&(u=l,h=c("flow elements must be children of pools/participants"),s.add({position:{x:u.x+5,y:u.y+5},type:"error",timeout:2e3,html:"<div>"+h+"</div>"}))})}function ly(r,s){Ee.call(this,r),this.preExecute("shape.resize",function(c){var l=c.shape,u=st(l),h=u&&u.get("label");h&&h.get("bounds")&&s.updateModdleProperties(l,h,{bounds:void 0})},!0)}function Lr(r,s,c){Ee.call(this,r),this.preExecute("shape.delete",function(l){var _,v,b,u=l.context.shape;if(1===u.incoming.length&&1===u.outgoing.length){var h=u.incoming[0],m=u.outgoing[0];if(P(h,"bpmn:SequenceFlow")&&P(m,"bpmn:SequenceFlow")&&s.canConnect(h.source,m.target,h)){var f=(v=m.waypoints,(b=ny(wl((_=h.waypoints)[_.length-2]),wl(_[_.length-1]),wl(v[1]),wl(v[0])))?[].concat(_.slice(0,_.length-1),[b],v.slice(1)):[wl(_[0]),wl(v[v.length-1])]);c.reconnectEnd(h,m.target,f)}}})}function wl(r){return r.original||r}function dy(r,s){Ee.call(this,r),this.preExecute("shape.delete",function(c){var l=c.shape,u=l.parent;P(l,"bpmn:Participant")&&(c.collaborationRoot=u)},!0),this.postExecute("shape.delete",function(c){var l=c.collaborationRoot;l&&!l.businessObject.participants.length&&s.makeProcess()},!0)}function Jw(r,s,c,l){Ee.call(this,r);var u=l.get("dragging",!1);function h(m){var f,_,v=m.source,b=m.target;m.parent&&(P(m,"bpmn:SequenceFlow")&&(c.canConnectSequenceFlow(v,b)||(_=!0),c.canConnectMessageFlow(v,b)&&(f="bpmn:MessageFlow")),P(m,"bpmn:MessageFlow")&&(c.canConnectMessageFlow(v,b)||(_=!0),c.canConnectSequenceFlow(v,b)&&(f="bpmn:SequenceFlow")),P(m,"bpmn:Association")&&!c.canConnectAssociation(v,b)&&(_=!0),_&&s.removeConnection(m),f&&s.connect(v,b,{type:f,waypoints:m.waypoints.slice()}))}this.postExecuted("elements.move",function(m){q(m.closure.allConnections,h)},!0),this.preExecute("connection.reconnect",function(m){var f,_,C,k,T,I,M,v=m.context,b=v.connection,x=v.newSource||b.source,E=v.newTarget||b.target;(f=c.canConnect(x,E))&&f.type!==b.type&&(_=s.connect(x,E,{type:f.type,waypoints:b.waypoints.slice()}),s.removeConnection(b),v.connection=_,u&&(C=b,k=_,!(M=(I=u.context())&&I.payload.previousSelection)||!M.length||-1!==(T=M.indexOf(C))&&M.splice(T,1,k)))}),this.postExecuted("element.updateProperties",function(m){var f,_=m.context,v=_.properties,b=_.element,x=b.businessObject;v.default&&(f=wt(b.outgoing,Ao({id:b.businessObject.default.id})))&&s.updateProperties(f,{conditionExpression:void 0}),v.conditionExpression&&x.sourceRef.default===x&&s.updateProperties(b.source,{default:void 0})})}function Gd(r,s,c,l,u,h){l.invoke(Ee,this),this._bpmnReplace=r,this._elementRegistry=c,this._selection=h,this.postExecuted(["elements.create"],500,function(m){var f=m.context,_=f.parent,v=f.elements,b=mr(v,function(x,E){var C=s.canReplace([E],E.host||E.parent||_);return C?x.concat(C.replacements):x},[]);b.length&&this.replaceElements(v,b)},this),this.postExecuted(["elements.move"],500,function(m){var f=m.context,_=f.newParent,v=f.newHost,b=[];q(f.closure.topLevel,function(E){b=mo(E)?b.concat(E.children):b.concat(E)}),1===b.length&&v&&(_=v);var x=s.canReplace(b,_);x&&this.replaceElements(b,x.replacements,v)},this),this.postExecute(["shape.replace"],1500,function(m){var f,_=m.context,x=_.oldShape.attachers;x&&x.length&&(f=s.canReplace(x,_.newShape),this.replaceElements(x,f.replacements))},this),this.postExecuted(["shape.replace"],1500,function(m){var f=m.context,_=f.oldShape,v=f.newShape;u.unclaimId(_.businessObject.id,_.businessObject),u.updateProperties(v,{id:_.id})})}Me(Pf,Ee),Pf.$inject=["eventBus","modeling","bpmnFactory","textRenderer"],Me(Hh,Ee),Hh.$inject=["eventBus","modeling"],Ff.$inject=["eventBus","modeling"],Me(Ff,Ee),Qw.$inject=["eventBus","tooltips","translate"],Me(ly,Ee),ly.$inject=["eventBus","modeling"],Me(Lr,Ee),Lr.$inject=["eventBus","bpmnRules","modeling"],dy.$inject=["eventBus","modeling"],Me(dy,Ee),Me(Jw,Ee),Jw.$inject=["eventBus","modeling","bpmnRules","injector"],Me(Gd,Ee),Gd.prototype.replaceElements=function(r,s){var c=this._elementRegistry,l=this._bpmnReplace,u=this._selection;q(s,function(h){var m={type:h.newElementType},f=c.get(h.oldElementId),_=r.indexOf(f);r[_]=l.replaceElement(f,m,{select:!1})}),s&&u.select(r)},Gd.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var eE={width:140,height:120},Wh={width:300,height:150},uy={width:140,height:120},nE={width:50,height:30};function iE(r){r.on("resize.start",1500,function(s){var m,f,_,v,b,x,E,C,k,T,c=s.context,l=c.shape,u=c.direction,h=c.balanced;(P(l,"bpmn:Lane")||P(l,"bpmn:Participant"))&&(c.resizeConstraints=(f=u,_=h,v=ns(m=l),b=!0,x=!0,E=ba(v,[v]),C=Xe(m),k={},T={},/e/.test(f)?T.right=C.left+300:/w/.test(f)&&(T.left=C.right-300),E.forEach(function(M){var R=Xe(M);/n/.test(f)&&(R.top<C.top-10&&(b=!1),_&&Wd(C.top-R.bottom)<10&&Lf(k,"top",R.top+60),Wd(C.top-R.top)<5&&Nf(T,"top",R.bottom-60)),/s/.test(f)&&(R.bottom>C.bottom+10&&(x=!1),_&&Wd(C.bottom-R.top)<10&&Nf(k,"bottom",R.bottom-60),Wd(C.bottom-R.bottom)<5&&Lf(T,"bottom",R.top+60))}),v.children.filter(function(M){return!M.hidden&&!M.waypoints&&(P(M,"bpmn:FlowElement")||P(M,"bpmn:Artifact"))}).forEach(function(M){var R=Xe(M);b&&/n/.test(f)&&Nf(T,"top",R.top-20),/e/.test(f)&&Lf(T,"right",R.right+20),x&&/s/.test(f)&&Lf(T,"bottom",R.bottom+20),/w/.test(f)&&Nf(T,"left",R.left-50)}),{min:T,max:k})),P(l,"bpmn:Participant")&&(c.minDimensions=Wh),P(l,"bpmn:SubProcess")&&zt(l)&&(c.minDimensions=uy),P(l,"bpmn:TextAnnotation")&&(c.minDimensions=nE)})}iE.$inject=["eventBus"];var Wd=Math.abs,OM=Math.min,PM=Math.max;function rE(r,s,c,l){var u=r[s];r[s]=void 0===u?c:l(c,u)}function Nf(r,s,c){return rE(r,s,c,OM)}function Lf(r,s,c){return rE(r,s,c,PM)}function rs(r,s){r.on("resize.start",1501,function(c){var l=c.context,u=l.shape;(P(u,"bpmn:Lane")||P(u,"bpmn:Participant"))&&(l.balanced=!gd(c))}),r.on("resize.end",1001,function(c){var l=c.context,u=l.shape,h=l.canExecute,m=l.newBounds;if(P(u,"bpmn:Lane")||P(u,"bpmn:Participant"))return h&&(m=fk(m),s.resizeLane(u,m,l.balanced)),!1})}function qh(r,s,c,l,u){function h(v){return Bt(v,["bpmn:ReceiveTask","bpmn:SendTask"])||(b=v,Ae(x=["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])||(x=[x]),To(x,function(E){return Em(b,E)}));var b,x}function m(v){return!!wt(r.getDefinitions().get("rootElements"),Ao({id:v.id}))}function f(v){return P(v,"bpmn:ErrorEventDefinition")?"errorRef":P(v,"bpmn:EscalationEventDefinition")?"escalationRef":P(v,"bpmn:MessageEventDefinition")?"messageRef":P(v,"bpmn:SignalEventDefinition")?"signalRef":void 0}function _(v){if(Bt(v,["bpmn:ReceiveTask","bpmn:SendTask"]))return v.get("messageRef");var b=v.get("eventDefinitions")[0];return b.get(f(b))}c.invoke(Ee,this),this.executed("shape.create",function(v){var b=v.shape;if(h(b)){var x=_(Ie(b));x&&!m(x)&&(re(r.getDefinitions().get("rootElements"),x),v.addedRootElement=x)}},!0),this.reverted("shape.create",function(v){var b=v.addedRootElement;b&&Vn(r.getDefinitions().get("rootElements"),b)},!0),s.on("copyPaste.copyElement",function(v){var b=v.descriptor,x=v.element;if(!x.labelTarget&&h(x)){var E=_(Ie(x));E&&(b.referencedRootElement=E)}}),s.on("copyPaste.pasteElement",500,function(v){var b=v.descriptor,x=b.businessObject,E=b.referencedRootElement;E&&(m(E)||(E=l.copyElement(E,u.create(E.$type))),function(C,k){if(Bt(C,["bpmn:ReceiveTask","bpmn:SendTask"]))return C.set("messageRef",k);var T=C.get("eventDefinitions")[0];T.set(f(T),k)}(x,E),delete b.referencedRootElement)})}rs.$inject=["eventBus","modeling"],qh.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"],Me(qh,Ee);var FM=Math.max;function oE(r){r.on("spaceTool.getMinDimensions",function(s){var l=s.axis,u=s.start,h={};return q(s.shapes,function(m){var f=m.id;P(m,"bpmn:Participant")&&(h[f]="x"===l?Wh:{width:Wh.width,height:sE(m,u)}),P(m,"bpmn:SubProcess")&&zt(m)&&(h[f]=uy),P(m,"bpmn:TextAnnotation")&&(h[f]=nE),P(m,"bpmn:Group")&&(h[f]=eE)}),h})}function sE(r,s){var l,u,h;return yl(r).length?(u=s,h=aE(yl(l=r),u),FM(Wh.height,l.height-h.height+60)):Wh.height}function aE(r,s){var c,l,u;for(c=0;c<r.length;c++)if(s>=(l=r[c]).y&&s<=l.y+l.height)return(u=yl(l)).length?aE(u,s):l}oE.$inject=["eventBus"];function Vs(r,s,c,l,u,h,m){Ee.call(this,s),this._canvas=r,this._eventBus=s,this._modeling=c,this._elementFactory=l,this._bpmnFactory=u,this._bpmnjs=h,this._elementRegistry=m;var f=this;function _(x){return P(x,"bpmn:SubProcess")&&!zt(x)}function v(x){var C=x.newRootElement,k=Ie(x.shape);C=f._addDiagram(C||k),x.newRootElement=r.addRootElement(C)}function b(x){var E=Ie(x.shape);f._removeDiagram(E);var C=x.newRootElement=m.get(ma(E));r.removeRootElement(C)}this.executed("shape.create",function(x){_(x.shape)&&v(x)},!0),this.postExecuted("shape.create",function(x){var E=x.shape,C=x.newRootElement;C&&E.children&&(f._showRecursively(E.children),f._moveChildrenToShape(E,C))},!0),this.reverted("shape.create",function(x){_(x.shape)&&b(x)},!0),this.preExecuted("shape.delete",function(x){var E=x.shape;if(_(E)){var C=m.get(ma(E));C&&c.removeElements(C.children.slice())}},!0),this.executed("shape.delete",function(x){_(x.shape)&&b(x)},!0),this.reverted("shape.delete",function(x){_(x.shape)&&v(x)},!0),this.preExecuted("shape.replace",function(x){var E=x.oldShape,C=x.newShape;_(E)&&_(C)&&(x.oldRoot=r.removeRootElement(ma(E)))},!0),this.postExecuted("shape.replace",function(x){var C=x.oldRoot,k=r.findRoot(ma(x.newShape));C&&k&&c.moveElements(C.children,{x:0,y:0},k)},!0),this.executed("element.updateProperties",function(x){var E=x.element;if(P(E,"bpmn:SubProcess")){var k=x.oldProperties.id,T=x.properties.id;if(k!==T){if(ch(E))return m.updateId(E,Ds(T)),void m.updateId(k,T);m.get(Ds(k))&&m.updateId(Ds(k),Ds(T))}}},!0),this.reverted("element.updateProperties",function(x){var E=x.element;if(P(E,"bpmn:SubProcess")){var k=x.oldProperties.id,T=x.properties.id;if(k!==T){if(ch(E))return m.updateId(E,Ds(k)),void m.updateId(T,k);var I=m.get(Ds(T));I&&m.updateId(I,Ds(k))}}},!0),s.on("element.changed",function(x){var E=x.element;if(ch(E)){var C=E,k=m.get(ah(C));k&&k!==C&&s.fire("element.changed",{element:k})}}),this.executed("shape.toggleCollapse",400,function(x){var E=x.shape;P(E,"bpmn:SubProcess")&&(zt(E)?b(x):(v(x),f._showRecursively(E.children)))},!0),this.reverted("shape.toggleCollapse",400,function(x){var E=x.shape;P(E,"bpmn:SubProcess")&&(zt(E)?b(x):(v(x),f._showRecursively(E.children)))},!0),this.postExecuted("shape.toggleCollapse",600,function(x){var E=x.shape;if(P(E,"bpmn:SubProcess")){var C=x.newRootElement;C&&(zt(E)?f._moveChildrenToShape(C,E):f._moveChildrenToShape(E,C))}},!0),s.on("copyPaste.createTree",function(x){var E=x.element,C=x.children;if(_(E)){var k=ma(E),T=m.get(k);T&&C.push.apply(C,T.children)}}),s.on("copyPaste.copyElement",function(x){var E=x.descriptor,k=x.elements,T=x.element.parent;if(P(st(T),"bpmndi:BPMNPlane")){var I=ah(T),M=wt(k,function(R){return R.id===I});M&&(E.parent=M.id)}}),s.on("copyPaste.pasteElement",function(x){var E=x.descriptor;E.parent&&(_(E.parent)||E.parent.hidden)&&(E.hidden=!0)})}function hy(r,s){r.invoke(Ee,this),this.postExecuted("shape.replace",function(c){var l=c.context.oldShape,u=c.context.newShape;if(P(u,"bpmn:SubProcess")&&(P(l,"bpmn:Task")||P(l,"bpmn:CallActivity"))&&zt(u)){var h,m={x:(h=u).x+h.width/6,y:h.y+h.height/2};s.createShape({type:"bpmn:StartEvent"},m,u)}})}function py(r,s){Ee.call(this,r),this.postExecuted("shape.toggleCollapse",1500,function(c){var l=c.shape;if(!zt(l)){var u=Lc(l);u.forEach(function(m){var f=m.incoming.slice(),_=m.outgoing.slice();q(f,function(v){h(v,!0)}),q(_,function(v){h(v,!1)})})}function h(m,f){-1!==u.indexOf(m.source)&&-1!==u.indexOf(m.target)||(f?s.reconnectEnd(m,l,tt(l)):s.reconnectStart(m,l,tt(l)))}},!0)}function qd(r,s,c,l){Ee.call(this,r),this.executed(["shape.toggleCollapse"],500,function(u){var h,m=u.context.shape;P(m,"bpmn:SubProcess")&&(m.collapsed?st(m).isExpanded=!1:((h=m.children).length&&h.forEach(function(f){"label"!==f.type||f.businessObject.name||(f.hidden=!0)}),st(m).isExpanded=!0))}),this.reverted(["shape.toggleCollapse"],500,function(u){var h=u.context.shape;st(h).isExpanded=!h.collapsed}),this.postExecuted(["shape.toggleCollapse"],500,function(u){var h,_,v,m=u.context.shape,f=s.getDefaultSize(m);h=m.collapsed?{x:(_=m).x+(_.width-(v=f).width)/2,y:_.y+(_.height-v.height)/2,width:v.width,height:v.height}:function(_,v){var x,E,k=v;return(x=pf((E=_.children,E.filter(function(T){return!T.hidden})).concat([_])))?(k.width=Math.max(x.width,k.width),k.height=Math.max(x.height,k.height),k.x=x.x+(x.width-k.width)/2,k.y=x.y+(x.height-k.height)/2):(k.x=_.x+(_.width-k.width)/2,k.y=_.y+(_.height-k.height)/2),k}(m,f),c.resizeShape(m,h,null,{autoResize:!m.collapsed&&"nwse"})})}function Kh(r,s,c,l){s.invoke(Ee,this),this.preExecute("shape.delete",function(u){var h=u.context.shape,m=h.businessObject;Ci(h)||(P(h,"bpmn:Participant")&&zt(h)&&c.ids.unclaim(m.processRef.id),l.unclaimId(m.id,m))}),this.preExecute("connection.delete",function(u){var h=u.context.connection.businessObject;l.unclaimId(h.id,h)}),this.preExecute("canvas.updateRoot",function(){var u=r.getRootElement(),h=u.businessObject;P(u,"bpmn:Collaboration")&&c.ids.unclaim(h.id)})}function Kd(r,s){Ee.call(this,r),this.preExecute("connection.delete",function(c){var l=c.context.connection,u=l.source;(function(h,m){if(!P(h,"bpmn:SequenceFlow"))return!1;var f=Ie(m),_=Ie(h);return f.get("default")===_})(l,u)&&s.updateProperties(u,{default:null})})}function cE(r,s,c){var l;Ee.call(this,r);var h=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(h,5e3,function(m){(l=l||new my).enter()}),this.postExecuted(h,500,function(m){!function(){if(!l)throw new Error(c("out of bounds release"));l.leave()&&(s.updateLaneRefs(l.flowNodes,l.lanes),l=null)}()}),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],function(m){var f=m.context.shape,_=function u(){if(!l)throw new Error(c("out of bounds release"));return l}();f.labelTarget||(P(f,"bpmn:Lane")&&_.addLane(f),P(f,"bpmn:FlowNode")&&_.addFlowNode(f))})}function my(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(r){this.lanes.push(r)},this.addFlowNode=function(r){this.flowNodes.push(r)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}Me(Vs,Ee),Vs.prototype._moveChildrenToShape=function(r,s){var c,l=this._modeling,u=r.children;if(u){var h=(u=u.concat(u.reduce(function(v,b){return b.label&&b.label.parent!==r?v.concat(b.label):v},[]))).filter(function(v){return!v.hidden});if(h.length){var m=ri(h);if(s.x){var f=tt(s),_=tt(m);c={x:f.x-_.x,y:f.y-_.y}}else c={x:180-m.x,y:160-m.y};l.moveElements(u,c,s,{autoResize:!1})}else l.moveElements(u,{x:0,y:0},s,{autoResize:!1})}},Vs.prototype._showRecursively=function(r,s){var c=this,l=[];return r.forEach(function(u){u.hidden=!!s,l=l.concat(u),u.children&&(l=l.concat(c._showRecursively(u.children,u.collapsed||s)))}),l},Vs.prototype._addDiagram=function(r){var s=this._bpmnjs.getDefinitions().diagrams;return r.businessObject||(r=this._createNewDiagram(r)),s.push(r.di.$parent),r},Vs.prototype._createNewDiagram=function(r){var s=this._bpmnFactory,c=this._elementFactory,l=s.create("bpmndi:BPMNPlane",{bpmnElement:r}),u=s.create("bpmndi:BPMNDiagram",{plane:l});return l.$parent=u,c.createRoot({id:ma(r),type:r.$type,di:l,businessObject:r,collapsed:!0})},Vs.prototype._removeDiagram=function(r){var s=this._bpmnjs.getDefinitions().diagrams,c=wt(s,function(l){return l.plane.bpmnElement.id===r.id});return s.splice(s.indexOf(c),1),c},Vs.$inject=["canvas","eventBus","modeling","elementFactory","bpmnFactory","bpmnjs","elementRegistry"],hy.$inject=["injector","modeling"],Me(hy,Ee),Me(py,Ee),py.$inject=["eventBus","modeling"],Me(qd,Ee),qd.$inject=["eventBus","elementFactory","modeling"],Me(Kh,Ee),Kh.$inject=["canvas","injector","moddle","modeling"],Me(Kd,Ee),Kd.$inject=["eventBus","modeling"],cE.$inject=["eventBus","modeling","translate"],Me(cE,Ee);var u2={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","createBehavior","createDataObjectBehavior","createParticipantBehavior","dataInputAssociationBehavior","dataStoreBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","fixHoverBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","layoutConnectionBehavior","messageFlowBehavior","modelingFeedback","removeElementBehavior","removeEmbeddedLabelBoundsBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","rootElementReferenceBehavior","spaceToolBehavior","subProcessPlaneBehavior","subProcessStartEventBehavior","toggleCollapseConnectionBehaviour","toggleElementCollapseBehaviour","unclaimIdBehavior","updateFlowNodeRefsBehavior","unsetDefaultFlowBehavior"],adaptiveLabelPositioningBehavior:["type",qv],appendBehavior:["type",Yv],associationBehavior:["type",Xv],attachEventBehavior:["type",Zv],boundaryEventBehavior:["type",bf],createBehavior:["type",gi],createDataObjectBehavior:["type",Jv],createParticipantBehavior:["type",Bw],dataInputAssociationBehavior:["type",Vw],dataStoreBehavior:["type",Hw],deleteLaneBehavior:["type",ey],detachEventBehavior:["type",Ca],dropOnFlowBehavior:["type",Cf],eventBasedGatewayBehavior:["type",Df],fixHoverBehavior:["type",Uw],groupBehavior:["type",ty],importDockingFix:["type",iy],isHorizontalFix:["type",Mf],labelBehavior:["type",Pf],layoutConnectionBehavior:["type",Hh],messageFlowBehavior:["type",Ff],modelingFeedback:["type",Qw],removeElementBehavior:["type",Lr],removeEmbeddedLabelBoundsBehavior:["type",ly],removeParticipantBehavior:["type",dy],replaceConnectionBehavior:["type",Jw],replaceElementBehaviour:["type",Gd],resizeBehavior:["type",iE],resizeLaneBehavior:["type",rs],rootElementReferenceBehavior:["type",qh],spaceToolBehavior:["type",oE],subProcessPlaneBehavior:["type",Vs],subProcessStartEventBehavior:["type",hy],toggleCollapseConnectionBehaviour:["type",py],toggleElementCollapseBehaviour:["type",qd],unclaimIdBehavior:["type",Kh],unsetDefaultFlowBehavior:["type",Kd],updateFlowNodeRefsBehavior:["type",cE]};function fy(r,s){var c=Ii(r,s,-15);return"intersect"!==c?c:null}function qi(r){Kr.call(this,r)}function Bf(r){return!r||Ci(r)}function gy(r){do{if(P(r,"bpmn:Process"))return Ie(r);if(P(r,"bpmn:Participant"))return Ie(r).processRef||Ie(r)}while(r=r.parent)}function Yh(r){return P(r,"bpmn:TextAnnotation")}function os(r){return P(r,"bpmn:Group")&&!r.labelTarget}function Yd(r){return P(r,"bpmn:BoundaryEvent")&&js(r,"bpmn:CompensateEventDefinition")}function Da(r){return Ie(r).isForCompensation}function Xd(r){for(var s=r;s=s.parent;){if(P(s,"bpmn:FlowElementsContainer"))return Ie(s);if(P(s,"bpmn:Participant"))return Ie(s).processRef}return null}function js(r,s){return!!wt(Ie(r).eventDefinitions||[],function(c){return P(c,s)})}function _y(r,s){return(Ie(r).eventDefinitions||[]).every(function(c){return P(c,s)})}function vy(r){return r.waypoints}function yy(r,s){return-1!==function(l){for(var u=[];l;)(l=l.parent)&&u.push(l);return u}(s).indexOf(r)}function Vf(r,s,c){if(Bf(r)||Bf(s))return null;if(!P(c,"bpmn:DataAssociation")){if(mE(r,s))return{type:"bpmn:MessageFlow"};if(jf(r,s))return{type:"bpmn:SequenceFlow"}}return wy(r,s)||(Yd(r)&&Da(s)?{type:"bpmn:Association",associationDirection:"One"}:!!De(r,s)&&{type:"bpmn:Association"})}function Hs(r,s,c){return!(!Ci(r)&&!os(r))||!(P(s,"bpmn:Participant")&&!zt(s))&&(P(r,"bpmn:Participant")?P(s,"bpmn:Process")||P(s,"bpmn:Collaboration"):Bt(r,["bpmn:DataInput","bpmn:DataOutput"])&&r.parent?s===r.parent:P(r,"bpmn:Lane")?P(s,"bpmn:Participant")||P(s,"bpmn:Lane"):!(P(r,"bpmn:BoundaryEvent")&&(l=r,!Ie(l).cancelActivity||!lE(l)&&!dE(l)))&&(P(r,"bpmn:FlowElement")&&!P(r,"bpmn:DataStoreReference")?P(s,"bpmn:FlowElementsContainer")?zt(s):Bt(s,["bpmn:Participant","bpmn:Lane"]):P(r,"bpmn:DataStoreReference")&&P(s,"bpmn:Collaboration")?To(Ie(s).get("participants"),function(l){return!!l.get("processRef")}):Bt(r,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?Bt(s,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):!!P(r,"bpmn:MessageFlow")&&(P(s,"bpmn:Collaboration")||r.source.parent==s||r.target.parent==s)));var l}function BM(r){return P(r,"bpmn:Lane")}function lE(r){var s=Ie(r);return s&&!(s.eventDefinitions&&s.eventDefinitions.length)}function dE(r){return uE(r,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function uE(r,s){return s.some(function(c){return js(r,c)})}function Xh(r,s,c,l){if(Array.isArray(r)||(r=[r]),1!==r.length)return!1;var h,u=r[0];return!Ci(u)&&!!function h2(r){return!!function(s){return!Ci(s)&&P(s,"bpmn:BoundaryEvent")}(r)||!(!P(r,"bpmn:IntermediateThrowEvent")||!lE(r))||P(r,"bpmn:IntermediateCatchEvent")&&dE(r)}(u)&&!mo(s)&&!(!P(s,"bpmn:Activity")||Da(s))&&!(l&&!fy(l,s))&&!(P(h=s,"bpmn:ReceiveTask")&&wt(h.incoming,function(m){return P(m.source,"bpmn:EventBasedGateway")}))&&"attach"}function hE(r,s,c){if(!s)return!1;var l={replacements:[]};return q(r,function(u){var h;mo(s)||P(u,"bpmn:StartEvent")&&"label"!==u.type&&Hs(u,s)&&((h=u)&&!1!==Ie(h).isInterrupting||l.replacements.push({oldElementId:u.id,newElementType:"bpmn:StartEvent"}),(function(h){return Em(h,"bpmn:ErrorEventDefinition")}(u)||function(h){return Em(h,"bpmn:EscalationEventDefinition")}(u)||function(h){return Em(h,"bpmn:CompensateEventDefinition")}(u))&&l.replacements.push({oldElementId:u.id,newElementType:"bpmn:StartEvent"}),uE(u,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&P(s,"bpmn:SubProcess")&&l.replacements.push({oldElementId:u.id,newElementType:"bpmn:StartEvent"})),P(s,"bpmn:Transaction")||js(u,"bpmn:CancelEventDefinition")&&"label"!==u.type&&(P(u,"bpmn:EndEvent")&&Hs(u,s)&&l.replacements.push({oldElementId:u.id,newElementType:"bpmn:EndEvent"}),P(u,"bpmn:BoundaryEvent")&&Xh(u,s,0,c)&&l.replacements.push({oldElementId:u.id,newElementType:"bpmn:BoundaryEvent"}))}),!!l.replacements.length&&l}function pE(r,s){return!To(r,BM)&&(!s||r.every(function(c){return Hs(c,s)}))}function by(r,s,c,l){return!!s&&(!(!Ci(r)&&!os(r))||!(c===s||c&&yy(c,s))&&(Hs(r,s)||Hf(r,s)))}function xy(r,s){return P(r,"bpmn:SubProcess")?zt(r)&&(!s||s.width>=100&&s.height>=80):P(r,"bpmn:Lane")?!s||s.width>=130&&s.height>=60:P(r,"bpmn:Participant")?!s||s.width>=250&&s.height>=50:!!Yh(r)||!!os(r)}function De(r,s){return!(!Yd(r)||!Da(s))||!yy(s,r)&&!yy(r,s)&&(l=s,u=Yh(r),h=Yh(l),!(!u&&!h||u===h)||!!wy(r,s));var l,u,h}function mE(r,s){return!(gE(r)&&!gE(s))&&P(c=r,"bpmn:InteractionNode")&&!P(c,"bpmn:BoundaryEvent")&&(!P(c,"bpmn:Event")||P(c,"bpmn:ThrowEvent")&&_y(c,"bpmn:MessageEventDefinition"))&&P(l=s,"bpmn:InteractionNode")&&!Da(l)&&(!P(l,"bpmn:Event")||P(l,"bpmn:CatchEvent")&&_y(l,"bpmn:MessageEventDefinition"))&&!(P(l,"bpmn:BoundaryEvent")&&!js(l,"bpmn:MessageEventDefinition"))&&!function(l,u){return gy(l)===gy(u)}(r,s);var l,c}function jf(r,s){return P(c=r,"bpmn:FlowNode")&&!P(c,"bpmn:EndEvent")&&!mo(c)&&!(P(c,"bpmn:IntermediateThrowEvent")&&js(c,"bpmn:LinkEventDefinition"))&&!Yd(c)&&!Da(c)&&P(l=s,"bpmn:FlowNode")&&!P(l,"bpmn:StartEvent")&&!P(l,"bpmn:BoundaryEvent")&&!mo(l)&&!(P(l,"bpmn:IntermediateCatchEvent")&&js(l,"bpmn:LinkEventDefinition"))&&!Da(l)&&function(l,u){return Xd(l)===Xd(u)}(r,s)&&!(P(r,"bpmn:EventBasedGateway")&&!function(l){return P(l,"bpmn:ReceiveTask")||P(l,"bpmn:IntermediateCatchEvent")&&(js(l,"bpmn:MessageEventDefinition")||js(l,"bpmn:TimerEventDefinition")||js(l,"bpmn:ConditionalEventDefinition")||js(l,"bpmn:SignalEventDefinition"))}(s));var l,c}function wy(r,s){return Bt(r,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Bt(s,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:!(!Bt(s,["bpmn:DataObjectReference","bpmn:DataStoreReference"])||!Bt(r,["bpmn:Activity","bpmn:CatchEvent"]))&&{type:"bpmn:DataOutputAssociation"}}function Hf(r,s,c){if(!s)return!1;if(Array.isArray(r)){if(1!==r.length)return!1;r=r[0]}return s.source!==r&&s.target!==r&&Bt(s,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!Ci(s)&&P(r,"bpmn:FlowNode")&&!P(r,"bpmn:BoundaryEvent")&&Hs(r,s.parent)}function fE(r,s){return!!Ci(s)||!(P(s,"bpmn:Lane")&&(c=r,l=s.parent,!c||!l||-1===c.indexOf(l)));var c,l}function gE(r){return Gm(r,"bpmn:Process")||Gm(r,"bpmn:Collaboration")}Me(qi,Kr),qi.$inject=["eventBus"],qi.prototype.init=function(){this.addRule("connection.start",function(r){return function(s){return Bf(s)?null:Bt(s,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group","bpmn:TextAnnotation"])}(r.source)}),this.addRule("connection.create",function(r){var s=r.source,c=r.target,l=r.hints||{},u=l.targetParent;if(l.targetAttach)return!1;u&&(c.parent=u);try{return Vf(s,c)}finally{u&&(c.parent=null)}}),this.addRule("connection.reconnect",function(r){return Vf(r.source,r.target,r.connection)}),this.addRule("connection.updateWaypoints",function(r){return{type:r.connection.type}}),this.addRule("shape.resize",function(r){return xy(r.shape,r.newBounds)}),this.addRule("elements.create",function(r){var s=r.elements,c=r.position,l=r.target;return!(vy(l)&&!Hf(s,l))&&qa(s,function(u){return vy(u)?Vf(u.source,u.target,u):u.host?Xh(u,u.host,0,c):by(u,l,null)})}),this.addRule("elements.move",function(r){var s=r.target,c=r.shapes,l=r.position;return Xh(c,s,0,l)||hE(c,s,l)||pE(c,s)||Hf(c,s)}),this.addRule("shape.create",function(r){return by(r.shape,r.target,r.source)}),this.addRule("shape.attach",function(r){return Xh(r.shape,r.target,0,r.position)}),this.addRule("element.copy",function(r){return fE(r.elements,r.element)})},qi.prototype.canConnectMessageFlow=mE,qi.prototype.canConnectSequenceFlow=jf,qi.prototype.canConnectDataAssociation=wy,qi.prototype.canConnectAssociation=De,qi.prototype.canMove=pE,qi.prototype.canAttach=Xh,qi.prototype.canReplace=hE,qi.prototype.canDrop=Hs,qi.prototype.canInsert=Hf,qi.prototype.canCreate=by,qi.prototype.canConnect=Vf,qi.prototype.canResize=xy,qi.prototype.canCopy=fE;var VM={__depends__:[Is],__init__:["bpmnRules"],bpmnRules:["type",qi]};function _E(r,s){r.on("saveXML.start",2e3,function(){q(s.getRootElements(),function(c){var l,u=st(c);l=ii(pt(Lc([c],!1),function(h){return h!==c&&!h.labelTarget}),st),u.set("planeElement",l)})})}_E.$inject=["eventBus","canvas"];var jM={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",_E]};function Zh(r){Ee.call(this,r);var s=this;this.preExecute(["shape.create","connection.create"],function(c){var l=c.context,m=s.getOrdering(l.shape||l.connection,l.parent);m&&(void 0!==m.parent&&(l.parent=m.parent),l.parentIndex=m.index)}),this.preExecute(["shape.move","connection.move"],function(c){var l=c.context,u=l.shape||l.connection,m=s.getOrdering(u,l.newParent||u.parent);m&&(void 0!==m.parent&&(l.newParent=m.parent),l.newParentIndex=m.index)})}function zf(r,s,c){Zh.call(this,r);var l=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:9,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function u(h){var m=h.order;if(m||(h.order=m=function(f){if(f.labelTarget)return{level:10};var _=wt(l,function(v){return Bt(f,[v.type])});return _&&_.order||{level:1}}(h)),!m)throw new Error("no order for <"+h.id+">");return m}this.getOrdering=function(h,m){if(h.labelTarget)return{parent:s.findRoot(m)||s.getRootElement(),index:-1};var f=u(h);f.containers&&(m=function(b,x,E){for(var C=x;C&&!Bt(C,E);)C=C.parent;if(!C)throw new Error("no parent for <"+b.id+"> in <"+(x&&x.id)+">");return C}(h,m,f.containers));var _=m.children.indexOf(h),v=Wa(m.children,function(b){return!(!h.labelTarget&&b.labelTarget)&&f.level<u(b).level});return-1!==v&&-1!==_&&_<v&&(v-=1),{index:v,parent:m}}}Zh.prototype.getOrdering=function(r,s){return null},Me(Zh,Ee),zf.$inject=["eventBus","canvas","translate"],Me(zf,Zh);var HM={__depends__:[Bo],__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",zf]};function Zd(r,s){this._eventBus=r,this._dragging=s,this._tools=[],this._active=null}Zd.$inject=["eventBus","dragging"],Zd.prototype.registerTool=function(r,s){var c=this._tools;if(!s)throw new Error('A tool has to be registered with it\'s "events"');c.push(r),this.bindEvents(r,s)},Zd.prototype.isActive=function(r){return r&&this._active===r},Zd.prototype.length=function(r){return this._tools.length},Zd.prototype.setActive=function(r){var s=this._eventBus;this._active!==r&&(this._active=r,s.fire("tool-manager.update",{tool:r}))},Zd.prototype.bindEvents=function(r,s){var c=this._eventBus,l=this._dragging,u=[];c.on(s.tool+".init",function(h){if(!h.context.reactivate&&this.isActive(r))return this.setActive(null),void l.cancel();this.setActive(r)},this),q(s,function(h){u.push(h+".ended"),u.push(h+".canceled")}),c.on(u,250,function(h){var m,f;this._active&&((f=(m=h).originalEvent&&m.originalEvent.target)&&vs(f,'.group[data-group="tools"]')||this.setActive(null))},this)};var Qh={__depends__:[va],__init__:["toolManager"],toolManager:["type",Zd]};function pc(r,s){return-1!==r.indexOf(s)}var ka=Math.abs,p2=Math.round,vo={x:"width",y:"height"},vE="crosshair",mc={n:"top",w:"left",s:"bottom",e:"right"},Qd={n:"s",w:"e",s:"n",e:"w"};function zo(r,s,c,l,u,h,m){this._canvas=r,this._dragging=s,this._eventBus=c,this._modeling=l,this._rules=u,this._toolManager=h,this._mouse=m;var f=this;h.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),c.on("spaceTool.selection.end",function(_){c.once("spaceTool.selection.ended",function(){f.activateMakeSpace(_.originalEvent)})}),c.on("spaceTool.move",1500,function(_){var v=_.context,b=v.initialized;b||(b=v.initialized=f.init(_,v)),b&&Jd(_)}),c.on("spaceTool.end",function(_){var v=_.context,b=v.axis,x=v.direction,E=v.movingShapes,C=v.resizingShapes,k=v.start;if(v.initialized){Jd(_);var T={x:0,y:0};T[b]=p2(_["d"+b]),f.makeSpace(E,C,T,x,k),c.once("spaceTool.ended",function(I){f.activateSelection(I.originalEvent,!0,!0)})}})}function ss(r){return{top:r.top-20,right:r.right+20,bottom:r.bottom+20,left:r.left-20}}function Jd(r){var s,c,l=r.context.spaceToolConstraints;l&&(Re(l.left)&&(s=Math.max(r.x,l.left),r.dx=r.dx+s-r.x,r.x=s),Re(l.right)&&(s=Math.min(r.x,l.right),r.dx=r.dx+s-r.x,r.x=s),Re(l.top)&&(c=Math.max(r.y,l.top),r.dy=r.dy+c-r.y,r.y=c),Re(l.bottom)&&(c=Math.min(r.y,l.bottom),r.dy=r.dy+c-r.y,r.y=c))}function oi(r,s){return-1!==r.indexOf(s)}function Ma(r){return!!r.waypoints}function eu(r){return!!r.labelTarget}zo.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"],zo.prototype.activateSelection=function(r,s,c){this._dragging.init(r,"spaceTool.selection",{autoActivate:s,cursor:vE,data:{context:{reactivate:c}},trapClick:!1})},zo.prototype.activateMakeSpace=function(r){this._dragging.init(r,"spaceTool",{autoActivate:!0,cursor:vE,data:{context:{}}})},zo.prototype.makeSpace=function(r,s,c,l,u){return this._modeling.createSpace(r,s,c,l,u)},zo.prototype.init=function(r,s){var c=ka(r.dx)>ka(r.dy)?"x":"y",l=r["d"+c],u=r[c]-l;if(ka(l)<5)return!1;l<0&&(l*=-1),gd(r)&&(l*=-1);var h=function(v,b){if("x"===v){if(b>0)return"e";if(b<0)return"w"}if("y"===v){if(b>0)return"s";if(b<0)return"n"}return null}(c,l),m=Lc(this._canvas.getRootElement(),!0),f=this.calculateAdjustments(m,c,l,u);return ee(s,f,{axis:c,direction:h,spaceToolConstraints:function(v,b,x,E,C){var k=v.movingShapes,T=v.resizingShapes;if(T.length){var I,M,R={};return q(T,function(F){var N,z,Z,Q,K,ie,ye=F.attachers,Oe=F.children,oe=Xe(F),de=pt(Oe,function(pe){return!(Ma(pe)||eu(pe)||oi(k,pe)||oi(T,pe))}),H=pt(Oe,function(pe){return!Ma(pe)&&!eu(pe)&&oi(k,pe)}),A=[],W=[];de.length&&(z=ss(Xe(ri(de))),N=E-oe[mc[x]]+z[mc[x]],"n"===x?R.bottom=M=Re(M)?Math.min(M,N):N:"w"===x?R.right=M=Re(M)?Math.min(M,N):N:"s"===x?R.top=I=Re(I)?Math.max(I,N):N:"e"===x&&(R.left=I=Re(I)?Math.max(I,N):N)),H.length&&(Z=ss(Xe(ri(H))),N=E-Z[mc[Qd[x]]]+oe[mc[Qd[x]]],"n"===x?R.bottom=M=Re(M)?Math.min(M,N):N:"w"===x?R.right=M=Re(M)?Math.min(M,N):N:"s"===x?R.top=I=Re(I)?Math.max(I,N):N:"e"===x&&(R.left=I=Re(I)?Math.max(I,N):N)),ye&&ye.length&&(ye.forEach(function(pe){oi(k,pe)?A.push(pe):W.push(pe)}),A.length&&(Q=Xe(ri(A.map(tt))),K=oe[mc[Qd[x]]]-(Q[mc[Qd[x]]]-E)),W.length&&(ie=Xe(ri(W.map(tt)))[mc[x]]-(oe[mc[x]]-E)),"n"===x?(N=Math.min(K||1/0,ie||1/0),R.bottom=M=Re(M)?Math.min(M,N):N):"w"===x?(N=Math.min(K||1/0,ie||1/0),R.right=M=Re(M)?Math.min(M,N):N):"s"===x?(N=Math.max(K||-1/0,ie||-1/0),R.top=I=Re(I)?Math.max(I,N):N):"e"===x&&(N=Math.max(K||-1/0,ie||-1/0),R.left=I=Re(I)?Math.max(I,N):N));var te=C&&C[F.id];te&&("n"===x?(N=E+F[vo[b]]-te[vo[b]],R.bottom=M=Re(M)?Math.min(M,N):N):"w"===x?(N=E+F[vo[b]]-te[vo[b]],R.right=M=Re(M)?Math.min(M,N):N):"s"===x?(N=E-F[vo[b]]+te[vo[b]],R.top=I=Re(I)?Math.max(I,N):N):"e"===x&&(N=E-F[vo[b]]+te[vo[b]],R.left=I=Re(I)?Math.max(I,N):N))}),R}}(f,c,h,u,this._eventBus.fire("spaceTool.getMinDimensions",{axis:c,direction:h,shapes:f.resizingShapes,start:u})),start:u}),uh("resize-"+("x"===c?"ew":"ns")),!0},zo.prototype.calculateAdjustments=function(r,s,c,l){var u=this._rules,h=[],m=[],f=[],_=[];function v(x){h.includes(x)||h.push(x);var E=x.label;E&&!h.includes(E)&&h.push(E)}q(r,function(x){if(x.parent&&!eu(x))if(Ma(x))_.push(x);else{var E=x[s],C=E+x[vo[s]];if(x.host&&(c>0&&tt(x)[s]>l||c<0&&tt(x)[s]<l))f.push(x);else{var k;if(!(c>0&&E>l||c<0&&C<l))return E<l&&C>l&&u.allowed("shape.resize",{shape:x})?void(m.includes(k=x)||m.push(k)):void 0;v(x)}}}),q(h,function(x){var E=x.attachers;E&&q(E,function(C){v(C)})});var b=h.concat(m);return q(f,function(x){oi(b,x.host)&&v(x)}),b=h.concat(m),q(_,function(x){var C=x.target,k=x.label;oi(b,x.source)&&oi(b,C)&&k&&v(k)}),{movingShapes:h,resizingShapes:m}},zo.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var r=this._mouse.getLastMoveEvent();this.activateSelection(r,!!r)},zo.prototype.isActive=function(){var r=this._dragging.context();return!!r&&/^spaceTool/.test(r.prefix)};var Xr="djs-dragging",Jt="djs-resizing",Sa=Math.max;function El(r,s,c,l,u){function h(m,f){q(m,function(_){u.addDragger(_,f),c.addMarker(_,Xr)})}r.on("spaceTool.selection.start",function(m){var f=c.getLayer("space"),_=m.context,x=Ye("g");ve(x,l.cls("djs-crosshair-group",["no-events"])),rt(f,x);var E=Ye("path");ve(E,"d","M 0,-10000 L 0,10000"),Nt(E).add("djs-crosshair"),rt(x,E);var C=Ye("path");ve(C,"d","M -10000,0 L 10000,0"),Nt(C).add("djs-crosshair"),rt(x,C),_.crosshairGroup=x}),r.on("spaceTool.selection.move",function(m){Ir(m.context.crosshairGroup,m.x,m.y)}),r.on("spaceTool.selection.cleanup",function(m){var f=m.context.crosshairGroup;f&&$n(f)}),r.on("spaceTool.move",250,function(m){var f=m.context,_=f.line,v=f.axis,b=f.movingShapes,x=f.resizingShapes;if(f.initialized){if(!f.dragGroup){var E=c.getLayer("space");ve(_=Ye("path"),"d","M0,0 L0,0"),Nt(_).add("djs-crosshair"),rt(E,_),f.line=_;var C=Ye("g");ve(C,l.cls("djs-drag-group",["no-events"])),rt(c.getActiveLayer(),C),h(b,C),h(f.movingConnections=s.filter(function(M){var R=!1;q(b,function(Z){q(Z.outgoing,function(Q){M===Q&&(R=!0)})});var F=!1;q(b,function(Z){q(Z.incoming,function(Q){M===Q&&(F=!0)})});var N=!1;q(x,function(Z){q(Z.outgoing,function(Q){M===Q&&(N=!0)})});var z=!1;return q(x,function(Z){q(Z.incoming,function(Q){M===Q&&(z=!0)})}),M.waypoints&&(R||N)&&(F||z)}),C),f.dragGroup=C}if(!f.frameGroup){var k=Ye("g");ve(k,l.cls("djs-frame-group",["no-events"])),rt(c.getActiveLayer(),k);var T=[];q(x,function(M){var R=u.addFrame(M,k),F=R.getBBox();T.push({element:R,initialBounds:F}),c.addMarker(M,Jt)}),f.frameGroup=k,f.frames=T}ve(_,{d:{x:"M"+m.x+", -10000 L"+m.x+", 10000",y:"M -10000, "+m.y+" L 10000, "+m.y}[v]});var I={x:m.dx,y:m.dy};I[{x:"y",y:"x"}[f.axis]]=0,Ir(f.dragGroup,I.x,I.y),q(f.frames,function(M){var R,F,N=M.element,z=M.initialBounds;ve(N,"e"===f.direction?{width:Sa(z.width+I.x,5)}:{width:R=Sa(z.width-I.x,5),x:z.x+z.width-R}),ve(N,"s"===f.direction?{height:Sa(z.height+I.y,5)}:{height:F=Sa(z.height-I.y,5),y:z.y+z.height-F})})}}),r.on("spaceTool.cleanup",function(m){var f=m.context,v=f.movingConnections,b=f.resizingShapes,x=f.line,E=f.dragGroup,C=f.frameGroup;q(f.movingShapes,function(k){c.removeMarker(k,Xr)}),q(v,function(k){c.removeMarker(k,Xr)}),E&&($n(x),$n(E)),q(b,function(k){c.removeMarker(k,Jt)}),C&&$n(C)})}El.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];var tu={__init__:["spaceToolPreview"],__depends__:[va,Is,Qh,Mh,Sh],spaceTool:["type",zo],spaceToolPreview:["type",El]};function Ta(r){r.invoke(zo,this)}Ta.$inject=["injector"],Me(Ta,zo),Ta.prototype.calculateAdjustments=function(r,s,c,l){var u=zo.prototype.calculateAdjustments.call(this,r,s,c,l);return u.resizingShapes=u.resizingShapes.filter(function(h){return!P(h,"bpmn:TextAnnotation")}),u};var Cl={__depends__:[tu],spaceTool:["type",Ta]};function bn(r,s){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=s,this._eventBus=r,this._uid=1,r.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}bn.$inject=["eventBus","injector"],bn.prototype.execute=function(r,s){if(!r)throw new Error("command required");this._currentExecution.trigger="execute";const c={command:r,context:s};this._pushAction(c),this._internalExecute(c),this._popAction(c)},bn.prototype.canExecute=function(r,s){const c={command:r,context:s},l=this._getHandler(r);let u=this._fire(r,"canExecute",c);if(void 0===u){if(!l)return!1;l.canExecute&&(u=l.canExecute(s))}return u},bn.prototype.clear=function(r){this._stack.length=0,this._stackIdx=-1,!1!==r&&this._fire("changed",{trigger:"clear"})},bn.prototype.undo=function(){let r,s=this._getUndoAction();if(s){for(this._currentExecution.trigger="undo",this._pushAction(s);s&&(this._internalUndo(s),r=this._getUndoAction(),r&&r.id===s.id);)s=r;this._popAction()}},bn.prototype.redo=function(){let r,s=this._getRedoAction();if(s){for(this._currentExecution.trigger="redo",this._pushAction(s);s&&(this._internalExecute(s,!0),r=this._getRedoAction(),r&&r.id===s.id);)s=r;this._popAction()}},bn.prototype.register=function(r,s){this._setHandler(r,s)},bn.prototype.registerHandler=function(r,s){if(!r||!s)throw new Error("command and handlerCls must be defined");const c=this._injector.instantiate(s);this.register(r,c)},bn.prototype.canUndo=function(){return!!this._getUndoAction()},bn.prototype.canRedo=function(){return!!this._getRedoAction()},bn.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},bn.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},bn.prototype._internalUndo=function(r){const s=r.command,c=r.context,l=this._getHandler(s);this._atomicDo(()=>{this._fire(s,"revert",r),l.revert&&this._markDirty(l.revert(c)),this._revertedAction(r),this._fire(s,"reverted",r)})},bn.prototype._fire=function(r,s,c){arguments.length<3&&(c=s,s=null);const l=s?[r+"."+s,s]:[r];let u;c=this._eventBus.createEvent(c);for(const h of l)if(u=this._eventBus.fire("commandStack."+h,c),c.cancelBubble)break;return u},bn.prototype._createId=function(){return this._uid++},bn.prototype._atomicDo=function(r){const s=this._currentExecution;s.atomic=!0;try{r()}finally{s.atomic=!1}},bn.prototype._internalExecute=function(r,s){const c=r.command,l=r.context,u=this._getHandler(c);if(!u)throw new Error("no command handler registered for <"+c+">");this._pushAction(r),s||(this._fire(c,"preExecute",r),u.preExecute&&u.preExecute(l),this._fire(c,"preExecuted",r)),this._atomicDo(()=>{this._fire(c,"execute",r),u.execute&&this._markDirty(u.execute(l)),this._executedAction(r,s),this._fire(c,"executed",r)}),s||(this._fire(c,"postExecute",r),u.postExecute&&u.postExecute(l),this._fire(c,"postExecuted",r)),this._popAction(r)},bn.prototype._pushAction=function(r){const s=this._currentExecution,c=s.actions,l=c[0];if(s.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+r.command+")");r.id||(r.id=l&&l.id||this._createId()),c.push(r)},bn.prototype._popAction=function(){const r=this._currentExecution,s=r.trigger,c=r.actions,l=r.dirty;c.pop(),c.length||(this._eventBus.fire("elements.changed",{elements:Qp("id",l.reverse())}),l.length=0,this._fire("changed",{trigger:s}),r.trigger=null)},bn.prototype._markDirty=function(r){const s=this._currentExecution;r&&(r=Ae(r)?r:[r],s.dirty=s.dirty.concat(r))},bn.prototype._executedAction=function(r,s){const c=++this._stackIdx;s||this._stack.splice(c,this._stack.length,r)},bn.prototype._revertedAction=function(r){this._stackIdx--},bn.prototype._getHandler=function(r){return this._handlerMap[r]},bn.prototype._setHandler=function(r,s){if(!r||!s)throw new Error("command and handler required");if(this._handlerMap[r])throw new Error("overriding handler for command <"+r+">");this._handlerMap[r]=s};var nu={commandStack:["type",bn]},iu=new j_("tt");function fc(r,s){r.style.display=!1===s?"none":""}var Jh=".djs-tooltip";function Cr(r,s){var c,l;this._eventBus=r,this._canvas=s,this._ids=iu,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=(c=s.getContainer(),nr(l=Sn('<div class="djs-tooltip-container" />'),{position:"absolute",width:"0",height:"0"}),c.insertBefore(l,c.firstChild),l);var u=this;Io_bind(this._tooltipRoot,Jh,"mousedown",function(h){h.stopPropagation()}),Io_bind(this._tooltipRoot,Jh,"mouseover",function(h){u.trigger("mouseover",h)}),Io_bind(this._tooltipRoot,Jh,"mouseout",function(h){u.trigger("mouseout",h)}),this._init()}Cr.$inject=["eventBus","canvas"],Cr.prototype.add=function(r){if(!r.position)throw new Error("must specifiy tooltip position");if(!r.html)throw new Error("must specifiy tooltip html");var s=this._ids.next();return r=ee({},this._tooltipDefaults,r,{id:s}),this._addTooltip(r),r.timeout&&this.setTimeout(r),s},Cr.prototype.trigger=function(r,s){var l=this.get(Tr(s.delegateTarget||s.target,"data-tooltip-id"));l&&("mouseover"===r&&l.timeout&&this.clearTimeout(l),"mouseout"===r&&l.timeout&&(l.timeout=1e3,this.setTimeout(l)))},Cr.prototype.get=function(r){return"string"!=typeof r&&(r=r.id),this._tooltips[r]},Cr.prototype.clearTimeout=function(r){if(r=this.get(r)){var s=r.removeTimer;s&&(clearTimeout(s),r.removeTimer=null)}},Cr.prototype.setTimeout=function(r){if(r=this.get(r)){this.clearTimeout(r);var s=this;r.removeTimer=setTimeout(function(){s.remove(r)},r.timeout)}},Cr.prototype.remove=function(r){var s=this.get(r);s&&(na(s.html),na(s.htmlContainer),delete s.htmlContainer,delete this._tooltips[s.id])},Cr.prototype.show=function(){fc(this._tooltipRoot)},Cr.prototype.hide=function(){fc(this._tooltipRoot,!1)},Cr.prototype._updateRoot=function(r){var s=r.scale||1,c=r.scale||1,l="matrix("+s+",0,0,"+c+","+-1*r.x*s+","+-1*r.y*c+")";this._tooltipRoot.style.transform=l,this._tooltipRoot.style["-ms-transform"]=l},Cr.prototype._addTooltip=function(r){var s,c=r.id,l=r.html,u=this._tooltipRoot;l.get&&l.constructor.prototype.jquery&&(l=l.get(0)),Mr(l)&&(l=Sn(l)),nr(s=Sn('<div data-tooltip-id="'+c+'" class="djs-tooltip">'),{position:"absolute"}),s.appendChild(l),r.type&&Ai(s).add("djs-tooltip-"+r.type),r.className&&Ai(s).add(r.className),r.htmlContainer=s,u.appendChild(s),this._tooltips[c]=r,this._updateTooltip(r)},Cr.prototype._updateTooltip=function(r){var s=r.position;nr(r.htmlContainer,{left:s.x+"px",top:s.y+"px"})},Cr.prototype._updateTooltipVisibilty=function(r){q(this._tooltips,function(s){var c=s.show,u=!0;c&&((c.minZoom>r.scale||c.maxZoom<r.scale)&&(u=!1),fc(s.htmlContainer,u))})},Cr.prototype._init=function(){var r=this;this._eventBus.on("canvas.viewbox.changing",function(s){r.hide()}),this._eventBus.on("canvas.viewbox.changed",function(s){var c;r._updateRoot(c=s.viewbox),r._updateTooltipVisibilty(c),r.show()})};var yE={__init__:["tooltips"],tooltips:["type",Cr]};function Aa(r,s){if("function"!=typeof s)throw new Error("removeFn iterator must be a function");if(r){for(var c;c=r[0];)s(c);return r}}function $f(r,s,c){Ee.call(this,s);var l=r.get("movePreview",!1);s.on("shape.move.start",1400,function(u){var h=u.context,f=h.validatedShapes;h.shapes=Ey(h.shapes),h.validatedShapes=Ey(f)}),l&&s.on("shape.move.start",250,function(u){var h=u.context,f=[];q(h.shapes,function(_){q(_.labels,function(v){v.hidden||-1!==h.shapes.indexOf(v)||f.push(v),_.labelTarget&&f.push(_)})}),q(f,function(_){l.makeDraggable(h,_,!0)})}),this.preExecuted("elements.move",1400,function(u){var h=u.context.closure,m=h.enclosedElements,f=[];q(m,function(_){q(_.labels,function(v){m[v.id]||f.push(v)})}),h.addAll(f)}),this.preExecute(["connection.delete","shape.delete"],function(u){var h=u.context;Aa((h.connection||h.shape).labels,function(m){c.removeShape(m,{nested:!0})})}),this.execute("shape.delete",function(u){var h=u.context,m=h.shape,f=m.labelTarget;f&&(h.labelTargetIndex=ld(f.labels,m),h.labelTarget=f,m.labelTarget=null)}),this.revert("shape.delete",function(u){var h=u.context,m=h.shape,f=h.labelTarget;f&&(re(f.labels,m,h.labelTargetIndex),m.labelTarget=f)})}function Ey(r){return pt(r,function(s){return-1===r.indexOf(s.labelTarget)})}Me($f,Ee),$f.$inject=["injector","eventBus","modeling"];var bE={__init__:["labelSupport"],labelSupport:["type",$f]},Cy="attach-ok";function Uf(r,s,c,l,u){Ee.call(this,s);var h=r.get("movePreview",!1);s.on("shape.move.start",1401,function(m){var f,_,E,C,v=m.context,x=v.validatedShapes;v.shapes=(_=Dy(f=v.shapes),Ka("id",f,_)),v.validatedShapes=(C=od(E=x,"id"),pt(E,function(k){for(;k;){if(k.host&&C[k.host.id])return!1;k=k.parent}return!0}))}),h&&s.on("shape.move.start",251,function(m){var f=m.context;q(Dy(f.shapes),function(_){h.makeDraggable(f,_,!0),q(_.labels,function(v){h.makeDraggable(f,v,!0)})})}),h&&s.on("shape.move.start",function(m){var f=m.context.shapes;if(1===f.length){var _=f[0].host;_&&(c.addMarker(_,Cy),s.once(["shape.move.out","shape.move.cleanup"],function(){c.removeMarker(_,Cy)}))}}),this.preExecuted("elements.move",1401,function(m){var f=m.context,_=f.closure;q(Dy(f.shapes),function(v){_.add(v,_.topLevel[v.host.id])})}),this.postExecuted("elements.move",function(m){var f=m.context,_=f.shapes,v=f.newHost;v&&1!==_.length||q(v?_:pt(_,function(b){return!!b.host&&-1===_.indexOf(b.host)}),function(b){u.updateAttachment(b,v)})}),this.postExecuted("elements.move",function(m){q(m.context.shapes,function(f){q(f.attachers,function(_){q(_.outgoing.slice(),function(v){l.allowed("connection.reconnect",{connection:v,source:v.source,target:v.target})||u.removeConnection(v)}),q(_.incoming.slice(),function(v){l.allowed("connection.reconnect",{connection:v,source:v.source,target:v.target})||u.removeConnection(v)})})})}),this.postExecute("shape.create",function(m){var f=m.context,v=f.host;v&&u.updateAttachment(f.shape,v)}),this.postExecute("shape.replace",function(m){var f=m.context,_=f.oldShape,v=f.newShape;Aa(_.attachers,function(b){"attach"===l.allowed("elements.move",{target:v,shapes:[b]})?u.updateAttachment(b,v):u.removeShape(b)}),v.attachers.length&&q(v.attachers,function(b){var x=If(b,_,v);u.moveShape(b,x,b.parent)})}),this.postExecute("shape.resize",function(m){var f=m.context,v=f.oldBounds,b=f.newBounds;!1!==(f.hints||{}).attachSupport&&q(f.shape.attachers,function(E){var C=If(E,v,b);u.moveShape(E,C,E.parent),q(E.labels,function(k){u.moveShape(k,C,k.parent)})})}),this.preExecute("shape.delete",function(m){var f=m.context.shape;Aa(f.attachers,function(_){u.removeShape(_)}),f.host&&u.updateAttachment(f,null)})}function Dy(r){return qt(ii(r,function(s){return s.attachers||[]}))}Me(Uf,Ee),Uf.$inject=["injector","eventBus","canvas","rules","modeling"];var zM={__depends__:[Is],__init__:["attachSupport"],attachSupport:["type",Uf]};function Se(r){this._model=r}function Zr(r,s,c,l){Ee.call(this,r),this._bpmnFactory=s,this._translate=l;var u=this;function h(b){q(b.context.oldRoot.children,function(x){P(x,"bpmn:BaseElement")&&u.updateParent(x)})}function m(b){var x=b.context.shape;P(x,"bpmn:BaseElement")&&u.updateBounds(x)}function f(b){u.updateConnection(b.context)}function _(b){u.updateConnectionWaypoints(b.context.connection)}function v(b){u.updateAttachment(b.context)}this.executed(["connection.layout","connection.create"],function(b){var x,E=b.context;E.cropped||!1===(E.hints||{}).createElementsBehavior||((x=E.connection).waypoints=c.getCroppedWaypoints(x),E.cropped=!0)}),this.reverted(["connection.layout"],function(b){delete b.context.cropped}),this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Tn(function(b){var x=b.context;u.updateParent(x.shape||x.connection,x.oldParent)})),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Tn(function(b){var x=b.context;u.updateParent(x.shape||x.connection,x.parent||x.newParent)})),this.executed(["canvas.updateRoot"],h),this.reverted(["canvas.updateRoot"],h),this.executed(["shape.move","shape.create","shape.resize"],Tn(function(b){"label"!==b.context.shape.type&&m(b)})),this.reverted(["shape.move","shape.create","shape.resize"],Tn(function(b){"label"!==b.context.shape.type&&m(b)})),r.on("shape.changed",function(b){"label"===b.element.type&&m({context:{shape:b.element}})}),this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],Tn(f)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],Tn(f)),this.executed(["connection.layout","connection.move","connection.updateWaypoints"],Tn(_)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],Tn(_)),this.executed("connection.reconnect",Tn(function(b){var x=b.context,C=x.oldSource,k=x.newSource,T=Ie(x.connection),I=Ie(C),M=Ie(k);T.conditionExpression&&!Bt(M,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(x.oldConditionExpression=T.conditionExpression,delete T.conditionExpression),C!==k&&I.default===T&&(x.oldDefault=I.default,delete I.default)})),this.reverted("connection.reconnect",Tn(function(b){var x=b.context,C=x.oldSource,k=x.newSource,T=Ie(x.connection),I=Ie(C),M=Ie(k);x.oldConditionExpression&&(T.conditionExpression=x.oldConditionExpression),x.oldDefault&&(I.default=x.oldDefault,delete M.default)})),this.executed(["element.updateAttachment"],Tn(v)),this.reverted(["element.updateAttachment"],Tn(v))}function Tn(r){return function(s){var c=s.context;P(c.shape||c.connection,"bpmn:BaseElement")&&r(s)}}function Ce(r,s,c){bs.call(this),this._bpmnFactory=r,this._moddle=s,this._translate=c}function Gf(r,s,c){return void 0===s[c]?s:(r[c]=s[c],an(s,[c]))}function Wf(r,s){this._modeling=r,this._canvas=s}function he(r){this._modeling=r}function fe(r,s){this._canvas=r,this._layouter=s}Se.$inject=["moddle"],Se.prototype._needsId=function(r){return Bt(r,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])},Se.prototype._ensureId=function(r){var s;r.id?this._model.ids.claim(r.id,r):(s=P(r,"bpmn:Activity")?"Activity":P(r,"bpmn:Event")?"Event":P(r,"bpmn:Gateway")?"Gateway":Bt(r,["bpmn:SequenceFlow","bpmn:MessageFlow"])?"Flow":(r.$type||"").replace(/^[^:]*:/g,""),s+="_",!r.id&&this._needsId(r)&&(r.id=this._model.ids.nextPrefixed(s,r)))},Se.prototype.create=function(r,s){var c=this._model.create(r,s||{});return this._ensureId(c),c},Se.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})},Se.prototype.createDiShape=function(r,s){return this.create("bpmndi:BPMNShape",ee({bpmnElement:r,bounds:this.createDiBounds()},s))},Se.prototype.createDiBounds=function(r){return this.create("dc:Bounds",r)},Se.prototype.createDiWaypoints=function(r){var s=this;return ii(r,function(c){return s.createDiWaypoint(c)})},Se.prototype.createDiWaypoint=function(r){return this.create("dc:Point",Ro(r,["x","y"]))},Se.prototype.createDiEdge=function(r,s){return this.create("bpmndi:BPMNEdge",ee({bpmnElement:r,waypoint:this.createDiWaypoints([])},s))},Se.prototype.createDiPlane=function(r,s){return this.create("bpmndi:BPMNPlane",ee({bpmnElement:r},s))},Me(Zr,Ee),Zr.$inject=["eventBus","bpmnFactory","connectionDocking","translate"],Zr.prototype.updateAttachment=function(r){var s=r.shape,l=s.host;s.businessObject.attachedToRef=l&&l.businessObject},Zr.prototype.updateParent=function(r,s){if(!(r instanceof Hc||P(r,"bpmn:DataStoreReference")&&r.parent&&P(r.parent,"bpmn:Collaboration"))){var c=r.parent,l=r.businessObject,u=st(r),h=c&&c.businessObject,m=st(c);P(r,"bpmn:FlowNode")&&this.updateFlowNodeRefs(l,h,s&&s.businessObject),P(r,"bpmn:DataOutputAssociation")&&(h=r.source?r.source.businessObject:null),P(r,"bpmn:DataInputAssociation")&&(h=r.target?r.target.businessObject:null),this.updateSemanticParent(l,h),P(r,"bpmn:DataObjectReference")&&l.dataObjectRef&&this.updateSemanticParent(l.dataObjectRef,h),this.updateDiParent(u,m)}},Zr.prototype.updateBounds=function(r){var s=st(r),c=function(m){if(P(m,"bpmn:Activity")){var f=st(m);if(f){var _=f.get("label");if(_)return _.get("bounds")}}}(r);if(c){var l=wr(c,s.get("bounds"));ee(c,{x:r.x+l.x,y:r.y+l.y})}var u=r instanceof Hc?this._getLabel(s):s,h=u.bounds;h||(h=this._bpmnFactory.createDiBounds(),u.set("bounds",h)),ee(h,{x:r.x,y:r.y,width:r.width,height:r.height})},Zr.prototype.updateFlowNodeRefs=function(r,s,c){c!==s&&(P(c,"bpmn:Lane")&&Vn(c.get("flowNodeRef"),r),P(s,"bpmn:Lane")&&re(s.get("flowNodeRef"),r))},Zr.prototype.updateDiConnection=function(r,s,c){var l=st(r),u=st(s),h=st(c);l.sourceElement&&l.sourceElement.bpmnElement!==Ie(s)&&(l.sourceElement=s&&u),l.targetElement&&l.targetElement.bpmnElement!==Ie(c)&&(l.targetElement=c&&h)},Zr.prototype.updateDiParent=function(r,s){if(s&&!P(s,"bpmndi:BPMNPlane")&&(s=s.$parent),r.$parent!==s){var c=(s||r.$parent).get("planeElement");s?(c.push(r),r.$parent=s):(Vn(c,r),r.$parent=null)}},Zr.prototype.getLaneSet=function(r){var s,c;return P(r,"bpmn:Lane")?((s=r.childLaneSet)||(s=this._bpmnFactory.create("bpmn:LaneSet"),r.childLaneSet=s,s.$parent=r),s):(P(r,"bpmn:Participant")&&(r=r.processRef),(s=(c=r.get("laneSets"))[0])||((s=this._bpmnFactory.create("bpmn:LaneSet")).$parent=r,c.push(s)),s)},Zr.prototype.updateSemanticParent=function(r,s,c){var l,u=this._translate;if(r.$parent!==s&&(!P(r,"bpmn:DataInput")&&!P(r,"bpmn:DataOutput")||(P(s,"bpmn:Participant")&&"processRef"in s&&(s=s.processRef),!("ioSpecification"in s)||s.ioSpecification!==r.$parent))){if(P(r,"bpmn:Lane"))s&&(s=this.getLaneSet(s)),l="lanes";else if(P(r,"bpmn:FlowElement")){if(s)if(P(s,"bpmn:Participant"))s=s.processRef;else if(P(s,"bpmn:Lane"))do{s=s.$parent.$parent}while(P(s,"bpmn:Lane"));l="flowElements"}else if(P(r,"bpmn:Artifact")){for(;s&&!P(s,"bpmn:Process")&&!P(s,"bpmn:SubProcess")&&!P(s,"bpmn:Collaboration");){if(P(s,"bpmn:Participant")){s=s.processRef;break}s=s.$parent}l="artifacts"}else if(P(r,"bpmn:MessageFlow"))l="messageFlows";else if(P(r,"bpmn:Participant")){l="participants";var h,m=r.processRef;m&&(h=function(v){for(;v&&!P(v,"bpmn:Definitions");)v=v.$parent;return v}(r.$parent||s),r.$parent&&(Vn(h.get("rootElements"),m),m.$parent=null),s&&(re(h.get("rootElements"),m),m.$parent=h))}else P(r,"bpmn:DataOutputAssociation")?l="dataOutputAssociations":P(r,"bpmn:DataInputAssociation")&&(l="dataInputAssociations");if(!l)throw new Error(u("no parent for {element} in {parent}",{element:r.id,parent:s.id}));var f;if(r.$parent&&Vn(f=r.$parent.get(l),r),s?((f=s.get(l)).push(r),r.$parent=s):r.$parent=null,c){var _=c.get(l);Vn(f,r),s&&(_||s.set(l,_=[]),_.push(r))}}},Zr.prototype.updateConnectionWaypoints=function(r){st(r).set("waypoint",this._bpmnFactory.createDiWaypoints(r.waypoints))},Zr.prototype.updateConnection=function(r){var c=r.connection,l=Ie(c),u=c.source,h=Ie(u),m=c.target,f=Ie(c.target);if(P(l,"bpmn:DataAssociation"))P(l,"bpmn:DataInputAssociation")?(l.get("sourceRef")[0]=h,this.updateSemanticParent(l,f,r.parent||r.newParent||f)):P(l,"bpmn:DataOutputAssociation")&&(this.updateSemanticParent(l,h,r.parent||r.newParent||h),l.targetRef=f);else{var _=P(l,"bpmn:SequenceFlow");l.sourceRef!==h&&(_&&(Vn(l.sourceRef&&l.sourceRef.get("outgoing"),l),h&&h.get("outgoing")&&h.get("outgoing").push(l)),l.sourceRef=h),l.targetRef!==f&&(_&&(Vn(l.targetRef&&l.targetRef.get("incoming"),l),f&&f.get("incoming")&&f.get("incoming").push(l)),l.targetRef=f)}this.updateConnectionWaypoints(c),this.updateDiConnection(c,u,m)},Zr.prototype._getLabel=function(r){return r.label||(r.label=this._bpmnFactory.createDiLabel()),r.label},Me(Ce,bs),Ce.$inject=["bpmnFactory","moddle","translate"],Ce.prototype.baseCreate=bs.prototype.create,Ce.prototype.create=function(r,s){if("label"===r){var c=s.di||this._bpmnFactory.createDiLabel();return this.baseCreate(r,ee({type:"label",di:c},eh,s))}return this.createBpmnElement(r,s)},Ce.prototype.createBpmnElement=function(r,s){var c,l,u,v,b,h=this._translate,m=(s=ee({},s||{})).businessObject,f=s.di;if(!m){if(!s.type)throw new Error(h("no shape type specified"));lx(m=this._bpmnFactory.create(s.type))}if(!Bt(f,["bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane"])){var _=ee({},f||{},{id:m.id+"_di"});f="root"===r?this._bpmnFactory.createDiPlane(m,_):"connection"===r?this._bpmnFactory.createDiEdge(m,_):this._bpmnFactory.createDiShape(m,_)}return P(m,"bpmn:Group")&&(s=ee({isFrame:!0},s)),v=m,b=s,q(["processRef","isInterrupting","associationDirection","isForCompensation"],function(E){b=Gf(v,b,E)}),(s=b).isExpanded&&(s=Gf(f,s,"isExpanded")),P(m,"bpmn:SubProcess")&&(s.collapsed=!zt(m,f)),P(m,"bpmn:ExclusiveGateway")&&(f.isMarkerVisible=!0),s.eventDefinitionType&&(l=m.get("eventDefinitions")||[],u=this._bpmnFactory.create(s.eventDefinitionType,s.eventDefinitionAttrs),"bpmn:ConditionalEventDefinition"===s.eventDefinitionType&&(u.condition=this._bpmnFactory.create("bpmn:FormalExpression")),l.push(u),u.$parent=m,m.eventDefinitions=l,delete s.eventDefinitionType),c=this.getDefaultSize(m,f),s=ee({id:m.id},c,s,{businessObject:m,di:f}),this.baseCreate(r,s)},Ce.prototype.getDefaultSize=function(r,s){var c=Ie(r);return s=s||st(r),P(c,"bpmn:SubProcess")?zt(c,s)?{width:350,height:200}:{width:100,height:80}:P(c,"bpmn:Task")?{width:100,height:80}:P(c,"bpmn:Gateway")?{width:50,height:50}:P(c,"bpmn:Event")?{width:36,height:36}:P(c,"bpmn:Participant")?zt(c,s)?{width:600,height:250}:{width:400,height:60}:P(c,"bpmn:Lane")?{width:400,height:100}:P(c,"bpmn:DataObjectReference")?{width:36,height:50}:P(c,"bpmn:DataStoreReference")?{width:50,height:50}:P(c,"bpmn:TextAnnotation")?{width:100,height:30}:P(c,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}},Ce.prototype.createParticipantShape=function(r){return on(r)||(r={isExpanded:r}),!1!==(r=ee({type:"bpmn:Participant"},r||{})).isExpanded&&(r.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(r)},Wf.$inject=["modeling","canvas"],Wf.prototype.preExecute=function(r){var s=this._modeling,l=r.alignment;q(r.elements,function(u){var h={x:0,y:0};l.left?h.x=l.left-u.x:l.right?h.x=l.right-u.width-u.x:l.center?h.x=l.center-Math.round(u.width/2)-u.x:l.top?h.y=l.top-u.y:l.bottom?h.y=l.bottom-u.height-u.y:l.middle&&(h.y=l.middle-Math.round(u.height/2)-u.y),s.moveElements([u],h,u.parent)})},Wf.prototype.postExecute=function(r){},he.$inject=["modeling"],he.prototype.preExecute=function(r){var s=r.source;if(!s)throw new Error("source required");var l=r.shape;l=r.shape=this._modeling.createShape(l,r.position,r.target||s.parent,{attach:(r.hints||{}).attach}),r.shape=l},he.prototype.postExecute=function(r){var c,l=r.hints||{};c=r.shape,To(r.source.outgoing,function(u){return u.target===c})||(l.connectionTarget===r.source?this._modeling.connect(r.shape,r.source,r.connection):this._modeling.connect(r.source,r.shape,r.connection))},fe.$inject=["canvas","layouter"],fe.prototype.execute=function(r){var s=r.connection,c=r.source,l=r.target,u=r.parent,h=r.parentIndex,m=r.hints;if(!c||!l)throw new Error("source and target required");if(!u)throw new Error("parent required");return s.source=c,s.target=l,s.waypoints||(s.waypoints=this._layouter.layoutConnection(s,m)),this._canvas.addConnection(s,u,h),s},fe.prototype.revert=function(r){var s=r.connection;return this._canvas.removeConnection(s),s.source=null,s.target=null,s};var Qe=Math.round;function ky(r){this._modeling=r}function Qr(r){return!!r.waypoints}ky.$inject=["modeling"],ky.prototype.preExecute=function(r){var s=r.elements,c=r.parent,l=r.parentIndex,u=r.position,h=r.hints,m=this._modeling;q(s,function(b){Re(b.x)||(b.x=0),Re(b.y)||(b.y=0)});var f=ri(pt(s,function(b){return!b.hidden}));q(s,function(b){Qr(b)&&(b.waypoints=ii(b.waypoints,function(x){return{x:Qe(x.x-f.x-f.width/2+u.x),y:Qe(x.y-f.y-f.height/2+u.y)}})),ee(b,{x:Qe(b.x-f.x-f.width/2+u.x),y:Qe(b.y-f.y-f.height/2+u.y)})});var _=cd(s),v={};q(s,function(b){if(Qr(b))v[b.id]=Re(l)?m.createConnection(v[b.source.id],v[b.target.id],l,b,b.parent||c,h):m.createConnection(v[b.source.id],v[b.target.id],b,b.parent||c,h);else{var x=ee({},h);-1===_.indexOf(b)&&(x.autoResize=!1),v[b.id]=Re(l)?m.createShape(b,Ro(b,["x","y","width","height"]),b.parent||c,l,x):m.createShape(b,Ro(b,["x","y","width","height"]),b.parent||c,x)}}),r.elements=Nu(v)};var Jr=Math.round;function _i(r){this._canvas=r}function Ki(r){_i.call(this,r)}_i.$inject=["canvas"],_i.prototype.execute=function(r){var s=r.shape,c=r.position,l=r.parent,u=r.parentIndex;if(!l)throw new Error("parent required");if(!c)throw new Error("position required");return ee(s,void 0!==c.width?c:{x:c.x-Jr(s.width/2),y:c.y-Jr(s.height/2)}),this._canvas.addShape(s,l,u),s},_i.prototype.revert=function(r){var s=r.shape;return this._canvas.removeShape(s),s},Me(Ki,_i),Ki.$inject=["canvas"];var ep=_i.prototype.execute;Ki.prototype.execute=function(r){var c,s=r.shape;return c=s,["width","height"].forEach(function(l){void 0===c[l]&&(c[l]=0)}),s.labelTarget=r.labelTarget,ep.call(this,r)};var xE=_i.prototype.revert;function Dl(r,s){this._canvas=r,this._modeling=s}function ct(r,s){this._modeling=r,this._elementRegistry=s}function ru(r,s){this._canvas=r,this._modeling=s}function qf(r){this._modeling=r}Ki.prototype.revert=function(r){return r.shape.labelTarget=null,xE.call(this,r)},Dl.$inject=["canvas","modeling"],Dl.prototype.preExecute=function(r){var s=this._modeling,c=r.connection;Aa(c.incoming,function(l){s.removeConnection(l,{nested:!0})}),Aa(c.outgoing,function(l){s.removeConnection(l,{nested:!0})})},Dl.prototype.execute=function(r){var s=r.connection,c=s.parent;return r.parent=c,r.parentIndex=ld(c.children,s),r.source=s.source,r.target=s.target,this._canvas.removeConnection(s),s.source=null,s.target=null,s},Dl.prototype.revert=function(r){var s=r.connection,c=r.parent,l=r.parentIndex;return s.source=r.source,s.target=r.target,re(c.children,s,l),this._canvas.addConnection(s,c),s},ct.$inject=["modeling","elementRegistry"],ct.prototype.postExecute=function(r){var s=this._modeling,c=this._elementRegistry;q(r.elements,function(l){c.get(l.id)&&(l.waypoints?s.removeConnection(l):s.removeShape(l))})},ru.$inject=["canvas","modeling"],ru.prototype.preExecute=function(r){var s=this._modeling,c=r.shape;Aa(c.incoming,function(l){s.removeConnection(l,{nested:!0})}),Aa(c.outgoing,function(l){s.removeConnection(l,{nested:!0})}),Aa(c.children,function(l){l.waypoints?s.removeConnection(l,{nested:!0}):s.removeShape(l,{nested:!0})})},ru.prototype.execute=function(r){var s=this._canvas,c=r.shape,l=c.parent;return r.oldParent=l,r.oldParentIndex=ld(l.children,c),s.removeShape(c),c},ru.prototype.revert=function(r){var s=this._canvas,c=r.shape,l=r.oldParent;return re(l.children,c,r.oldParentIndex),s.addShape(c,l),c},qf.$inject=["modeling"];var My={x:"y",y:"x"};function tp(r,s){this._layouter=r,this._canvas=s}function Kf(){}function We(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function np(r){this._modeling=r}function si(r){this._helper=new np(r)}function bt(r){this._modeling=r,this._helper=new np(r)}function ou(r){this._modeling=r}function ip(r){return r.original||r}function zs(r,s){this._modeling=r,this._rules=s}function su(r){this._modeling=r}function Ra(r){this._modeling=r}function Sy(r){return ee({},r)}function Ty(r){switch(r){case"n":case"s":return"y";case"w":case"e":return"x"}}function Ay(r,s,c){var l=Ty(c);return/e|s/.test(c)?r[l]>s:/n|w/.test(c)?r[l]<s:void 0}function Ia(r,s){return-1!==r.indexOf(s)}function rp(r){this._modeling=r}function op(r){var s={};return q(r,function(c){s[c.id]=c.hidden,c.children&&(s=ee({},s,op(c.children)))}),s}function Oa(r,s){var c=[];return q(r,function(l){l.hidden=s,c=c.concat(l),l.children&&(c=c.concat(Oa(l.children,l.collapsed||s)))}),c}function wE(r,s){var c=[];return q(r,function(l){l.hidden=s[l.id],c=c.concat(l),l.children&&(c=c.concat(wE(l.children,s)))}),c}function Yf(r){this._modeling=r}function Xf(r,s){return Vn(r&&r.attachers,s)}function gc(r,s,c){if(r){var l=r.attachers;l||(r.attachers=l=[]),re(l,s,c)}}function sp(){}function fn(r,s,c){this._eventBus=r,this._elementFactory=s,this._commandStack=c;var l=this;r.on("diagram.init",function(){l.registerHandlers(c)})}function kl(r){this._elementRegistry=r}function $M(r,s){q(s,function(c,l){r.set(l,c)})}qf.prototype.preExecute=function(r){var s=this._modeling,c=r.groups,l=r.axis,u=r.dimension;function h(T,I){T.range.min=Math.min(I[l],T.range.min),T.range.max=Math.max(I[l]+I[u],T.range.max)}function m(T){return T[l]+T[u]/2}function f(T){return T.length-1}function _(T){return T.max-T.min}var v,b,x=c[0],E=f(c),C=c[E],k=0;q(c,function(T,I){var M,R,F;T.elements.length<2?I&&I!==c.length-1&&(h(T,T.elements[0]),k+=_(T.range)):(R=(M=Yo(T.elements,l))[0],I===E&&(R=M[f(M)]),F=m(R),T.range=null,q(M,function(N){var Z,Q;(Q={y:0})[l]=F-m(Z=N),Q[l]&&(Q[My[l]]=0,s.moveElements([Z],Q,Z.parent)),null!==T.range?h(T,N):T.range={min:N[l],max:N[l]+N[u]}}),I&&I!==c.length-1&&(k+=_(T.range)))}),b=Math.abs(C.range.min-x.range.max),(v=Math.round((b-k)/(c.length-1)))<c.length-1||q(c,function(T,I){var M,R={};T!==x&&T!==C&&(M=c[I-1],T.range.max=0,q(T.elements,function(F,N){R[My[l]]=0,R[l]=M.range.max-F[l]+v,T.range.min!==F[l]&&(R[l]+=F[l]-T.range.min),R[l]&&s.moveElements([F],R,F.parent),T.range.max=Math.max(F[l]+F[u],N?T.range.max:0)}))})},qf.prototype.postExecute=function(r){},tp.$inject=["layouter","canvas"],tp.prototype.execute=function(r){var s=r.connection;return ee(r,{oldWaypoints:s.waypoints}),s.waypoints=this._layouter.layoutConnection(s,r.hints),s},tp.prototype.revert=function(r){var s=r.connection;return s.waypoints=r.oldWaypoints,s},Kf.prototype.execute=function(r){var s=r.connection,c=r.delta,l=r.newParent||s.parent,u=r.newParentIndex,h=s.parent;return r.oldParent=h,r.oldParentIndex=Vn(h.children,s),re(l.children,s,u),s.parent=l,q(s.waypoints,function(m){m.x+=c.x,m.y+=c.y,m.original&&(m.original.x+=c.x,m.original.y+=c.y)}),s},Kf.prototype.revert=function(r){var s=r.connection,l=r.oldParent,u=r.oldParentIndex,h=r.delta;return Vn(s.parent.children,s),re(l.children,s,u),s.parent=l,q(s.waypoints,function(m){m.x-=h.x,m.y-=h.y,m.original&&(m.original.x-=h.x,m.original.y-=h.y)}),s},We.prototype.add=function(r,s){return this.addAll([r],s)},We.prototype.addAll=function(r,s){return ee(this,function(l,u,h){pr(u)&&(u=!0),on(u)&&(h=u,u=!0);var m=Bc((h=h||{}).allShapes),f=Bc(h.allConnections),_=Bc(h.enclosedElements),v=Bc(h.enclosedConnections),b=Bc(h.topLevel,u&&od(l,function(E){return E.id}));function x(E){b[E.source.id]&&b[E.target.id]&&(b[E.id]=[E]),m[E.source.id]&&m[E.target.id]&&(v[E.id]=_[E.id]=E),f[E.id]=E}return Xt(l,function(E){if(_[E.id]=E,!E.waypoints)return m[E.id]=E,q(E.incoming,x),q(E.outgoing,x),E.children;v[E.id]=f[E.id]=E}),{allShapes:m,allConnections:f,topLevel:b,enclosedConnections:v,enclosedElements:_}}(r,!!s,this)),this},np.prototype.moveRecursive=function(r,s,c){return r?this.moveClosure(this.getClosure(r),s,c):[]},np.prototype.moveClosure=function(r,s,c,l,u){var h=this._modeling,m=r.allShapes,f=r.allConnections,_=r.enclosedConnections,v=r.topLevel,b=!1;u&&u.parent===c&&(b=!0),q(m,function(x){h.moveShape(x,s,v[x.id]&&!b&&c,{recurse:!1,layout:!1})}),q(f,function(x){var E=!!m[x.source.id],C=!!m[x.target.id];_[x.id]&&E&&C?h.moveConnection(x,s,v[x.id]&&!b&&c):h.layoutConnection(x,{connectionStart:E&&$h(x,x.source,s),connectionEnd:C&&cy(x,x.target,s)})})},np.prototype.getClosure=function(r){return(new We).addAll(r,!0)},si.$inject=["modeling"],si.prototype.preExecute=function(r){r.closure=this._helper.getClosure(r.shapes)},si.prototype.postExecute=function(r){var s,c=r.hints;c&&c.primaryShape&&(c.oldParent=(s=c.primaryShape).parent),this._helper.moveClosure(r.closure,r.delta,r.newParent,r.newHost,s)},bt.$inject=["modeling"],bt.prototype.execute=function(r){var s=r.shape,c=r.delta,l=r.newParent||s.parent,u=r.newParentIndex,h=s.parent;return r.oldBounds=Ro(s,["x","y","width","height"]),r.oldParent=h,r.oldParentIndex=Vn(h.children,s),re(l.children,s,u),ee(s,{parent:l,x:s.x+c.x,y:s.y+c.y}),s},bt.prototype.postExecute=function(r){var s=r.shape,c=r.delta,l=r.hints,u=this._modeling;!1!==l.layout&&(q(s.incoming,function(h){u.layoutConnection(h,{connectionEnd:cy(h,s,c)})}),q(s.outgoing,function(h){u.layoutConnection(h,{connectionStart:$h(h,s,c)})})),!1!==l.recurse&&this.moveChildren(r)},bt.prototype.revert=function(r){var s=r.shape,c=r.oldParent,u=r.delta;return re(c.children,s,r.oldParentIndex),ee(s,{parent:c,x:s.x-u.x,y:s.y-u.y}),s},bt.prototype.moveChildren=function(r){this._helper.moveRecursive(r.shape.children,r.delta,null)},bt.prototype.getNewParent=function(r){return r.newParent||r.shape.parent},ou.$inject=["modeling"],ou.prototype.execute=function(r){var s=r.newSource,c=r.newTarget,l=r.connection,u=r.dockingOrPoints;if(!s&&!c)throw new Error("newSource or newTarget required");return Ae(u)&&(r.oldWaypoints=l.waypoints,l.waypoints=u),s&&(r.oldSource=l.source,l.source=s),c&&(r.oldTarget=l.target,l.target=c),l},ou.prototype.postExecute=function(r){var s=r.connection,c=r.newSource,l=r.newTarget,u=r.dockingOrPoints,h=r.hints||{},m={};h.connectionStart&&(m.connectionStart=h.connectionStart),h.connectionEnd&&(m.connectionEnd=h.connectionEnd),!1!==h.layoutConnection&&(!c||l&&"source"!==h.docking||(m.connectionStart=m.connectionStart||ip(Ae(u)?u[0]:u)),!l||c&&"target"!==h.docking||(m.connectionEnd=m.connectionEnd||ip(Ae(u)?u[u.length-1]:u)),h.newWaypoints&&(m.waypoints=h.newWaypoints),this._modeling.layoutConnection(s,m))},ou.prototype.revert=function(r){var s=r.oldSource,c=r.oldTarget,l=r.oldWaypoints,u=r.connection;return s&&(u.source=s),c&&(u.target=c),l&&(u.waypoints=l),u},zs.$inject=["modeling","rules"],zs.prototype.preExecute=function(r){var s,c=this,l=this._modeling,u=this._rules,h=r.oldShape,m=r.newData,f=r.hints||{};function _(k,T,I){return u.allowed("connection.reconnect",{connection:I,source:k,target:T})}var v,x={x:h.x,y:h.y,width:h.width,height:h.height};s=r.newShape=r.newShape||c.createShape(m,{x:m.x,y:m.y},h.parent,f),h.host&&l.updateAttachment(s,h.host),!1!==f.moveChildren&&(v=h.children.slice(),l.moveElements(v,{x:0,y:0},s,f));var E=h.incoming.slice(),C=h.outgoing.slice();q(E,function(k){_(k.source,s,k)&&c.reconnectEnd(k,s,zh(k,s,x),f)}),q(C,function(k){_(s,k.target,k)&&c.reconnectStart(k,s,Ud(k,s,x),f)})},zs.prototype.postExecute=function(r){this._modeling.removeShape(r.oldShape)},zs.prototype.execute=function(r){},zs.prototype.revert=function(r){},zs.prototype.createShape=function(r,s,c,l){return this._modeling.createShape(r,s,c,l)},zs.prototype.reconnectStart=function(r,s,c,l){this._modeling.reconnectStart(r,s,c,l)},zs.prototype.reconnectEnd=function(r,s,c,l){this._modeling.reconnectEnd(r,s,c,l)},su.$inject=["modeling"],su.prototype.execute=function(r){var s=r.shape,c=r.newBounds,l=r.minBounds;if(void 0===c.x||void 0===c.y||void 0===c.width||void 0===c.height)throw new Error("newBounds must have {x, y, width, height} properties");if(l&&(c.width<l.width||c.height<l.height))throw new Error("width and height cannot be less than minimum height and width");if(!l&&c.width<10||c.height<10)throw new Error("width and height cannot be less than 10px");return r.oldBounds={width:s.width,height:s.height,x:s.x,y:s.y},ee(s,{width:c.width,height:c.height,x:c.x,y:c.y}),s},su.prototype.postExecute=function(r){var s=this._modeling,c=r.shape,l=r.oldBounds;!1!==(r.hints||{}).layout&&(q(c.incoming,function(u){s.layoutConnection(u,{connectionEnd:zh(u,c,l)})}),q(c.outgoing,function(u){s.layoutConnection(u,{connectionStart:Ud(u,c,l)})}))},su.prototype.revert=function(r){var s=r.shape,c=r.oldBounds;return ee(s,{width:c.width,height:c.height,x:c.x,y:c.y}),s},Ra.$inject=["modeling"],Ra.prototype.preExecute=function(r){var f,_,v,s=r.delta,c=r.direction,l=r.movingShapes,u=r.resizingShapes,h=r.start,m={};this.moveShapes(l,s),q(u,function(f){var _;m[f.id]={x:(_=f).x,y:_.y,height:_.height,width:_.width}}),this.resizeShapes(u,s,c),this.updateConnectionWaypoints((v=[],q((f=l).concat(_=u),function(b){q(b.incoming.concat(b.outgoing),function(C){var k=C.source,T=C.target;(pc(f,k)||pc(f,T)||pc(_,k)||pc(_,T))&&(pc(v,C)||v.push(C))})}),v),s,c,h,l,u,m)},Ra.prototype.execute=function(){},Ra.prototype.revert=function(){},Ra.prototype.moveShapes=function(r,s){var c=this;q(r,function(l){c._modeling.moveShape(l,s,null,{autoResize:!1,layout:!1,recurse:!1})})},Ra.prototype.resizeShapes=function(r,s,c){var l=this;q(r,function(u){var h=function(m,f,_){var v=m.x,b=m.y,x=m.width,E=m.height,C=_.x,k=_.y;switch(f){case"n":return{x:v,y:b+k,width:x,height:E-k};case"s":return{x:v,y:b,width:x,height:E+k};case"w":return{x:v+C,y:b,width:x-C,height:E};case"e":return{x:v,y:b,width:x+C,height:E};default:throw new Error("unknown direction: "+f)}}(u,c,s);l._modeling.resizeShape(u,h,null,{attachSupport:!1,autoResize:!1,layout:!1})})},Ra.prototype.updateConnectionWaypoints=function(r,s,c,l,u,h,m){var f=this,_=u.concat(h);q(r,function(v){var b=v.source,x=v.target,E=ii(v.waypoints,function(I){return(I=Sy(I)).original&&(I.original=Sy(I.original)),I}),C=Ty(c),k={};Ia(_,b)&&Ia(_,x)?(E=ii(E,function(T){return Ay(T,l,c)&&(T[C]=T[C]+s[C]),T.original&&Ay(T.original,l,c)&&(T.original[C]=T.original[C]+s[C]),T}),f._modeling.updateWaypoints(v,E,{labelBehavior:!1})):(Ia(_,b)||Ia(_,x))&&(Ia(u,b)?k.connectionStart=$h(v,b,s):Ia(u,x)?k.connectionEnd=cy(v,x,s):Ia(h,b)?k.connectionStart=Ud(v,b,m[b.id]):Ia(h,x)&&(k.connectionEnd=zh(v,x,m[x.id])),f._modeling.layoutConnection(v,k))})},rp.$inject=["modeling"],rp.prototype.execute=function(r){var s=r.shape,c=s.children;r.oldChildrenVisibility=op(c),s.collapsed=!s.collapsed;var l=Oa(c,s.collapsed);return[s].concat(l)},rp.prototype.revert=function(r){var s=r.shape,l=wE(s.children,r.oldChildrenVisibility);return s.collapsed=!s.collapsed,[s].concat(l)},Yf.$inject=["modeling"],Yf.prototype.execute=function(r){var s=r.shape,c=r.newHost,l=s.host;return r.oldHost=l,r.attacherIdx=Xf(l,s),gc(c,s),s.host=c,s},Yf.prototype.revert=function(r){var s=r.shape,c=r.newHost,l=r.oldHost,u=r.attacherIdx;return s.host=l,Xf(c,s),gc(l,s,u),s},sp.prototype.execute=function(r){var s=r.connection,c=r.newWaypoints;return r.oldWaypoints=s.waypoints,s.waypoints=c,s},sp.prototype.revert=function(r){var s=r.connection;return s.waypoints=r.oldWaypoints,s},fn.$inject=["eventBus","elementFactory","commandStack"],fn.prototype.getHandlers=function(){return{"shape.append":he,"shape.create":_i,"shape.delete":ru,"shape.move":bt,"shape.resize":su,"shape.replace":zs,"shape.toggleCollapse":rp,spaceTool:Ra,"label.create":Ki,"connection.create":fe,"connection.delete":Dl,"connection.move":Kf,"connection.layout":tp,"connection.updateWaypoints":sp,"connection.reconnect":ou,"elements.create":ky,"elements.move":si,"elements.delete":ct,"elements.distribute":qf,"elements.align":Wf,"element.updateAttachment":Yf}},fn.prototype.registerHandlers=function(r){q(this.getHandlers(),function(s,c){r.registerHandler(c,s)})},fn.prototype.moveShape=function(r,s,c,l,u){"object"==typeof l&&(u=l,l=null),this._commandStack.execute("shape.move",{shape:r,delta:s,newParent:c,newParentIndex:l,hints:u||{}})},fn.prototype.updateAttachment=function(r,s){this._commandStack.execute("element.updateAttachment",{shape:r,newHost:s})},fn.prototype.moveElements=function(r,s,c,l){var u,h=(l=l||{}).attach,m=c;!0===h?(u=c,m=c.parent):!1===h&&(u=null),this._commandStack.execute("elements.move",{shapes:r,delta:s,newParent:m,newHost:u,hints:l})},fn.prototype.moveConnection=function(r,s,c,l,u){"object"==typeof l&&(u=l,l=void 0),this._commandStack.execute("connection.move",{connection:r,delta:s,newParent:c,newParentIndex:l,hints:u||{}})},fn.prototype.layoutConnection=function(r,s){this._commandStack.execute("connection.layout",{connection:r,hints:s||{}})},fn.prototype.createConnection=function(r,s,c,l,u,h){"object"==typeof c&&(h=u,u=l,l=c,c=void 0);var m={source:r,target:s,parent:u,parentIndex:c,connection:l=this._create("connection",l),hints:h};return this._commandStack.execute("connection.create",m),m.connection},fn.prototype.createShape=function(r,s,c,l,u){"number"!=typeof l&&(u=l,l=void 0);var h,m,f=(u=u||{}).attach;r=this._create("shape",r),f?(h=c.parent,m=c):h=c;var _={position:s,shape:r,parent:h,parentIndex:l,host:m,hints:u};return this._commandStack.execute("shape.create",_),_.shape},fn.prototype.createElements=function(r,s,c,l,u){Ae(r)||(r=[r]),"number"!=typeof l&&(u=l,l=void 0);var h={position:s,elements:r,parent:c,parentIndex:l,hints:u=u||{}};return this._commandStack.execute("elements.create",h),h.elements},fn.prototype.createLabel=function(r,s,c,l){c=this._create("label",c);var u={labelTarget:r,position:s,parent:l||r.parent,shape:c};return this._commandStack.execute("label.create",u),u.shape},fn.prototype.appendShape=function(r,s,c,l,u){u=u||{};var h={source:r,position:c,target:l,shape:s=this._create("shape",s),connection:u.connection,connectionParent:u.connectionParent,hints:u};return this._commandStack.execute("shape.append",h),h.shape},fn.prototype.removeElements=function(r){this._commandStack.execute("elements.delete",{elements:r})},fn.prototype.distributeElements=function(r,s,c){this._commandStack.execute("elements.distribute",{groups:r,axis:s,dimension:c})},fn.prototype.removeShape=function(r,s){this._commandStack.execute("shape.delete",{shape:r,hints:s||{}})},fn.prototype.removeConnection=function(r,s){this._commandStack.execute("connection.delete",{connection:r,hints:s||{}})},fn.prototype.replaceShape=function(r,s,c){var l={oldShape:r,newData:s,hints:c||{}};return this._commandStack.execute("shape.replace",l),l.newShape},fn.prototype.alignElements=function(r,s){this._commandStack.execute("elements.align",{elements:r,alignment:s})},fn.prototype.resizeShape=function(r,s,c,l){this._commandStack.execute("shape.resize",{shape:r,newBounds:s,minBounds:c,hints:l})},fn.prototype.createSpace=function(r,s,c,l,u){this._commandStack.execute("spaceTool",{delta:c,direction:l,movingShapes:r,resizingShapes:s,start:u})},fn.prototype.updateWaypoints=function(r,s,c){this._commandStack.execute("connection.updateWaypoints",{connection:r,newWaypoints:s,hints:c||{}})},fn.prototype.reconnect=function(r,s,c,l,u){this._commandStack.execute("connection.reconnect",{connection:r,newSource:s,newTarget:c,dockingOrPoints:l,hints:u||{}})},fn.prototype.reconnectStart=function(r,s,c,l){l||(l={}),this.reconnect(r,s,r.target,c,ee(l,{docking:"source"}))},fn.prototype.reconnectEnd=function(r,s,c,l){l||(l={}),this.reconnect(r,r.source,s,c,ee(l,{docking:"target"}))},fn.prototype.connect=function(r,s,c,l){return this.createConnection(r,s,c||{},r.parent,l)},fn.prototype._create=function(r,s){return s instanceof Rr?s:this._elementFactory.create(r,s)},fn.prototype.toggleCollapse=function(r,s){this._commandStack.execute("shape.toggleCollapse",{shape:r,hints:s||{}})},kl.$inject=["elementRegistry"],kl.prototype.execute=function(r){var s=r.element,c=r.moddleElement,l=r.properties;if(!c)throw new Error("<moddleElement> required");var m,u=r.changed||this.getVisualReferences(c).concat(s),h=r.oldProperties||(m=c,mr(Zp(l),function(_,v){return _[v]=m.get(v),_},{}));return $M(c,l),r.oldProperties=h,r.changed=u,u},kl.prototype.revert=function(r){var l=r.changed;return $M(r.moddleElement,r.oldProperties),l},kl.prototype.getVisualReferences=function(r){var c,s=this._elementRegistry;return P(r,"bpmn:DataObject")?(c=r,s.filter(function(u){return P(u,"bpmn:DataObjectReference")&&Ie(u).dataObjectRef===c})):[]};var CE={width:0,height:0};function ap(r,s,c,l,u){this._elementRegistry=r,this._moddle=s,this._translate=c,this._modeling=l,this._textRenderer=u}function ki(r,s){return"id"in r&&r.id!==s.id}function Ry(r,s){var c=r.businessObject,l=st(r);q(s,function(u,h){var m;"di"!==h?c.set(h,u):l&&(m=l,q(u,function(_,v){m.set(v,_)}))})}ap.$inject=["elementRegistry","moddle","translate","modeling","textRenderer"],ap.prototype.execute=function(r){var s=r.element,c=[s];if(!s)throw new Error((0,this._translate)("element required"));var v,b,u=this._elementRegistry,h=this._moddle.ids,m=s.businessObject,f=(b=ee({},v=r.properties),GM.forEach(function(x){x in v&&(b[x]=Ie(b[x]))}),b),_=r.oldProperties||function(v,b){var x=Zp(b),E=v.businessObject,C=st(v);return mr(x,function(k,T){return k[T]="di"!==T?E.get(T):(I=C,mr(Zp(b.di),function(R,F){return R[F]=I&&I.get(F),R},{})),k;var I},{})}(s,f);return ki(f,m)&&(h.unclaim(m.id),u.updateId(s,f.id),h.claim(f.id,m)),"default"in f&&(f.default&&c.push(u.get(f.default.id)),m.default&&c.push(u.get(m.default.id))),Ry(s,f),r.oldProperties=_,r.changed=c,c},ap.prototype.postExecute=function(r){var s=r.element.label,c=s&&Ie(s).name;if(c){var l=this._textRenderer.getExternalLabelBounds(s,c);this._modeling.resizeShape(s,l,CE)}},ap.prototype.revert=function(r){var s=r.element,c=r.properties,l=r.oldProperties,u=s.businessObject,h=this._elementRegistry,m=this._moddle.ids;return Ry(s,l),ki(c,u)&&(m.unclaim(c.id),h.updateId(s,l.id),m.claim(l.id,u)),r.changed};var GM=["default"];function Zf(r,s){this._canvas=r,this._modeling=s}function Qf(r,s){this._modeling=r,this._spaceTool=s}function Iy(r,s){this._modeling=r,this._translate=s}function au(r,s){this._modeling=r,this._spaceTool=s}Zf.$inject=["canvas","modeling"],Zf.prototype.execute=function(r){var s=this._canvas,c=r.newRoot,l=c.businessObject,u=s.getRootElement(),h=u.businessObject,m=h.$parent,f=st(u);s.setRootElement(c),s.removeRootElement(u),re(m.rootElements,l),l.$parent=m,Vn(m.rootElements,h),h.$parent=null,u.di=null,f.bpmnElement=l,c.di=f,r.oldRoot=u},Zf.prototype.revert=function(r){var s=this._canvas,c=r.newRoot,l=c.businessObject,u=r.oldRoot,h=u.businessObject,m=l.$parent,f=st(c);s.setRootElement(u),s.removeRootElement(c),Vn(m.rootElements,l),l.$parent=null,re(m.rootElements,h),h.$parent=m,c.di=null,f.bpmnElement=h,u.di=f},Qf.$inject=["modeling","spaceTool"],Qf.prototype.preExecute=function(r){var s=this._spaceTool,c=this._modeling,l=r.shape,u=r.location,h=ns(l),m=h===l,f=m?l:l.parent;yl(f).length||c.createShape({type:"bpmn:Lane"},{x:l.x+30,y:l.y,width:l.width-30,height:l.height},f);var _=[];Xt(h,function(k){return _.push(k),k.label&&_.push(k.label),k===l?[]:pt(k.children,function(T){return T!==l})});var v="top"===u?-120:120,b="top"===u?l.y:l.y+l.height,x=b+("top"===u?10:-10),E="top"===u?"n":"s",C=s.calculateAdjustments(_,"y",v,x);s.makeSpace(C.movingShapes,C.resizingShapes,{x:0,y:v},E,x),r.newLane=c.createShape({type:"bpmn:Lane"},{x:l.x+(m?30:0),y:b-("top"===u?120:0),width:l.width-(m?30:0),height:120},f)},Iy.$inject=["modeling","translate"],Iy.prototype.preExecute=function(r){var s=this._modeling,c=this._translate,l=r.shape,u=r.count,h=yl(l),m=h.length;if(m>u)throw new Error(c("more than {count} child lanes",{count:u}));var v,x,E=Math.round(l.height/u);for(x=0;x<u;x++)v={x:l.x+30,y:l.y+x*E,width:l.width-30,height:x===u-1?l.height-E*x:E},x<m?s.resizeShape(h[x],v):s.createShape({type:"bpmn:Lane"},v,l)},au.$inject=["modeling","spaceTool"],au.prototype.preExecute=function(r){var s=r.shape,c=r.newBounds;!1!==r.balanced?this.resizeBalanced(s,c):this.resizeSpace(s,c)},au.prototype.resizeBalanced=function(r,s){var c=this._modeling,l=function xM(r,s){var _,c=ns(r),l=ba(c,P(c,"bpmn:Process")?[]:[c]),u=Xe(r),h=Xe(s),m=(_=r,hf(Xe(s),Xe(_))),f=[];return l.forEach(function(_){if(_!==r){var v,b,x=0,E=m.right,C=0,k=m.left,T=Xe(_);m.top&&(mf(T.bottom-u.top)<10&&(C=h.top-T.bottom),mf(T.top-u.top)<5&&(x=h.top-T.top)),m.bottom&&(mf(T.top-u.bottom)<10&&(x=h.bottom-T.top),mf(T.bottom-u.bottom)<5&&(C=h.bottom-T.bottom)),(x||E||C||k)&&f.push({shape:_,newBounds:(v=_,b={top:x,right:E,bottom:C,left:k},{x:v.x+(b.left||0),y:v.y+(b.top||0),width:v.width-(b.left||0)+(b.right||0),height:v.height-(b.top||0)+(b.bottom||0)})})}}),f}(r,s);c.resizeShape(r,s),l.forEach(function(u){c.resizeShape(u.shape,u.newBounds)})},au.prototype.resizeSpace=function(r,s){var c,u,m,f=this._spaceTool,_=Xe(r),v=hf(Xe(s),_),b=ns(r),x=[],E=[];Xt(b,function(C){return x.push(C),(P(C,"bpmn:Lane")||P(C,"bpmn:Participant"))&&E.push(C),C.children}),(v.bottom||v.top)&&(c=v.bottom||v.top,u=v.bottom?"s":"n",m=f.calculateAdjustments(x,"y",v.top>0||v.bottom<0?-c:c,r.y+(v.bottom?r.height:0)+(v.bottom?-10:10)),f.makeSpace(m.movingShapes,m.resizingShapes,{x:0,y:c},u)),(v.left||v.right)&&(c=v.right||v.left,u=v.right?"e":"w",m=f.calculateAdjustments(E,"x",v.left>0||v.right<0?-c:c,r.x+(v.right?r.width:0)+(v.right?-10:100)),f.makeSpace(m.movingShapes,m.resizingShapes,{x:c,y:0},u))};var cu="flowNodeRef",_c="lanes";function cp(r){this._elementRegistry=r}function Jf(r){this._moddle=r}cp.$inject=["elementRegistry"],cp.prototype.computeUpdates=function(r,s){var c=[],l=[],u={},h=[];function m(_){-1===c.indexOf(_)&&(h.push(_),c.push(_))}return s.forEach(function(_){var v=ns(_);v&&-1===c.indexOf(v)&&(v.children.filter(function(x){return P(x,"bpmn:FlowNode")}).forEach(m),c.push(v))}),r.forEach(m),h.forEach(function(_){var v=_.businessObject,b=v.get(_c).slice(),x=function f(_){return _.parent?(x=ns(_),u[x.id]||(u[x.id]=ba(x)),u[x.id]).filter(function(b){return x=_,E=Xe(b),k=x.y+x.height/2,(C=x.x+x.width/2)>E.left&&C<E.right&&k>E.top&&k<E.bottom;var x,E,C,k}).map(function(b){return b.businessObject}):[];var x}(_);l.push({flowNode:v,remove:b,add:x})}),s.forEach(function(_){var v=_.businessObject;_.parent||v.get(cu).forEach(function(b){l.push({flowNode:b,remove:[v],add:[]})})}),l},cp.prototype.execute=function(r){var s=r.updates;s||(s=r.updates=this.computeUpdates(r.flowNodeShapes,r.laneShapes)),s.forEach(function(c){var l=c.flowNode,u=l.get(_c);c.remove.forEach(function(h){Vn(u,h),Vn(h.get(cu),l)}),c.add.forEach(function(h){re(u,h),re(h.get(cu),l)})})},cp.prototype.revert=function(r){r.updates.forEach(function(s){var c=s.flowNode,l=c.get(_c);s.add.forEach(function(u){Vn(l,u),Vn(u.get(cu),c)}),s.remove.forEach(function(u){re(l,u),re(u.get(cu),c)})})},Jf.$inject=["moddle"],Jf.prototype.execute=function(r){var s=this._moddle.ids,c=r.id;r.claiming?s.claim(c,r.element):s.unclaim(c)},Jf.prototype.revert=function(r){var s=this._moddle.ids,c=r.id,l=r.element;r.claiming?s.unclaim(c):s.claim(c,l)};var DE={fill:void 0,stroke:void 0};function Oy(r){this._commandStack=r,this._normalizeColor=function(s){if(s){if(Mr(s)){var c=(l=s,(u=document.createElement("canvas").getContext("2d")).fillStyle="transparent",u.fillStyle=l,/^#[0-9a-fA-F]{6}$/.test(u.fillStyle)?u.fillStyle:null);if(c)return c}throw new Error("invalid color value: "+s)}var l,u}}Oy.$inject=["commandStack"],Oy.prototype.postExecute=function(r){var s=r.elements,c=r.colors||DE,l=this,u={};"fill"in c&&ee(u,{"background-color":this._normalizeColor(c.fill)}),"stroke"in c&&ee(u,{"border-color":this._normalizeColor(c.stroke)}),q(s,function(h){var _,m=h.waypoints?Ro(u,["border-color"]):u,f=st(h);if("border-color"in(_=m)&&(_.stroke=_["border-color"]),"background-color"in _&&(_.fill=_["background-color"]),Ci(h))l._commandStack.execute("element.updateModdleProperties",{element:h,moddleElement:f.label,properties:{color:u["border-color"]}});else{if(!Bt(f,["bpmndi:BPMNEdge","bpmndi:BPMNShape"]))return;l._commandStack.execute("element.updateProperties",{element:h,properties:{di:m}})}})};var kE={width:0,height:0};function WM(r,s,c){function l(u,h){var v,x,E,m=u.label||u,f=u.labelTarget||u;return v=h,(E=dx(x=m.businessObject))&&("categoryValueRef"===E?x.categoryValueRef.value=v:x[E]=v),function(_,v){if(!Qa(_)){var b=st(_);v&&!b.label&&(b.label=c.create("bpmndi:BPMNLabel")),!v&&b.label&&delete b.label}}(u,h),[m,f]}this.preExecute=function(u){var h=u.element,m=h.businessObject,f=u.newLabel;if(!Ci(h)&&Qa(h)&&!Cm(h)&&!$o(f)){var _=fd(h);r.createLabel(h,_={x:_.x,y:_.y+7},{id:m.id+"_label",businessObject:m,di:h.di})}},this.execute=function(u){return u.oldLabel=Lo(u.element),l(u.element,u.newLabel)},this.revert=function(u){return l(u.element,u.oldLabel)},this.postExecute=function(u){var h=u.element,m=h.label||h,f=u.newLabel,_=u.newBounds,v=u.hints||{};if(Ci(m)||P(m,"bpmn:TextAnnotation"))if(Ci(m)&&$o(f))!1!==v.removeShape&&r.removeShape(m,{unsetLabel:!1});else{var b=Lo(m);void 0===_&&(_=s.getExternalLabelBounds(m,b)),_&&r.resizeShape(m,_,kE)}}}function $o(r){return!r||!r.trim()}function lt(r,s,c,l){fn.call(this,r,s,c),this._bpmnRules=l}function as(){}WM.$inject=["modeling","textRenderer","bpmnFactory"],Me(lt,fn),lt.$inject=["eventBus","elementFactory","commandStack","bpmnRules"],lt.prototype.getHandlers=function(){var r=fn.prototype.getHandlers.call(this);return r["element.updateModdleProperties"]=kl,r["element.updateProperties"]=ap,r["canvas.updateRoot"]=Zf,r["lane.add"]=Qf,r["lane.resize"]=au,r["lane.split"]=Iy,r["lane.updateRefs"]=cp,r["id.updateClaim"]=Jf,r["element.setColor"]=Oy,r["element.updateLabel"]=WM,r},lt.prototype.updateLabel=function(r,s,c,l){this._commandStack.execute("element.updateLabel",{element:r,newLabel:s,newBounds:c,hints:l||{}})},lt.prototype.connect=function(r,s,c,l){if(c||(c=this._bpmnRules.canConnect(r,s)),c)return this.createConnection(r,s,c,r.parent,l)},lt.prototype.updateModdleProperties=function(r,s,c){this._commandStack.execute("element.updateModdleProperties",{element:r,moddleElement:s,properties:c})},lt.prototype.updateProperties=function(r,s){this._commandStack.execute("element.updateProperties",{element:r,properties:s})},lt.prototype.resizeLane=function(r,s,c){this._commandStack.execute("lane.resize",{shape:r,newBounds:s,balanced:c})},lt.prototype.addLane=function(r,s){var c={shape:r,location:s};return this._commandStack.execute("lane.add",c),c.newLane},lt.prototype.splitLane=function(r,s){this._commandStack.execute("lane.split",{shape:r,count:s})},lt.prototype.makeCollaboration=function(){var r=this._create("root",{type:"bpmn:Collaboration"});return this._commandStack.execute("canvas.updateRoot",{newRoot:r}),r},lt.prototype.updateLaneRefs=function(r,s){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:r,laneShapes:s})},lt.prototype.makeProcess=function(){var r={newRoot:this._create("root",{type:"bpmn:Process"})};this._commandStack.execute("canvas.updateRoot",r)},lt.prototype.claimId=function(r,s){this._commandStack.execute("id.updateClaim",{id:r,element:s,claiming:!0})},lt.prototype.unclaimId=function(r,s){this._commandStack.execute("id.updateClaim",{id:r,element:s})},lt.prototype.setColor=function(r,s){r.length||(r=[r]),this._commandStack.execute("element.setColor",{elements:r,colors:s})},as.prototype.layoutConnection=function(r,s){return[(s=s||{}).connectionStart||tt(s.source||r.source),s.connectionEnd||tt(s.target||r.target)]};var eg=Math.round,qM={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function cs(r,s,c){var l,u,m=Ii(s,r,5),f=c.split(":")[0],_=eg((s.x-r.x)/2+r.x),v=eg((s.y-r.y)/2+r.y),b={t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[f].test(m),x=/h|r|l/.test(f),C=!1;return b?(l=x?{x:_,y:r.y}:{x:r.x,y:v},u=x?"h:h":"v:v"):(u=x?"h:v":"v:h",{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[f].test(m)?l={x:_,y:v}:x?(C=v===r.y,l={x:r.x+20*(/l/.test(f)?-1:1),y:C?v+20:v}):l={x:(C=_===r.x)?_+20:_,y:r.y+20*(/t/.test(f)?-1:1)}),{waypoints:yo(r,l,u).concat(l),directions:u,turnNextDirections:C}}function Uo(r){return r.split(":").reverse().join(":")}function yo(r,s,c){if(!(m=c=c||"h:h")||!/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(m))throw new Error("unknown directions: <"+c+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");var m;if(AE(c)){var l=function(m,f,_){return cs(m,f,_)}(r,s,c),u=function(m,f,_){var v=cs(f,m,Uo(_));return{waypoints:v.waypoints.slice().reverse(),directions:Uo(v.directions),turnNextDirections:v.turnNextDirections}}(r,s,c),h=function(m,f){var _=m.directions.split(":")[1],v=f.directions.split(":")[0];m.turnNextDirections&&(_="h"==_?"v":"h"),f.turnNextDirections&&(v="h"==v?"v":"h");var b=_+":"+v;return{waypoints:yo(m.waypoints[m.waypoints.length-1],f.waypoints[0],b),directions:b}}(l,u);return[].concat(l.waypoints,h.waypoints,u.waypoints)}return function(m,f,_){var v=eg((f.x-m.x)/2+m.x),b=eg((f.y-m.y)/2+m.y);if("h:v"===_)return[{x:f.x,y:m.y}];if("v:h"===_)return[{x:m.x,y:f.y}];if("h:h"===_)return[{x:v,y:m.y},{x:v,y:f.y}];if("v:v"===_)return[{x:m.x,y:b},{x:f.x,y:b}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}(r,s,c)}function ME(r,s,c,l,u){var h=function K1(r,s){return pr(r)?[]:(function(c){if(!Ae(c))throw new Error("must supply array")}(r),s=Jp(s),r.filter(function(c,l){return!s(c,l)}))}(u&&u.preferredLayouts||[],"straight")[0]||"h:h",m=Ii(r,s,qM[h]||0),f=function(b,x){if(AE(x))return x;switch(b){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return x}}(m,h);c=c||tt(r),l=l||tt(s);var b,x,C,_=f.split(":");return b=RE(c,r,_[0],{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[m]),x=RE(l,s,_[1],m),(C=yo(b,x,f)).unshift(b),C.push(x),tg(C)}function TE(r,s,c){return(l=s[r])>=c[r]&&l<=c[r]+c[{x:"width",y:"height"}[r]];var l}function Py(r,s,c,l){if((f=l).length<3||!(f.length>4)&&wt(f,function(_,v){var b=f[v-1];return b&&Et(_,b)<3}))return null;var f,u,h=l[0],m=l.slice();return m[0]=c,m[1]=function(f,_,v){switch(oa(_,f)){case"v":return{x:v.x,y:f.y};case"h":return{x:f.x,y:v.y}}return{x:f.x,y:f.y}}(m[1],h,c),u=function(f,_,v){var b;for(b=f.length-2;0!==b;b--)if(lk(f[b],_,20)||lk(f[b],v,20))return f.slice(b);return f}(m,r,s),u!==m&&(m=Py(r,s,c,u)),m&&oa(m)?null:m}function AE(r){return r&&/t|r|b|l/.test(r)}function RE(r,s,c,l){if("h"===c&&(c=/left/.test(l)?"l":"r"),"v"===c&&(c=/top/.test(l)?"t":"b"),"t"===c)return{original:r,x:r.x,y:s.y};if("r"===c)return{original:r,x:s.x+s.width,y:r.y};if("b"===c)return{original:r,x:r.x,y:s.y+s.height};if("l"===c)return{original:r,x:s.x,y:r.y};throw new Error("unexpected dockingDirection: <"+c+">")}function tg(r){return r.reduce(function(s,c,l){return cn(s[s.length-1],r[l+1],c,0)||s.push(c),s},[])}var Ml={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},ng={top:"t",right:"r",bottom:"b",left:"l"};function ig(){}function KM(r,s){return P(s,"bpmn:Participant")?"source":P(r,"bpmn:Participant")?"target":dp(s)?"source":dp(r)||P(s,"bpmn:Event")?"target":P(r,"bpmn:Event")?"source":null}function IE(r){return dp(r)?"target":"source"}function Fy(r,s){return r?r.original||r:tt(s)}function lp(r,s){return P(s,"bpmn:Activity")&&P(r,"bpmn:BoundaryEvent")&&s.businessObject.isForCompensation}function dp(r){return P(r,"bpmn:SubProcess")&&zt(r)}function lu(r,s){return r===s}function gt(r){var s=/right|left/.exec(r);return s&&s[0]}function bo(r){var s=/top|bottom/.exec(r);return s&&s[0]}function vi(r){return"right"===r||"left"===r}function OE(r,s){var c=s.waypoints,l=c&&c.length&&Ii(c[0],r);return"top"===l?["t:r"]:"right"===l?["r:b"]:"left"===l?["l:t"]:["b:l"]}function PE(r,s,c){var l,u,h,m,C,k,T,I,M,F,f=tt(r),_=tt(s),v=(m=(h=r).host,Ii(tt(h),m,-10)),b=lu(r.host,s),x=-1!==["top","right","bottom","left"].indexOf(v),E=Ii(_,f,{x:r.width/2+s.width/2,y:r.height/2+s.height/2});return b?(C=v,T=r,I=s,M=c,F=(k=x)?C:bo(C),[ng[F]+":"+(k?vi(C)?Ny("y",T,I,M)?"h":"b":Ny("x",T,I,M)?"v":"l":"v")]):(l=function(C,k,T){return T?ng[C]:lu(bo(C),bo(k))||function(I,M){return Ml[I]===M}(gt(C),gt(k))?ng[bo(C)]:ng[gt(C)]}(v,E,x),u=function(C,k,T){return T?vi(C)?function(I,M){var R=gt(I);return-1!==M.indexOf(Ml[R])}(C,k)||lu(C,k)?"h":"v":function(I,M){var R=bo(I);return-1!==M.indexOf(Ml[R])}(C,k)||lu(C,k)?"v":"h":vi(k)||lu(bo(C),bo(k))&&gt(k)?"h":"v"}(v,E,x),[l+":"+u])}function Ny(r,s,c,l){return!(rg(r,l,c,40)||rg(r,l,{x:c.x+c.width,y:c.y+c.height},40)||rg(r,l,tt(s),40))}function rg(r,s,c,l){return Math.abs(s[r]-c[r])<l}function Ly(r){return ee({original:r.point.original||r.point},r.actual)}function Pa(r,s){this._elementRegistry=r,this._graphicsFactory=s}Me(ig,as),ig.prototype.layoutConnection=function(r,s){s||(s={});var c,l,u=s.source||r.source,h=s.target||r.target,m=s.waypoints||r.waypoints,f=s.connectionStart,_=s.connectionEnd;return f||(f=Fy(m&&m[0],u)),_||(_=Fy(m&&m[m.length-1],h)),(P(r,"bpmn:Association")||P(r,"bpmn:DataAssociation"))&&m&&!lp(u,h)?[].concat([f],m.slice(1,-1),[_]):(P(r,"bpmn:MessageFlow")?c={preferredLayouts:["straight","v:v"],preserveDocking:KM(u,h)}:(P(r,"bpmn:SequenceFlow")||lp(u,h))&&(c=u===h?{preferredLayouts:OE(u,r)}:P(u,"bpmn:BoundaryEvent")?{preferredLayouts:PE(u,h,_)}:dp(u)||dp(h)?{preferredLayouts:["straight","h:h"],preserveDocking:IE(u)}:P(u,"bpmn:Gateway")?{preferredLayouts:["v:h"]}:P(h,"bpmn:Gateway")?{preferredLayouts:["h:v"]}:{preferredLayouts:["h:h"]}),c&&(l=tg(function SE(r,s,c,l,u,h){var m,f,_,v,b,x,E,C,k;return Ae(c)&&(u=c,h=l,c=tt(r),l=tt(s)),u=u||[],(m=-1!==(h=ee({preferredLayouts:[]},h)).preferredLayouts.indexOf("straight")&&(v=c,b=l,x=h,k={},C=Ii(f=r,_=s),/^(top|bottom|left|right)$/.test(C)?(/top|bottom/.test(C)&&(E="x"),/left|right/.test(C)&&(E="y"),"target"===x.preserveDocking?TE(E,b,f)?(k[E]=b[E],[{x:void 0!==k.x?k.x:v.x,y:void 0!==k.y?k.y:v.y,original:{x:void 0!==k.x?k.x:v.x,y:void 0!==k.y?k.y:v.y}},{x:b.x,y:b.y}]):null:TE(E,v,_)?(k[E]=v[E],[{x:v.x,y:v.y},{x:void 0!==k.x?k.x:b.x,y:void 0!==k.y?k.y:b.y,original:{x:void 0!==k.x?k.x:b.x,y:void 0!==k.y?k.y:b.y}}]):null):null))||(m=h.connectionEnd&&function(f,_,v,b){var x=b.slice().reverse();return(x=Py(f,_,v,x))?x.reverse():null}(s,r,l,u),m||(m=h.connectionStart&&Py(r,s,c,u))||(!h.connectionStart&&!h.connectionEnd&&u&&u.length?u:ME(r,s,c,l,h)))}(u,h,f,_,m,c=ee(c,s)))),l||[f,_])},Pa.$inject=["elementRegistry","graphicsFactory"],Pa.prototype.getCroppedWaypoints=function(r,s,c){c=c||r.target;var l=this.getDockingPoint(r,s=s||r.source,!0),u=this.getDockingPoint(r,c),h=r.waypoints.slice(l.idx+1,u.idx);return h.unshift(Ly(l)),h.push(Ly(u)),h},Pa.prototype.getDockingPoint=function(r,s,c){var l,u,h=r.waypoints;return{point:u=h[l=c?0:h.length-1],actual:this._getIntersection(s,r,c)||u,idx:l}},Pa.prototype._getIntersection=function(r,s,c){return dd(this._getShapePath(r),this._getConnectionPath(s),c)},Pa.prototype._getConnectionPath=function(r){return this._graphicsFactory.getConnectionPath(r)},Pa.prototype._getShapePath=function(r){return this._graphicsFactory.getShapePath(r)},Pa.prototype._getGfx=function(r){return this._elementRegistry.getGraphics(r)};var FE={__init__:["modeling","bpmnUpdater"],__depends__:[u2,VM,jM,HM,jd,nu,yE,bE,zM,Jo,$_,Cl],bpmnFactory:["type",Se],bpmnUpdater:["type",Zr],elementFactory:["type",Ce],modeling:["type",lt],layouter:["type",ig],connectionDocking:["type",Pa]},up=Math.round;function NE(r,s,c,l,u){function h(f,_,v,b){return u.allowed("elements.move",{shapes:f,delta:_,position:v,target:b})}function m(f,_,v,b){if(on(v)&&(b=v,v=!1),!_.waypoints&&_.parent&&!Nt(f.target).has("djs-hit-no-move")){var x={x:(E=_).x+up(E.width/2),y:E.y+up(E.height/2)};return s.init(f,x,"shape.move",{cursor:"grabbing",autoActivate:v,data:{shape:_,context:b||{}}}),!0}var E}r.on("shape.move.start",1500,function(f){var x,E,_=f.context,v=f.shape,b=l.get().slice();-1===b.indexOf(v)&&(b=[v]),E=od(x=b,"id"),ee(_,{shapes:b=pt(x,function(C){for(;C=C.parent;)if(E[C.id])return!1;return!0}),validatedShapes:b,shape:v})}),r.on("shape.move.start",1250,function(f){var _=f.context;if(!(_.canExecute=h(_.validatedShapes)))return!1}),r.on("shape.move.move",500,function(f){var _,v=f.context,x=f.hover,E={x:f.dx,y:f.dy};_=h(v.validatedShapes,E,{x:f.x,y:f.y},x),v.delta=E,v.canExecute=_,v.target=null!==_?x:null}),r.on("shape.move.end",function(f){var _=f.context,v=_.delta,b=_.canExecute,x="attach"===b,E=_.shapes;if(!1===b)return!1;v.x=up(v.x),v.y=up(v.y),0===v.x&&0===v.y||c.moveElements(E,v,_.target,{primaryShape:_.shape,attach:x})}),r.on("element.mousedown",function(f){if(Ja(f)){var _=Jc(f);if(!_)throw new Error("must supply DOM mousedown event");return m(_,f.element)}}),this.start=m}NE.$inject=["eventBus","dragging","modeling","selection","rules"];var By="djs-dragging",LE="drop-ok",BE="drop-not-ok",VE="new-parent",jE="attach-ok";function HE(r,s,c,l){function h(f){var _=Lc(f,!0),v=ii(_,function(b){return(b.incoming||[]).concat(b.outgoing||[])});return qt(_.concat(v))}function m(f,_){[jE,LE,BE,VE].forEach(function(v){v===_?s.addMarker(f,v):s.removeMarker(f,v)})}r.on("shape.move.start",499,function(f){var _=f.context,v=_.shapes,b=_.allDraggedElements,x=function u(f){var v;return pt(v=h(f),function(b){return!b.waypoints||wt(v,Ao({id:b.source.id}))&&wt(v,Ao({id:b.target.id}))})}(v);if(!_.dragGroup){var E=Ye("g");ve(E,c.cls("djs-drag-group",["no-events"])),rt(s.getActiveLayer(),E),_.dragGroup=E}x.forEach(function(C){l.addDragger(C,_.dragGroup)}),q(b=b?qt([b,h(v)]):h(v),function(C){s.addMarker(C,By)}),_.allDraggedElements=b,_.differentParents=1!==Zp(od(v,function(C){return C.parent&&C.parent.id})).length}),r.on("shape.move.move",499,function(f){var _=f.context,v=_.dragGroup,b=_.target;b&&m(b,"attach"===_.canExecute?jE:_.canExecute&&b&&b.id!==_.shape.parent.id?VE:_.canExecute?LE:BE),Ir(v,f.dx,f.dy)}),r.on(["shape.move.out","shape.move.cleanup"],function(f){var _=f.context.target;_&&m(_,null)}),r.on("shape.move.cleanup",function(f){var _=f.context,b=_.dragGroup;q(_.allDraggedElements,function(x){s.removeMarker(x,By)}),b&&$n(b)}),this.makeDraggable=function(f,_,v){l.addDragger(_,f.dragGroup),v&&s.addMarker(_,By),f.allDraggedElements?f.allDraggedElements.push(_):f.allDraggedElements=[_]}}HE.$inject=["eventBus","canvas","styles","previewSupport"];var YM={__depends__:[ih,Jo,px,Is,va,Mh],__init__:["move","movePreview"],move:["type",NE],movePreview:["type",HE]};function yi(r,s){this._eventBus=r,this._canvas=s;var c=this;r.on("tool-manager.update",function(l){c.updateToolHighlight(l.tool)}),r.on("i18n.changed",function(){c._update()}),r.on("diagram.init",function(){c._diagramInitialized=!0,c._rebuild()})}function JM(r,s){var c=s.getPaletteEntries();return mn(c)?c(r):(q(c,function(l,u){r[u]=l}),r)}yi.$inject=["eventBus","canvas"],yi.prototype.registerProvider=function(r,s){s||(s=r,r=1e3),this._eventBus.on("palette.getProviders",r,function(c){c.providers.push(s)}),this._rebuild()},yi.prototype.getEntries=function(){return this._getProviders().reduce(JM,{})},yi.prototype._rebuild=function(){this._diagramInitialized&&this._getProviders().length&&(this._container||this._init(),this._update())},yi.prototype._init=function(){var r=this,s=this._eventBus,c=this._getParentContainer(),l=this._container=Sn(yi.HTML_MARKUP);c.appendChild(l),Ai(c).add("djs-palette-shown"),Io_bind(l,".djs-palette-toggle, .entry","click",function(u){if(em(u.delegateTarget,".djs-palette-toggle"))return r.toggle();r.trigger("click",u)}),Ke.bind(l,"mousedown",function(u){u.stopPropagation()}),Io_bind(l,".entry","dragstart",function(u){r.trigger("dragstart",u)}),s.on("canvas.resized",this._layoutChanged,this),s.fire("palette.create",{container:l})},yi.prototype._getProviders=function(r){var s=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(s),s.providers},yi.prototype._toggleState=function(r){r=r||{};var s,c=this._getParentContainer(),u=this._eventBus,h=Ai(this._container),m=Ai(c);s="twoColumn"in r?r.twoColumn:this._needsCollapse(c.clientHeight,this._entries||{}),h.toggle("two-column",s),m.toggle("djs-palette-two-column",s),"open"in r&&(h.toggle("open",r.open),m.toggle("djs-palette-open",r.open)),u.fire("palette.changed",{twoColumn:s,open:this.isOpen()})},yi.prototype._update=function(){var r=Cn(".djs-palette-entries",this._container),s=this._entries=this.getEntries();Lu(r),q(s,function(c,l){var u=c.group||"default",h=Cn("[data-group="+xd(u)+"]",r);h||(Tr(h=Sn('<div class="group"></div>'),"data-group",u),r.appendChild(h));var b,x,f=Sn(c.html||(c.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'));if(h.appendChild(f),!c.separator&&(Tr(f,"data-action",l),c.title&&Tr(f,"title",c.title),c.className&&(b=c.className,x=Ai(f),(Ae(b)?b:b.split(/\s+/g)).forEach(function(E){x.add(E)})),c.imageUrl)){var _=Sn("<img>");Tr(_,"src",c.imageUrl),f.appendChild(_)}}),this.open()},yi.prototype.trigger=function(r,s,c){var l,u,h,m=this._entries,f=s.delegateTarget||s.target;if(!f)return s.preventDefault();(l=m[Tr(f,"data-action")])&&(h=s.originalEvent||s,mn(u=l.action)?"click"===r&&u(h,c):u[r]&&u[r](h,c),s.preventDefault())},yi.prototype._layoutChanged=function(){this._toggleState({})},yi.prototype._needsCollapse=function(r,s){return r<46*Object.keys(s).length+50},yi.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},yi.prototype.open=function(){this._toggleState({open:!0})},yi.prototype.toggle=function(r){this.isOpen()?this.close():this.open()},yi.prototype.isActiveTool=function(r){return r&&this._activeTool===r},yi.prototype.updateToolHighlight=function(r){var s;this._toolsContainer||(s=Cn(".djs-palette-entries",this._container),this._toolsContainer=Cn("[data-group=tools]",s)),q(this._toolsContainer.children,function(c){var l=c.getAttribute("data-action");if(l){var u=Ai(c);l=l.replace("-tool",""),u.contains("entry")&&l===r?u.add("highlighted-entry"):u.remove("highlighted-entry")}})},yi.prototype.isOpen=function(){return Ai(this._container).has("open")},yi.prototype._getParentContainer=function(){return this._canvas.getContainer()},yi.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';var eS={__init__:["palette"],palette:["type",yi]},$E="crosshair";function Sl(r,s,c,l,u,h,m){this._selection=u,this._dragging=c,this._mouse=m;var f=this;h.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),r.on("lasso.selection.end",function(x){(x.hover||x.originalEvent.target instanceof SVGElement)&&r.once("lasso.selection.ended",function(){f.activateLasso(x.originalEvent,!0)})}),r.on("lasso.end",function(x){var E=Vy(x),C=l.filter(function(k){return k});f.select(C,E)}),r.on("lasso.start",function(x){var E=x.context;E.bbox=Vy(x),function(x){var E,C=s.getActiveLayer();ve(E=x.frame=Ye("rect"),{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),rt(C,E)}(E)}),r.on("lasso.move",function(x){var E=x.context;E.bbox=Vy(x),function(x){var C=x.bbox;ve(x.frame,{x:C.x,y:C.y,width:C.width,height:C.height})}(E)}),r.on("lasso.cleanup",function(x){!function(x){x.frame&&$n(x.frame)}(x.context)}),r.on("element.mousedown",1500,function(x){if(xr(x))return f.activateLasso(x.originalEvent),!0})}function Vy(r){var s={x:r.x-r.dx,y:r.y-r.dy},c={x:r.x,y:r.y};return s.x<=c.x&&s.y<c.y||s.x<c.x&&s.y<=c.y?{x:s.x,y:s.y,width:c.x-s.x,height:c.y-s.y}:s.x>=c.x&&s.y<c.y||s.x>c.x&&s.y<=c.y?{x:c.x,y:s.y,width:s.x-c.x,height:c.y-s.y}:s.x<=c.x&&s.y>c.y||s.x<c.x&&s.y>=c.y?{x:s.x,y:c.y,width:c.x-s.x,height:s.y-c.y}:s.x>=c.x&&s.y>c.y||s.x>c.x&&s.y>=c.y?{x:c.x,y:c.y,width:s.x-c.x,height:s.y-c.y}:{x:c.x,y:c.y,width:0,height:0}}Sl.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"],Sl.prototype.activateLasso=function(r,s){this._dragging.init(r,"lasso",{autoActivate:s,cursor:$E,data:{context:{}}})},Sl.prototype.activateSelection=function(r,s){this._dragging.init(r,"lasso.selection",{trapClick:!1,autoActivate:s,cursor:$E,data:{context:{}}})},Sl.prototype.select=function(r,s){var u,h,c=(u=s,h={},q(r,function(m){var f=m;f.waypoints&&(f=ri(f)),!Re(u.y)&&f.x>u.x&&(h[m.id]=m),!Re(u.x)&&f.y>u.y&&(h[m.id]=m),f.x>u.x&&f.y>u.y&&(Re(u.width)&&Re(u.height)&&f.width+f.x<u.width+u.x&&f.height+f.y<u.height+u.y?h[m.id]=m:Re(u.width)&&Re(u.height)||(h[m.id]=m))}),h);this._selection.select(Nu(c))},Sl.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var r=this._mouse.getLastMoveEvent();this.activateSelection(r,!!r)},Sl.prototype.isActive=function(){var r=this._dragging.context();return r&&/^lasso/.test(r.prefix)};var UE={__depends__:[Qh,Sh],__init__:["lassoTool"],lassoTool:["type",Sl]};function Tl(r,s,c,l,u,h){this._dragging=c,this._mouse=h;var m=this,f=l.get("keyboard",!1);u.registerTool("hand",{tool:"hand",dragging:"hand.move"}),r.on("element.mousedown",1500,function(_){if(gd(_))return m.activateMove(_.originalEvent,!0),!1}),f&&f.addListener(1500,function(_){if(Hy(_.keyEvent)&&!m.isActive()){var v=m._mouse.getLastMoveEvent();m.activateMove(v,!!v)}},"keyboard.keydown"),f&&f.addListener(1500,function(_){Hy(_.keyEvent)&&m.isActive()&&m.toggle()},"keyboard.keyup"),r.on("hand.end",function(_){if(!(_.hover||_.originalEvent.target instanceof SVGElement))return!1;r.once("hand.ended",function(){m.activateMove(_.originalEvent,{reactivate:!0})})}),r.on("hand.move.move",function(_){var v=s.viewbox().scale;s.scroll({dx:_.dx*v,dy:_.dy*v})}),r.on("hand.move.end",function(_){var v=_.context.reactivate;return!gd(_)&&v&&r.once("hand.move.ended",function(b){m.activateHand(b.originalEvent,!0,!0)}),!1})}function Hy(r){return Fi("Space",r)}Tl.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"],Tl.prototype.activateMove=function(r,s,c){"object"==typeof s&&(c=s,s=!1),this._dragging.init(r,"hand.move",{autoActivate:s,cursor:"grab",data:{context:c||{}}})},Tl.prototype.activateHand=function(r,s,c){this._dragging.init(r,"hand",{trapClick:!1,autoActivate:s,cursor:"grab",data:{context:{reactivate:c}}})},Tl.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var r=this._mouse.getLastMoveEvent();this.activateHand(r,!!r)},Tl.prototype.isActive=function(){var r=this._dragging.context();return!!r&&/^(hand|hand\.move)$/.test(r.prefix)};var GE={__depends__:[Qh,Sh],__init__:["handTool"],handTool:["type",Tl]},zy="connect-ok",$y="connect-not-ok";function Al(r,s,c,l,u,h,m){var f=this;this._dragging=s,this._rules=h,this._mouse=m,u.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),r.on("global-connect.hover",function(_){var v=_.context,b=_.hover,x=v.canStartConnect=f.canStartConnect(b);null!==x&&(v.startTarget=b,l.addMarker(b,x?zy:$y))}),r.on(["global-connect.out","global-connect.cleanup"],function(_){var v=_.context.startTarget;v&&l.removeMarker(v,_.context.canStartConnect?zy:$y)}),r.on(["global-connect.ended"],function(_){var v=_.context.startTarget,b={x:_.x,y:_.y};if(f.canStartConnect(v))return r.once("element.out",function(){r.once(["connect.ended","connect.canceled"],function(){r.fire("global-connect.drag.ended")}),c.start(null,v,b)}),!1})}Al.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"],Al.prototype.start=function(r,s){this._dragging.init(r,"global-connect",{autoActivate:s,trapClick:!1,data:{context:{}}})},Al.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var r=this._mouse.getLastMoveEvent();return this.start(r,!!r)},Al.prototype.isActive=function(){var r=this._dragging.context();return r&&/^global-connect/.test(r.prefix)},Al.prototype.canStartConnect=function(r){return this._rules.allowed("connection.start",{source:r})};var Rl={__depends__:[Dv,Is,va,Qh,Sh],globalConnect:["type",Al]};function sg(r,s,c,l,u,h,m,f){this._palette=r,this._create=s,this._elementFactory=c,this._spaceTool=l,this._lassoTool=u,this._handTool=h,this._globalConnect=m,this._translate=f,r.registerProvider(this)}sg.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],sg.prototype.getPaletteEntries=function(r){var s={},c=this._create,l=this._elementFactory,u=this._spaceTool,h=this._lassoTool,m=this._handTool,f=this._globalConnect,_=this._translate;function v(E,C,k,T,I){function M(F){var N=l.createShape(ee({type:E},I));I&&(st(N).isExpanded=I.isExpanded),c.start(F,N)}var R=E.replace(/^bpmn:/,"");return{group:C,className:k,title:T||_("Create {type}",{type:R}),action:{dragstart:M,click:M}}}function b(E){var C=l.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),k=l.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:C});c.start(E,[C,k],{hints:{autoSelect:[C]}})}function x(E){c.start(E,l.createParticipantShape())}return ee(s,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:_("Activate the hand tool"),action:{click:function(E){m.activateHand(E)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:_("Activate the lasso tool"),action:{click:function(E){h.activateSelection(E)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:_("Activate the create/remove space tool"),action:{click:function(E){u.activateSelection(E)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:_("Activate the global connect tool"),action:{click:function(E){f.start(E)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":v("bpmn:StartEvent","event","bpmn-icon-start-event-none",_("Create StartEvent")),"create.intermediate-event":v("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",_("Create Intermediate/Boundary Event")),"create.end-event":v("bpmn:EndEvent","event","bpmn-icon-end-event-none",_("Create EndEvent")),"create.exclusive-gateway":v("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",_("Create Gateway")),"create.task":v("bpmn:Task","activity","bpmn-icon-task",_("Create Task")),"create.data-object":v("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",_("Create DataObjectReference")),"create.data-store":v("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",_("Create DataStoreReference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:_("Create expanded SubProcess"),action:{dragstart:b,click:b}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:_("Create Pool/Participant"),action:{dragstart:x,click:x}},"create.group":v("bpmn:Group","artifact","bpmn-icon-group",_("Create Group"))}),s};var Il={__depends__:[eS,Vd,Cl,UE,GE,Rl,Bo],__init__:["paletteProvider"],paletteProvider:["type",sg]};function Uy(r,s,c,l,u){Ee.call(this,r),r.on("shape.move.move",250,function(h){var _,m=h.context,f=m.canExecute;m.visualReplacements||(m.visualReplacements={}),f&&f.replacements?q((_=m).canExecute.replacements,function(v){var b=v.oldElementId,x={type:v.newElementType};if(!_.visualReplacements[b]){var E=s.get(b);ee(x,{x:E.x,y:E.y});var C=c.createShape(x);l.addShape(C,E.parent);var k=Cn('[data-element-id="'+xd(E.id)+'"]',_.dragGroup);k&&ve(k,{display:"none"});var T=u.addDragger(C,_.dragGroup);_.visualReplacements[b]=T,l.removeShape(C)}}):function(_){var v=_.visualReplacements;q(v,function(b,x){var E=Cn('[data-element-id="'+xd(x)+'"]',_.dragGroup);E&&ve(E,{display:"inline"}),b.remove(),v[x]&&delete v[x]})}(m)})}Uy.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"],Me(Uy,Ee);var tS={__depends__:[Mh],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",Uy]},WE=["x","y"],Br=Math.abs;function nS(r){r.on(["connect.hover","connect.move","connect.end"],1250,function(s){var _,v,b,c=s.context,l=c.canExecute,u=c.start,h=c.hover,m=c.source,f=c.target;s.originalEvent&&Wr(s.originalEvent)||(c.initialConnectionStart||(c.initialConnectionStart=c.connectionStart),l&&h&&(_=s,v=h,b=P(h,"bpmn:Task")?10:20,WE.forEach(function(x){var E=iS(x,v);_[x]<v[x]+b?Jn(_,x,v[x]+b):_[x]>v[x]+E-b&&Jn(_,x,v[x]+E-b)})),h&&function(_,v){return To(["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"],function(b){return Wy(_,b)})}(l)?(c.connectionStart=Yr(u),Bt(h,["bpmn:Event","bpmn:Gateway"])&&Gy(s,Yr(h)),Bt(h,["bpmn:Task","bpmn:SubProcess"])&&function(_,v){var b=Yr(v);WE.forEach(function(x){var E,C,k;(E=_)[k=x]>(C=v)[k]+20&&E[k]<C[k]+iS(k,C)-20&&Jn(_,x,b[x])})}(s,h),P(m,"bpmn:BoundaryEvent")&&f===m.host&&function(_){var T,I,M,v=_.context,x=v.target;if(M=(T=v).source,!(I=T.hover)||!M||I!==M){var E=Yr(v.source),C=Ii(E,x,-10),k=[];/top|bottom/.test(C)&&k.push("x"),/left|right/.test(C)&&k.push("y"),k.forEach(function(T){var M=_[T];Br(M-E[T])<40&&Jn(_,T,M>E[T]?E[T]+40:E[T]-40)})}}(s)):Wy(l,"bpmn:MessageFlow")?(P(u,"bpmn:Event")&&(c.connectionStart=Yr(u)),P(h,"bpmn:Event")&&Gy(s,Yr(h))):c.connectionStart=c.initialConnectionStart)})}function Gy(r,s){Jn(r,"x",s.x),Jn(r,"y",s.y)}function Wy(r,s){return r&&r.type===s}function iS(r,s){return"x"===r?s.width:s.height}function Te(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function ag(r){this._snapValues={}}function $s(r,s,c){var l=this;this._elementRegistry=r,s.on(["create.start","shape.move.start"],function(u){l.initSnap(u)}),s.on(["create.move","create.end","shape.move.move","shape.move.end"],1250,function(u){var h=u.context,m=h.shape,f=h.snapContext,_=h.target;if((!u.originalEvent||!Wr(u.originalEvent))&&!Ld(u)&&_){var v=f.pointsForTarget(_);v.initialized||((v=l.addSnapTargetPoints(v,m,_)).initialized=!0),c.snap(u,v)}}),s.on(["create.cleanup","shape.move.cleanup"],function(){c.hide()})}function qy(r){return!!r.labelTarget}function ls(r,s){s.invoke($s,this),r.on(["create.move","create.end"],1500,rS),r.on(["create.move","create.end","shape.move.move","shape.move.end"],1500,function(c){var m,f,_,v,b,x,l=c.context,u=l.canExecute,h=l.target;u&&("attach"===u||u.attach)&&!Ld(c)&&(m=c,v=Xe(f=h),b=fy(m,f),_=(x=m.context.shape).parent?{x:0,y:0}:tt(x),/top/.test(b)?Jn(m,"y",v.top-_.y):/bottom/.test(b)&&Jn(m,"y",v.bottom-_.y),/left/.test(b)?Jn(m,"x",v.left-_.x):/right/.test(b)&&Jn(m,"x",v.right-_.x))})}function rS(r){var s=r.context.createConstraints;if(s){var c=s.top,l=s.right,u=s.bottom,h=s.left;(h&&h>=r.x||l&&l<=r.x)&&Jn(r,"x",r.x),(c&&c>=r.y||u&&u<=r.y)&&Jn(r,"y",r.y)}}function hp(r,s){return-1!==r.indexOf(s)}function pp(r,s,c){return s?{x:r.x-c.x,y:r.y-c.y}:{x:r.x,y:r.y}}function Fn(r,s){var c=this;r.on(["resize.start"],function(l){c.initSnap(l)}),r.on(["resize.move","resize.end"],1250,function(l){var b,u=l.context,h=u.shape,m=h.parent,f=u.direction,_=u.snapContext;if(!(l.originalEvent&&Wr(l.originalEvent)||Ld(l))){var v=_.pointsForTarget(m);v.initialized||((v=c.addSnapTargetPoints(v,h,m,f)).initialized=!0),("n"===(b=f)||"s"===b)&&Jn(l,"x",l.x),function(b){return"e"===b||"w"===b}(f)&&Jn(l,"y",l.y),s.snap(l,v)}}),r.on(["resize.cleanup"],function(){s.hide()})}function oS(r,s){var c=tt(r),l=Xe(r),u={x:c.x,y:c.y};return-1!==s.indexOf("n")?u.y=l.top:-1!==s.indexOf("s")&&(u.y=l.bottom),-1!==s.indexOf("e")?u.x=l.right:-1!==s.indexOf("w")&&(u.x=l.left),u}function Fa(r){this._canvas=r,this._asyncHide=N0(Ne(this.hide,this),1e3)}nS.$inject=["eventBus"],Te.prototype.getSnapOrigin=function(r){return this._snapOrigins[r]},Te.prototype.setSnapOrigin=function(r,s){this._snapOrigins[r]=s,-1===this._snapLocations.indexOf(r)&&this._snapLocations.push(r)},Te.prototype.addDefaultSnap=function(r,s){var c=this._defaultSnaps[r];c||(c=this._defaultSnaps[r]=[]),c.push(s)},Te.prototype.getSnapLocations=function(){return this._snapLocations},Te.prototype.setSnapLocations=function(r){this._snapLocations=r},Te.prototype.pointsForTarget=function(r){var s=r.id||r,c=this._targets[s];return c||(c=this._targets[s]=new ag).initDefaults(this._defaultSnaps),c},ag.prototype.add=function(r,s){var c=this._snapValues[r];c||(c=this._snapValues[r]={x:[],y:[]}),-1===c.x.indexOf(s.x)&&c.x.push(s.x),-1===c.y.indexOf(s.y)&&c.y.push(s.y)},ag.prototype.snap=function(r,s,c,l){var u=this._snapValues[s];return u&&function(h,m,f){var _,v;for(f=void 0===f?10:f,_=0;_<m.length;_++)if(aM((v=m[_])-h)<=f)return v}(r[c],u[c],l)},ag.prototype.initDefaults=function(r){var s=this;q(r||{},function(c,l){q(c,function(u){s.add(l,u)})})},$s.$inject=["elementRegistry","eventBus","snapping"],$s.prototype.initSnap=function(r){var s,c=this._elementRegistry,l=r.context,u=l.shape,h=l.snapContext;h||(h=l.snapContext=new Te);var m=(s=c.get(u.id)?Yr(u,r):{x:r.x+Yr(u).x,y:r.y+Yr(u).y}).x-u.width/2,f=s.y-u.height/2,_=s.x+u.width/2,v=s.y+u.height/2;return h.setSnapOrigin("mid",{x:s.x-r.x,y:s.y-r.y}),qy(u)||(h.setSnapOrigin("top-left",{x:m-r.x,y:f-r.y}),h.setSnapOrigin("bottom-right",{x:_-r.x,y:v-r.y})),h},$s.prototype.addSnapTargetPoints=function(r,s,c){return q(this.getSnapTargets(s,c),function(l){if(qy(l))qy(s)&&r.add("mid",Yr(l));else if(l.waypoints){if(l.waypoints.length<3)return;q(l.waypoints.slice(1,-1),function(u){r.add("mid",u)})}else r.add("mid",Yr(l))}),Re(s.x)&&Re(s.y)&&this._elementRegistry.get(s.id)&&r.add("mid",Yr(s)),r},$s.prototype.getSnapTargets=function(r,s){return Dh(s).filter(function(c){return!c.hidden})},Me(ls,$s),ls.$inject=["eventBus","injector"],ls.prototype.initSnap=function(r){var s=$s.prototype.initSnap.call(this,r),c=r.shape,l=!!this._elementRegistry.get(c.id);return q(c.outgoing,function(u){var h=u.waypoints[0];s.setSnapOrigin(u.id+"-docking",pp(h=h.original||h,l,r))}),q(c.incoming,function(u){var h=u.waypoints[u.waypoints.length-1];s.setSnapOrigin(u.id+"-docking",pp(h=h.original||h,l,r))}),P(c,"bpmn:Participant")&&s.setSnapLocations(["top-left","bottom-right","mid"]),s},ls.prototype.addSnapTargetPoints=function(r,s,c){$s.prototype.addSnapTargetPoints.call(this,r,s,c);var l=this.getSnapTargets(s,c);q(l,function(h){var f;(P(f=h,"bpmn:SubProcess")&&zt(f)||P(f,"bpmn:Participant")||("bpmn:TextAnnotation",[s,h].every(function(f){return P(f,"bpmn:TextAnnotation")})))&&(r.add("top-left",cM(h)),r.add("bottom-right",rw(h)))});var u=this._elementRegistry;return q(s.incoming,function(h){if(u.get(s.id)){hp(l,h.source)||r.add("mid",tt(h.source));var m=h.waypoints[0];r.add(h.id+"-docking",m.original||m)}}),q(s.outgoing,function(h){if(u.get(s.id)){hp(l,h.target)||r.add("mid",tt(h.target));var m=h.waypoints[h.waypoints.length-1];r.add(h.id+"-docking",m.original||m)}}),P(c,"bpmn:SequenceFlow")&&(r=this.addSnapTargetPoints(r,s,c.parent)),r},ls.prototype.getSnapTargets=function(r,s){return $s.prototype.getSnapTargets.call(this,r,s).filter(function(c){return!P(c,"bpmn:Lane")})},Fn.prototype.initSnap=function(r){var s=r.context,c=s.shape,l=s.direction,u=s.snapContext;u||(u=s.snapContext=new Te);var h=oS(c,l);return u.setSnapOrigin("corner",{x:h.x-r.x,y:h.y-r.y}),u},Fn.prototype.addSnapTargetPoints=function(r,s,c,l){return q(this.getSnapTargets(s,c),function(u){r.add("corner",rw(u)),r.add("corner",cM(u))}),r.add("corner",oS(s,l)),r},Fn.$inject=["eventBus","snapping"],Fn.prototype.getSnapTargets=function(r,s){return Dh(s).filter(function(c){return!(c.host===r||(h=c,h.waypoints)||function(h){return!!h.hidden}(c)||function(h){return!!h.labelTarget}(c));var h})},Fa.$inject=["canvas"],Fa.prototype.snap=function(r,s){var c=r.context.snapContext,l=c.getSnapLocations(),u={x:Ld(r,"x"),y:Ld(r,"y")};q(l,function(h){var m=c.getSnapOrigin(h),f={x:r.x+m.x,y:r.y+m.y};if(q(["x","y"],function(_){var v;u[_]||void 0!==(v=s.snap(f,h,_,7))&&(u[_]={value:v,originValue:v-m[_]})}),u.x&&u.y)return!1}),this.showSnapLine("vertical",u.x&&u.x.value),this.showSnapLine("horizontal",u.y&&u.y.value),q(["x","y"],function(h){var m=u[h];on(m)&&Jn(r,h,m.originValue)})},Fa.prototype._createLine=function(r){var s=this._canvas.getLayer("snap"),c=Ye("path");return ve(c,{d:"M0,0 L0,0"}),Nt(c).add("djs-snap-line"),rt(s,c),{update:function(l){Re(l)?ve(c,"horizontal"===r?{d:"M-100000,"+l+" L+100000,"+l,display:""}:{d:"M "+l+",-100000 L "+l+", +100000",display:""}):ve(c,{display:"none"})}}},Fa.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},Fa.prototype.showSnapLine=function(r,s){var c=this.getSnapLine(r);c&&c.update(s),this._asyncHide()},Fa.prototype.getSnapLine=function(r){return this._snapLines||this._createSnapLines(),this._snapLines[r]},Fa.prototype.hide=function(){q(this._snapLines,function(r){r.update()})};var qE={__depends__:[{__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",$s],resizeSnapping:["type",Fn],snapping:["type",Fa]}],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",nS],createMoveSnapping:["type",ls]};function ht(r,s,c,l){this._open=!1,this._results=[],this._eventMaps=[],this._canvas=r,this._eventBus=s,this._overlays=c,this._selection=l,this._container=Sn(ht.BOX_HTML),this._searchInput=Cn(ht.INPUT_SELECTOR,this._container),this._resultsContainer=Cn(ht.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),s.on(["canvas.destroy","diagram.destroy"],this.close,this)}function Ky(r,s,c){var m,l=(m="",s.forEach(function(f){m+=f.matched?'<strong class="'+ht.RESULT_HIGHLIGHT_CLASS+'">'+Sm(f.matched)+"</strong>":Sm(f.normal)}),""!==m?m:null),u=Sn(c);u.innerHTML=l,r.appendChild(u)}ht.$inject=["canvas","eventBus","overlays","selection"],ht.prototype._bindEvents=function(){var r=this;function s(c,l,u,h){r._eventMaps.push({el:c,type:u,listener:Io_bind(c,l,u,h)})}s(document,"html","click",function(c){r.close()}),s(this._container,ht.INPUT_SELECTOR,"click",function(c){c.stopPropagation(),c.delegateTarget.focus()}),s(this._container,ht.RESULT_SELECTOR,"mouseover",function(c){c.stopPropagation(),r._scrollToNode(c.delegateTarget),r._preselect(c.delegateTarget)}),s(this._container,ht.RESULT_SELECTOR,"click",function(c){c.stopPropagation(),r._select(c.delegateTarget)}),s(this._container,ht.INPUT_SELECTOR,"keydown",function(c){Fi("ArrowUp",c)&&c.preventDefault(),Fi("ArrowDown",c)&&c.preventDefault()}),s(this._container,ht.INPUT_SELECTOR,"keyup",function(c){if(Fi("Escape",c))return r.close();if(Fi("Enter",c)){var l=r._getCurrentResult();return l?r._select(l):r.close()}return Fi("ArrowUp",c)?r._scrollToDirection(!0):Fi("ArrowDown",c)?r._scrollToDirection():void(Fi(["ArrowLeft","ArrowRight"],c)||r._search(c.delegateTarget.value))})},ht.prototype._unbindEvents=function(){this._eventMaps.forEach(function(r){Io_unbind(r.el,r.type,r.listener)})},ht.prototype._search=function(r){var s=this;if(this._clearResults(),r&&""!==r){var c=this._searchProvider.find(r);if(c.length){c.forEach(function(u){var h=u.element.id,m=s._createResultNode(u,h);s._results[h]={element:u.element,node:m}});var l=Cn(ht.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(l),this._preselect(l)}}},ht.prototype._scrollToDirection=function(r){var s=this._getCurrentResult();if(s){var c=r?s.previousElementSibling:s.nextElementSibling;c&&(this._scrollToNode(c),this._preselect(c))}},ht.prototype._scrollToNode=function(r){if(r&&r!==this._getCurrentResult()){var s=r.offsetTop,c=this._resultsContainer.scrollTop,l=s-this._resultsContainer.clientHeight+r.clientHeight;s<c?this._resultsContainer.scrollTop=s:c<l&&(this._resultsContainer.scrollTop=l)}},ht.prototype._clearResults=function(){Lu(this._resultsContainer),this._results=[],this._resetOverlay(),this._eventBus.fire("searchPad.cleared")},ht.prototype._getCurrentResult=function(){return Cn(ht.RESULT_SELECTED_SELECTOR,this._resultsContainer)},ht.prototype._createResultNode=function(r,s){var c=Sn(ht.RESULT_HTML);return r.primaryTokens.length>0&&Ky(c,r.primaryTokens,ht.RESULT_PRIMARY_HTML),Ky(c,r.secondaryTokens,ht.RESULT_SECONDARY_HTML),Tr(c,ht.RESULT_ID_ATTRIBUTE,s),this._resultsContainer.appendChild(c),c},ht.prototype.registerProvider=function(r){this._searchProvider=r},ht.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._bindEvents(),this._open=!0,Ai(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))},ht.prototype.close=function(){this.isOpen()&&(this._unbindEvents(),this._open=!1,Ai(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._resetOverlay(),this._eventBus.fire("searchPad.closed"))},ht.prototype.toggle=function(){this.isOpen()?this.close():this.open()},ht.prototype.isOpen=function(){return this._open},ht.prototype._preselect=function(r){var s=this._getCurrentResult();if(r!==s){s&&Ai(s).remove(ht.RESULT_SELECTED_CLASS);var c=Tr(r,ht.RESULT_ID_ATTRIBUTE),l=this._results[c].element;Ai(r).add(ht.RESULT_SELECTED_CLASS),this._resetOverlay(l),this._canvas.scrollToElement(l,{top:400}),this._selection.select(l),this._eventBus.fire("searchPad.preselected",l)}},ht.prototype._select=function(r){var s=Tr(r,ht.RESULT_ID_ATTRIBUTE),c=this._results[s].element;this.close(),this._resetOverlay(),this._canvas.scrollToElement(c,{top:400}),this._selection.select(c),this._eventBus.fire("searchPad.selected",c)},ht.prototype._resetOverlay=function(r){if(this._overlayId&&this._overlays.remove(this._overlayId),r){var s=(m={width:(u=(c=ri(r)).width+2*6)+"px",height:(h=c.height+12)+"px"},nr(f=Sn('<div class="'+ht.OVERLAY_CLASS+'"></div>'),m),{position:{bottom:h-6,right:u-6},show:!0,html:f});this._overlayId=this._overlays.add(r,s)}var c,u,h,m,f},ht.CONTAINER_SELECTOR=".djs-search-container",ht.INPUT_SELECTOR=".djs-search-input input",ht.RESULTS_CONTAINER_SELECTOR=".djs-search-results",ht.RESULT_SELECTOR=".djs-search-result",ht.RESULT_SELECTED_SELECTOR="."+(ht.RESULT_SELECTED_CLASS="djs-search-result-selected"),ht.RESULT_ID_ATTRIBUTE="data-result-id",ht.RESULT_HIGHLIGHT_CLASS="djs-search-highlight",ht.OVERLAY_CLASS="djs-search-overlay",ht.BOX_HTML='<div class="djs-search-container djs-draggable djs-scrollable"><div class="djs-search-input"><input type="text"/></div><div class="djs-search-results"></div></div>',ht.RESULT_HTML='<div class="djs-search-result"></div>',ht.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>',ht.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';var KE={__depends__:[z_,Jo],searchPad:["type",ht]};function cg(r,s,c){this._elementRegistry=r,this._canvas=c,s.registerProvider(this)}function Yy(r){return pt(r,function(c){return!!c.matched}).length>0}function YE(r,s){var c=[],l=r;if(!r)return c;r=r.toLowerCase(),s=s.toLowerCase();var u=r.indexOf(s);return u>-1?(0!==u&&c.push({normal:l.substr(0,u)}),c.push({matched:l.substr(u,s.length)}),s.length+u<r.length&&c.push({normal:l.substr(s.length+u,r.length)})):c.push({normal:l}),c}cg.$inject=["elementRegistry","searchPad","canvas"],cg.prototype.find=function(r){var s=this._canvas.getRootElement(),c=this._elementRegistry.filter(function(l){return!l.labelTarget});return c=pt(c,function(l){return l!==s}),Yo(c=pt(c=ii(c,function(l){return{primaryTokens:YE(Lo(l),r),secondaryTokens:YE(l.id,r),element:l}}),function(l){return Yy(l.primaryTokens)||Yy(l.secondaryTokens)}),function(l){return Lo(l.element)+l.element.id})};var sS={__depends__:[KE],__init__:["bpmnSearch"],bpmnSearch:["type",cg]};function Us(r){pd.call(this,r)}return Me(Us,pd),Us.Viewer=Ms,Us.NavigatedViewer=Rm,Us.prototype.createDiagram=Xc(function(){return this.importXML('<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>')}),Us.prototype._modules=[].concat(Ms.prototype._modules,Us.prototype._interactionModules=[Tm,Am,Z_,zk],Us.prototype._modelingModules=[vh,rM,sM,lv,ow,Dv,Os,ww,Iv,Vd,Hd,EM,DM,wa,kM,Rw,RM,FE,YM,Il,tS,Nw,qE,sS]),Us}()},327:function(qo,rd){var Ko,Me;void 0!==(Me="function"==typeof(Ko=function(){"use strict";function zn(Ht,Ae,on){var Re=new XMLHttpRequest;Re.open("GET",Ht),Re.responseType="blob",Re.onload=function(){_n(Re.response,Ae,on)},Re.onerror=function(){console.error("could not download file")},Re.send()}function qt(Ht){var Ae=new XMLHttpRequest;Ae.open("HEAD",Ht,!1);try{Ae.send()}catch{}return 200<=Ae.status&&299>=Ae.status}function hr(Ht){try{Ht.dispatchEvent(new MouseEvent("click"))}catch{var Ae=document.createEvent("MouseEvents");Ae.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Ht.dispatchEvent(Ae)}}var Ti="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,pr=Ti.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),_n=Ti.saveAs||("object"!=typeof window||window!==Ti?function(){}:"download"in HTMLAnchorElement.prototype&&!pr?function(Ht,Ae,on){var Re=Ti.URL||Ti.webkitURL,mn=document.createElement("a");mn.download=Ae=Ae||Ht.name||"download",mn.rel="noopener","string"==typeof Ht?(mn.href=Ht,mn.origin===location.origin?hr(mn):qt(mn.href)?zn(Ht,Ae,on):hr(mn,mn.target="_blank")):(mn.href=Re.createObjectURL(Ht),setTimeout(function(){Re.revokeObjectURL(mn.href)},4e4),setTimeout(function(){hr(mn)},0))}:"msSaveOrOpenBlob"in navigator?function(Ht,Ae,on){if(Ae=Ae||Ht.name||"download","string"!=typeof Ht)navigator.msSaveOrOpenBlob(function So(Ht,Ae){return typeof Ae>"u"?Ae={autoBom:!1}:"object"!=typeof Ae&&(console.warn("Deprecated: Expected third argument to be a object"),Ae={autoBom:!Ae}),Ae.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Ht.type)?new Blob(["\ufeff",Ht],{type:Ht.type}):Ht}(Ht,on),Ae);else if(qt(Ht))zn(Ht,Ae,on);else{var Re=document.createElement("a");Re.href=Ht,Re.target="_blank",setTimeout(function(){hr(Re)})}}:function(Ht,Ae,on,Re){if((Re=Re||open("","_blank"))&&(Re.document.title=Re.document.body.innerText="downloading..."),"string"==typeof Ht)return zn(Ht,Ae,on);var mn="application/octet-stream"===Ht.type,Mr=/constructor/i.test(Ti.HTMLElement)||Ti.safari,Sr=/CriOS\/[\d]+/.test(navigator.userAgent);if((Sr||mn&&Mr||pr)&&typeof FileReader<"u"){var wt=new FileReader;wt.onloadend=function(){var q=wt.result;q=Sr?q:q.replace(/^data:[^;]*;/,"data:attachment/file;"),Re?Re.location.href=q:location=q,Re=null},wt.readAsDataURL(Ht)}else{var Wa=Ti.URL||Ti.webkitURL,pt=Wa.createObjectURL(Ht);Re?Re.location=pt:location.href=pt,Re=null,setTimeout(function(){Wa.revokeObjectURL(pt)},4e4)}});Ti.saveAs=_n.saveAs=_n,qo.exports=_n})?Ko.apply(rd,[]):Ko)&&(qo.exports=Me)},156:qo=>{function rd(Dt,Me,So,zn,qt,hr,Ti){try{var pr=Dt[hr](Ti),_n=pr.value}catch(Ht){return void So(Ht)}pr.done?Me(_n):Promise.resolve(_n).then(zn,qt)}qo.exports=function Ko(Dt){return function(){var Me=this,So=arguments;return new Promise(function(zn,qt){var hr=Dt.apply(Me,So);function Ti(_n){rd(hr,zn,qt,Ti,pr,"next",_n)}function pr(_n){rd(hr,zn,qt,Ti,pr,"throw",_n)}Ti(void 0)})}},qo.exports.__esModule=!0,qo.exports.default=qo.exports}},qo=>{qo(qo.s=659)}]);